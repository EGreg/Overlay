!function(b,a){"object"==typeof module&&"object"==typeof module.exports?module.exports=b.document?a(b,!0):function(b){if(!b.document)throw Error("jQuery requires a window with a document");return a(b)}:a(b)}("undefined"!=typeof window?window:this,function(b,a){function K(a){var d=a.length,c=f.type(a);return"function"===c||f.isWindow(a)?!1:1===a.nodeType&&d?!0:"array"===c||0===d||"number"==typeof d&&0<d&&d-1 in a}function P(a,d,c){if(f.isFunction(d))return f.grep(a,function(a,I){return!!d.call(a,I,
a)!==c});if(d.nodeType)return f.grep(a,function(a){return a===d!==c});if("string"==typeof d){if(Za.test(d))return f.filter(d,a,c);d=f.filter(d,a)}return f.grep(a,function(a){return 0<=f.inArray(a,d)!==c})}function D(a,d){do a=a[d];while(a&&1!==a.nodeType);return a}function z(a){var d=t[a]={};return f.each(a.match(m)||[],function(a,I){d[I]=!0}),d}function F(){R.addEventListener?(R.removeEventListener("DOMContentLoaded",k,!1),b.removeEventListener("load",k,!1)):(R.detachEvent("onreadystatechange",k),
b.detachEvent("onload",k))}function k(){(R.addEventListener||"load"===event.type||"complete"===R.readyState)&&(F(),f.ready())}function q(a,d,c){if(void 0===c&&1===a.nodeType){var b="data-"+d.replace(va,"-$1").toLowerCase();if(c=a.getAttribute(b),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:V.test(c)?f.parseJSON(c):c}catch(h){}f.data(a,d,c)}else c=void 0}return c}function v(a){for(var d in a)if(("data"!==d||!f.isEmptyObject(a[d]))&&"toJSON"!==d)return!1;return!0}
function l(a,d,c,b){if(f.acceptData(a)){var h,m,t=f.expando,e=a.nodeType,y=e?f.cache:a,E=e?a[t]:a[t]&&t;if(E&&y[E]&&(b||y[E].data)||void 0!==c||"string"!=typeof d)return E||(E=e?a[t]=w.pop()||f.guid++:t),y[E]||(y[E]=e?{}:{toJSON:f.noop}),("object"==typeof d||"function"==typeof d)&&(b?y[E]=f.extend(y[E],d):y[E].data=f.extend(y[E].data,d)),m=y[E],b||(m.data||(m.data={}),m=m.data),void 0!==c&&(m[f.camelCase(d)]=c),"string"==typeof d?(h=m[d],null==h&&(h=m[f.camelCase(d)])):h=m,h}}function A(a,d,c){if(f.acceptData(a)){var b,
h,m=a.nodeType,t=m?f.cache:a,e=m?a[f.expando]:f.expando;if(t[e]){if(d&&(b=c?t[e]:t[e].data)){f.isArray(d)?d=d.concat(f.map(d,f.camelCase)):d in b?d=[d]:(d=f.camelCase(d),d=d in b?[d]:d.split(" "));for(h=d.length;h--;)delete b[d[h]];if(c?!v(b):!f.isEmptyObject(b))return}(c||(delete t[e].data,v(t[e])))&&(m?f.cleanData([a],!0):G.deleteExpando||t!=t.window?delete t[e]:t[e]=null)}}}function g(){return!0}function e(){return!1}function J(){try{return R.activeElement}catch(a){}}function r(a){var d=Da.split("|");
a=a.createDocumentFragment();if(a.createElement)for(;d.length;)a.createElement(d.pop());return a}function aa(a,d){var c,b,h=0,m="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(d||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(d||"*"):void 0;if(!m)for(m=[],c=a.childNodes||a;null!=(b=c[h]);h++)!d||f.nodeName(b,d)?m.push(b):f.merge(m,aa(b,d));return void 0===d||d&&f.nodeName(a,d)?f.merge([a],m):m}function u(a){Wa.test(a.type)&&(a.defaultChecked=a.checked)}function X(a,
d){return f.nodeName(a,"table")&&f.nodeName(11!==d.nodeType?d:d.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function T(a){return a.type=(null!==f.find.attr(a,"type"))+"/"+a.type,a}function M(a){var d=Lb.exec(a.type);return d?a.type=d[1]:a.removeAttribute("type"),a}function wa(a,d){for(var c,b=0;null!=(c=a[b]);b++)f._data(c,"globalEval",!d||f._data(d[b],"globalEval"))}function ga(a,d){if(1===d.nodeType&&f.hasData(a)){var c,b,h;b=f._data(a);
var m=f._data(d,b),t=b.events;if(t)for(c in delete m.handle,m.events={},t)for(b=0,h=t[c].length;h>b;b++)f.event.add(d,c,t[c][b]);m.data&&(m.data=f.extend({},m.data))}}function ja(a,d){var c,h=f(d.createElement(a)).appendTo(d.body),m=b.getDefaultComputedStyle&&(c=b.getDefaultComputedStyle(h[0]))?c.display:f.css(h[0],"display");return h.detach(),m}function ba(a){var d=R,c=qb[a];return c||(c=ja(a,d),"none"!==c&&c||(Xa=(Xa||f("<iframe frameborder='0' width='0' height='0'/>")).appendTo(d.documentElement),
d=(Xa[0].contentWindow||Xa[0].contentDocument).document,d.write(),d.close(),c=ja(a,d),Xa.detach()),qb[a]=c),c}function la(a,d){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=d).apply(this,arguments)}}}function ea(a,d){if(d in a)return d;for(var c=d.charAt(0).toUpperCase()+d.slice(1),b=d,h=rb.length;h--;)if(d=rb[h]+c,d in a)return d;return b}function pa(a,d){for(var c,b,h,m=[],t=0,e=a.length;e>t;t++)b=a[t],b.style&&(m[t]=f._data(b,"olddisplay"),c=b.style.display,
d?(m[t]||"none"!==c||(b.style.display=""),""===b.style.display&&ma(b)&&(m[t]=f._data(b,"olddisplay",ba(b.nodeName)))):(h=ma(b),(c&&"none"!==c||!h)&&f._data(b,"olddisplay",h?c:f.css(b,"display"))));for(t=0;e>t;t++)b=a[t],b.style&&(d&&"none"!==b.style.display&&""!==b.style.display||(b.style.display=d?m[t]||"":"none"));return a}function H(a,d,c){return(a=Mb.exec(d))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):d}function ha(a,d,c,b,h){d=c===(b?"border":"content")?4:"width"===d?1:0;for(var m=0;4>d;d+=2)"margin"===
c&&(m+=f.css(a,c+ca[d],!0,h)),b?("content"===c&&(m-=f.css(a,"padding"+ca[d],!0,h)),"margin"!==c&&(m-=f.css(a,"border"+ca[d]+"Width",!0,h))):(m+=f.css(a,"padding"+ca[d],!0,h),"padding"!==c&&(m+=f.css(a,"border"+ca[d]+"Width",!0,h)));return m}function qa(a,d,c){var b=!0,h="width"===d?a.offsetWidth:a.offsetHeight,m=Ma(a),t=G.boxSizing&&"border-box"===f.css(a,"boxSizing",!1,m);if(0>=h||null==h){if(h=Na(a,d,m),(0>h||null==h)&&(h=a.style[d]),ab.test(h))return h;b=t&&(G.boxSizingReliable()||h===a.style[d]);
h=parseFloat(h)||0}return h+ha(a,d,c||(t?"border":"content"),b,m)+"px"}function C(a,d,c,b,h){return new C.prototype.init(a,d,c,b,h)}function ka(){return setTimeout(function(){Ra=void 0}),Ra=f.now()}function ta(a,d){var c,b={height:a},h=0;for(d=d?1:0;4>h;h+=2-d)c=ca[h],b["margin"+c]=b["padding"+c]=a;return d&&(b.opacity=b.width=a),b}function O(a,d,c){for(var b,h=(Ya[d]||[]).concat(Ya["*"]),f=0,m=h.length;m>f;f++)if(b=h[f].call(c,d,a))return b}function Ea(a,d){var c,b,h,m,t;for(c in a)if(b=f.camelCase(c),
h=d[b],m=a[c],f.isArray(m)&&(h=m[1],m=a[c]=m[0]),c!==b&&(a[b]=m,delete a[c]),t=f.cssHooks[b],t&&"expand"in t)for(c in m=t.expand(m),delete a[b],m)c in a||(a[c]=m[c],d[c]=h);else d[b]=h}function S(a,d,c){var b,h=0,m=bb.length,t=f.Deferred().always(function(){delete e.elem}),e=function(){if(b)return!1;for(var d=Ra||ka(),d=Math.max(0,y.startTime+y.duration-d),c=1-(d/y.duration||0),h=0,Z=y.tweens.length;Z>h;h++)y.tweens[h].run(c);return t.notifyWith(a,[y,c,d]),1>c&&Z?d:(t.resolveWith(a,[y]),!1)},y=t.promise({elem:a,
props:f.extend({},d),opts:f.extend(!0,{specialEasing:{}},c),originalProperties:d,originalOptions:c,startTime:Ra||ka(),duration:c.duration,tweens:[],createTween:function(d,c){var b=f.Tween(a,y.opts,d,c,y.opts.specialEasing[d]||y.opts.easing);return y.tweens.push(b),b},stop:function(d){var c=0,h=d?y.tweens.length:0;if(b)return this;for(b=!0;h>c;c++)y.tweens[c].run(1);return d?t.resolveWith(a,[y,d]):t.rejectWith(a,[y,d]),this}});c=y.props;for(Ea(c,y.opts.specialEasing);m>h;h++)if(d=bb[h].call(y,a,c,
y.opts))return d;return f.map(c,O,y),f.isFunction(y.opts.start)&&y.opts.start.call(a,y),f.fx.timer(f.extend(e,{elem:a,anim:y,queue:y.opts.queue})),y.progress(y.opts.progress).done(y.opts.done,y.opts.complete).fail(y.opts.fail).always(y.opts.always)}function U(a){return function(d,c){"string"!=typeof d&&(c=d,d="*");var b,h=0,t=d.toLowerCase().match(m)||[];if(f.isFunction(c))for(;b=t[h++];)"+"===b.charAt(0)?(b=b.slice(1)||"*",(a[b]=a[b]||[]).unshift(c)):(a[b]=a[b]||[]).push(c)}}function ya(a,d,c,b){function h(e){var y;
return m[e]=!0,f.each(a[e]||[],function(a,I){var f=I(d,c,b);return"string"!=typeof f||t||m[f]?t?!(y=f):void 0:(d.dataTypes.unshift(f),h(f),!1)}),y}var m={},t=a===gb;return h(d.dataTypes[0])||!m["*"]&&h("*")}function da(a,d){var c,b,h=f.ajaxSettings.flatOptions||{};for(b in d)void 0!==d[b]&&((h[b]?a:c||(c={}))[b]=d[b]);return c&&f.extend(!0,a,c),a}function fa(a,d,c,b){var h;if(f.isArray(d))f.each(d,function(d,h){c||Nb.test(a)?b(a,h):fa(a+"["+("object"==typeof h?d:"")+"]",h,c,b)});else if(c||"object"!==
f.type(d))b(a,d);else for(h in d)fa(a+"["+h+"]",d[h],c,b)}function ua(){try{return new b.XMLHttpRequest}catch(a){}}function n(a){return f.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var w=[],B=w.slice,ia=w.concat,L=w.push,N=w.indexOf,na={},W=na.toString,ra=na.hasOwnProperty,G={},f=function(a,d){return new f.fn.init(a,d)},Fa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,za=/^-ms-/,Sa=/-([\da-z])/gi,Ga=function(a,d){return d.toUpperCase()};f.fn=f.prototype={jquery:"1.11.1",constructor:f,selector:"",
length:0,toArray:function(){return B.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:B.call(this)},pushStack:function(a){a=f.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a,d){return f.each(this,a,d)},map:function(a){return this.pushStack(f.map(this,function(d,c){return a.call(d,c,d)}))},slice:function(){return this.pushStack(B.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var d=
this.length;a=+a+(0>a?d:0);return this.pushStack(0<=a&&d>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:L,sort:w.sort,splice:w.splice};f.extend=f.fn.extend=function(){var a,d,c,b,h,m,t=arguments[0]||{},e=1,y=arguments.length,E=!1;"boolean"==typeof t&&(E=t,t=arguments[e]||{},e++);"object"==typeof t||f.isFunction(t)||(t={});for(e===y&&(t=this,e--);y>e;e++)if(null!=(h=arguments[e]))for(b in h)a=t[b],c=h[b],t!==c&&(E&&c&&(f.isPlainObject(c)||(d=f.isArray(c)))?(d?
(d=!1,m=a&&f.isArray(a)?a:[]):m=a&&f.isPlainObject(a)?a:{},t[b]=f.extend(E,m,c)):void 0!==c&&(t[b]=c));return t};f.extend({expando:"jQuery"+("1.11.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===f.type(a)},isArray:Array.isArray||function(a){return"array"===f.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!f.isArray(a)&&0<=a-parseFloat(a)},isEmptyObject:function(a){for(var d in a)return!1;
return!0},isPlainObject:function(a){var d;if(!a||"object"!==f.type(a)||a.nodeType||f.isWindow(a))return!1;try{if(a.constructor&&!ra.call(a,"constructor")&&!ra.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(G.ownLast)for(d in a)return ra.call(a,d);for(d in a);return void 0===d||ra.call(a,d)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?na[W.call(a)]||"object":typeof a},globalEval:function(a){a&&f.trim(a)&&(b.execScript||function(a){b.eval.call(b,
a)})(a)},camelCase:function(a){return a.replace(za,"ms-").replace(Sa,Ga)},nodeName:function(a,d){return a.nodeName&&a.nodeName.toLowerCase()===d.toLowerCase()},each:function(a,d,c){var b,h=0,f=a.length,m=K(a);if(c)if(m)for(;f>h&&(b=d.apply(a[h],c),!1!==b);h++);else for(h in a){if(b=d.apply(a[h],c),!1===b)break}else if(m)for(;f>h&&(b=d.call(a[h],h,a[h]),!1!==b);h++);else for(h in a)if(b=d.call(a[h],h,a[h]),!1===b)break;return a},trim:function(a){return null==a?"":(a+"").replace(Fa,"")},makeArray:function(a,
d){var c=d||[];return null!=a&&(K(Object(a))?f.merge(c,"string"==typeof a?[a]:a):L.call(c,a)),c},inArray:function(a,d,c){var b;if(d){if(N)return N.call(d,a,c);b=d.length;for(c=c?0>c?Math.max(0,b+c):c:0;b>c;c++)if(c in d&&d[c]===a)return c}return-1},merge:function(a,d){for(var c=+d.length,b=0,h=a.length;c>b;)a[h++]=d[b++];if(c!==c)for(;void 0!==d[b];)a[h++]=d[b++];return a.length=h,a},grep:function(a,d,c){for(var b=[],h=0,f=a.length,m=!c;f>h;h++)c=!d(a[h],h),c!==m&&b.push(a[h]);return b},map:function(a,
d,c){var b,h=0,f=a.length,m=[];if(K(a))for(;f>h;h++)b=d(a[h],h,c),null!=b&&m.push(b);else for(h in a)b=d(a[h],h,c),null!=b&&m.push(b);return ia.apply([],m)},guid:1,proxy:function(a,d){var c,b,h;return"string"==typeof d&&(h=a[d],d=a,a=h),f.isFunction(a)?(c=B.call(arguments,2),b=function(){return a.apply(d||this,c.concat(B.call(arguments)))},b.guid=a.guid=a.guid||f.guid++,b):void 0},now:function(){return+new Date},support:G});f.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(a,d){na["[object "+d+"]"]=d.toLowerCase()});var Ba=function(a){function d(a,c,b,h){var I,f,m,Z,t;if((c?c.ownerDocument||c:z)!==ca&&N(c),c=c||ca,b=b||[],!a||"string"!=typeof a)return b;if(1!==(Z=c.nodeType)&&9!==Z)return[];if(W&&!h){if(I=Fa.exec(a))if(m=I[1])if(9===Z){if(f=c.getElementById(m),!f||!f.parentNode)return b;if(f.id===m)return b.push(f),b}else{if(c.ownerDocument&&(f=c.ownerDocument.getElementById(m))&&q(c,f)&&f.id===m)return b.push(f),b}else{if(I[2])return ga.apply(b,c.getElementsByTagName(a)),
b;if((m=I[3])&&B.getElementsByClassName&&c.getElementsByClassName)return ga.apply(b,c.getElementsByClassName(m)),b}if(B.qsa&&(!ia||!ia.test(a))){if(f=I=G,m=c,t=9===Z&&a,1===Z&&"object"!==c.nodeName.toLowerCase()){Z=T(a);(I=c.getAttribute("id"))?f=I.replace(Ga,"\\$&"):c.setAttribute("id",f);f="[id='"+f+"'] ";for(m=Z.length;m--;)Z[m]=f+l(Z[m]);m=ta.test(a)&&E(c.parentNode)||c;t=Z.join(",")}if(t)try{return ga.apply(b,m.querySelectorAll(t)),b}catch(Y){}finally{I||c.removeAttribute("id")}}}return A(a.replace(R,
"$1"),c,b,h)}function c(){function a(c,b){return d.push(c+" ")>w.cacheLength&&delete a[d.shift()],a[c+" "]=b}var d=[];return a}function b(a){return a[G]=!0,a}function h(a){var d=ca.createElement("div");try{return!!a(d)}catch(c){return!1}finally{d.parentNode&&d.parentNode.removeChild(d)}}function f(a,d){for(var c=a.split("|"),b=a.length;b--;)w.attrHandle[c[b]]=d}function m(a,d){var c=d&&a,b=c&&1===a.nodeType&&1===d.nodeType&&(~d.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(b)return b;
if(c)for(;c=c.nextSibling;)if(c===d)return-1;return a?1:-1}function t(a){return function(d){return"input"===d.nodeName.toLowerCase()&&d.type===a}}function e(a){return function(d){var c=d.nodeName.toLowerCase();return("input"===c||"button"===c)&&d.type===a}}function y(a){return b(function(d){return d=+d,b(function(c,b){for(var h,I=a([],c.length,d),f=I.length;f--;)c[h=I[f]]&&(c[h]=!(b[h]=c[h]))})})}function E(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function n(){}function l(a){for(var d=
0,c=a.length,b="";c>d;d++)b+=a[d].value;return b}function g(a,d,c){var b=d.dir,h=c&&"parentNode"===b,I=D++;return d.first?function(d,c,I){for(;d=d[b];)if(1===d.nodeType||h)return a(d,c,I)}:function(d,c,f){var m,Z,t=[na,I];if(f)for(;d=d[b];){if((1===d.nodeType||h)&&a(d,c,f))return!0}else for(;d=d[b];)if(1===d.nodeType||h){if(Z=d[G]||(d[G]={}),(m=Z[b])&&m[0]===na&&m[1]===I)return t[2]=m[2];if(Z[b]=t,t[2]=a(d,c,f))return!0}}}function u(a){return 1<a.length?function(d,c,b){for(var h=a.length;h--;)if(!a[h](d,
c,b))return!1;return!0}:a[0]}function V(a,d,c,b,h){for(var I,f=[],m=0,Z=a.length,t=null!=d;Z>m;m++)(I=a[m])&&(!c||c(I,b,h))&&(f.push(I),t&&d.push(m));return f}function va(a,c,h,I,f,m){return I&&!I[G]&&(I=va(I)),f&&!f[G]&&(f=va(f,m)),b(function(b,m,t,Y){var e,y,sa=[],E=[],n=m.length,oa;if(!(oa=b)){oa=c||"*";for(var l=t.nodeType?[t]:t,g=[],u=0,$a=l.length;$a>u;u++)d(oa,l[u],g);oa=g}oa=!a||!b&&c?oa:V(oa,sa,a,t,Y);l=h?f||(b?a:n||I)?[]:m:oa;if(h&&h(oa,l,t,Y),I)for(e=V(l,E),I(e,[],t,Y),t=e.length;t--;)(y=
e[t])&&(l[E[t]]=!(oa[E[t]]=y));if(b){if(f||a){if(f){e=[];for(t=l.length;t--;)(y=l[t])&&e.push(oa[t]=y);f(null,l=[],e,Y)}for(t=l.length;t--;)(y=l[t])&&-1<(e=f?ja.call(b,y):sa[t])&&(b[e]=!(m[e]=y))}}else l=V(l===m?l.splice(n,l.length):l),f?f(null,m,l,Y):ga.apply(m,l)})}function k(a){var d,c,b,h=a.length,I=w.relative[a[0].type];c=I||w.relative[" "];for(var f=I?1:0,m=g(function(a){return a===d},c,!0),Z=g(function(a){return-1<ja.call(d,a)},c,!0),t=[function(a,c,b){return!I&&(b||c!==Aa)||((d=c).nodeType?
m(a,c,b):Z(a,c,b))}];h>f;f++)if(c=w.relative[a[f].type])t=[g(u(t),c)];else{if(c=w.filter[a[f].type].apply(null,a[f].matches),c[G]){for(b=++f;h>b&&!w.relative[a[b].type];b++);return va(1<f&&u(t),1<f&&l(a.slice(0,f-1).concat({value:" "===a[f-2].type?"*":""})).replace(R,"$1"),c,b>f&&k(a.slice(f,b)),h>b&&k(a=a.slice(b)),h>b&&l(a))}t.push(c)}return u(t)}function v(a,c){var h=0<c.length,I=0<a.length,f=function(b,f,m,t,Y){var e,y,sa,E=0,n="0",l=b&&[],oa=[],g=Aa,u=b||I&&w.find.TAG("*",Y),$a=na+=null==g?1:
Math.random()||.1,B=u.length;for(Y&&(Aa=f!==ca&&f);n!==B&&null!=(e=u[n]);n++){if(I&&e){for(y=0;sa=a[y++];)if(sa(e,f,m)){t.push(e);break}Y&&(na=$a)}h&&((e=!sa&&e)&&E--,b&&l.push(e))}if(E+=n,h&&n!==E){for(y=0;sa=c[y++];)sa(l,oa,f,m);if(b){if(0<E)for(;n--;)l[n]||oa[n]||(oa[n]=O.call(t));oa=V(oa)}ga.apply(t,oa);Y&&!b&&0<oa.length&&1<E+c.length&&d.uniqueSort(t)}return Y&&(na=$a,Aa=g),l};return h?b(f):f}var J,B,w,r,X,T,L,A,Aa,M,C,N,ca,ma,W,ia,aa,F,q,G="sizzle"+-new Date,z=a.document,na=0,D=0,Ia=c(),Ua=
c(),qa=c(),H=function(a,d){return a===d&&(C=!0),0},wa={}.hasOwnProperty,ra=[],O=ra.pop,Wa=ra.push,ga=ra.push,ea=ra.slice,ja=ra.indexOf||function(a){for(var d=0,c=this.length;c>d;d++)if(this[d]===a)return d;return-1},P="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),ka="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+P+"))|)[\\x20\\t\\r\\n\\f]*\\]",S=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+
ka+")*)|.*)\\)|)",R=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ba=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,pa=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,U=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),K=new RegExp(S),za=new RegExp("^"+P+"$"),la={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+ka),PSEUDO:new RegExp("^"+
S),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},Ha=/^(?:input|select|textarea|button)$/i,hb=/^h\d$/i,
Oa=/^[^{]+\{\s*\[native \w/,Fa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ta=/[+~]/,Ga=/'|\\/g,Da=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),Ja=function(a,d,c){a="0x"+d-65536;return a!==a||c?d:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)};try{ga.apply(ra=ea.call(z.childNodes),z.childNodes),ra[z.childNodes.length].nodeType}catch(nc){ga={apply:ra.length?function(a,d){Wa.apply(a,ea.call(d))}:function(a,d){for(var c=a.length,b=0;a[c++]=d[b++];);
a.length=c-1}}}B=d.support={};X=d.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};N=d.setDocument=function(a){var d,c=a?a.ownerDocument||a:z;a=c.defaultView;return c!==ca&&9===c.nodeType&&c.documentElement?(ca=c,ma=c.documentElement,W=!X(c),a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){N()},!1):a.attachEvent&&a.attachEvent("onunload",function(){N()})),B.attributes=h(function(a){return a.className="i",!a.getAttribute("className")}),
B.getElementsByTagName=h(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),B.getElementsByClassName=Oa.test(c.getElementsByClassName)&&h(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),B.getById=h(function(a){return ma.appendChild(a).id=G,!c.getElementsByName||!c.getElementsByName(G).length}),B.getById?(w.find.ID=function(a,d){if("undefined"!==typeof d.getElementById&&
W){var c=d.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var d=a.replace(Da,Ja);return function(a){return a.getAttribute("id")===d}}):(delete w.find.ID,w.filter.ID=function(a){var d=a.replace(Da,Ja);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===d}}),w.find.TAG=B.getElementsByTagName?function(a,d){return"undefined"!==typeof d.getElementsByTagName?d.getElementsByTagName(a):void 0}:function(a,d){var c,b=[],h=0,I=
d.getElementsByTagName(a);if("*"===a){for(;c=I[h++];)1===c.nodeType&&b.push(c);return b}return I},w.find.CLASS=B.getElementsByClassName&&function(a,d){return"undefined"!==typeof d.getElementsByClassName&&W?d.getElementsByClassName(a):void 0},aa=[],ia=[],(B.qsa=Oa.test(c.querySelectorAll))&&(h(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>";a.querySelectorAll("[msallowclip^='']").length&&ia.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||
ia.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||ia.push(":checked")}),h(function(a){var d=c.createElement("input");d.setAttribute("type","hidden");a.appendChild(d).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&ia.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||ia.push(":enabled",":disabled");
a.querySelectorAll("*,:x");ia.push(",.*:")})),(B.matchesSelector=Oa.test(F=ma.matches||ma.webkitMatchesSelector||ma.mozMatchesSelector||ma.oMatchesSelector||ma.msMatchesSelector))&&h(function(a){B.disconnectedMatch=F.call(a,"div");F.call(a,"[s!='']:x");aa.push("!=",S)}),ia=ia.length&&new RegExp(ia.join("|")),aa=aa.length&&new RegExp(aa.join("|")),d=Oa.test(ma.compareDocumentPosition),q=d||Oa.test(ma.contains)?function(a,d){var c=9===a.nodeType?a.documentElement:a,b=d&&d.parentNode;return a===b||!(!b||
1!==b.nodeType||!(c.contains?c.contains(b):a.compareDocumentPosition&&16&a.compareDocumentPosition(b)))}:function(a,d){if(d)for(;d=d.parentNode;)if(d===a)return!0;return!1},H=d?function(a,d){if(a===d)return C=!0,0;var b=!a.compareDocumentPosition-!d.compareDocumentPosition;return b?b:(b=(a.ownerDocument||a)===(d.ownerDocument||d)?a.compareDocumentPosition(d):1,1&b||!B.sortDetached&&d.compareDocumentPosition(a)===b?a===c||a.ownerDocument===z&&q(z,a)?-1:d===c||d.ownerDocument===z&&q(z,d)?1:M?ja.call(M,
a)-ja.call(M,d):0:4&b?-1:1)}:function(a,d){if(a===d)return C=!0,0;var b,h=0;b=a.parentNode;var I=d.parentNode,f=[a],Z=[d];if(!b||!I)return a===c?-1:d===c?1:b?-1:I?1:M?ja.call(M,a)-ja.call(M,d):0;if(b===I)return m(a,d);for(b=a;b=b.parentNode;)f.unshift(b);for(b=d;b=b.parentNode;)Z.unshift(b);for(;f[h]===Z[h];)h++;return h?m(f[h],Z[h]):f[h]===z?-1:Z[h]===z?1:0},c):ca};d.matches=function(a,c){return d(a,null,null,c)};d.matchesSelector=function(a,c){if((a.ownerDocument||a)!==ca&&N(a),c=c.replace(U,"='$1']"),
!(!B.matchesSelector||!W||aa&&aa.test(c)||ia&&ia.test(c)))try{var b=F.call(a,c);if(b||B.disconnectedMatch||a.document&&11!==a.document.nodeType)return b}catch(h){}return 0<d(c,ca,null,[a]).length};d.contains=function(a,d){return(a.ownerDocument||a)!==ca&&N(a),q(a,d)};d.attr=function(a,d){(a.ownerDocument||a)!==ca&&N(a);var c=w.attrHandle[d.toLowerCase()],c=c&&wa.call(w.attrHandle,d.toLowerCase())?c(a,d,!W):void 0;return void 0!==c?c:B.attributes||!W?a.getAttribute(d):(c=a.getAttributeNode(d))&&c.specified?
c.value:null};d.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};d.uniqueSort=function(a){var d,c=[],b=0,h=0;if(C=!B.detectDuplicates,M=!B.sortStable&&a.slice(0),a.sort(H),C){for(;d=a[h++];)d===a[h]&&(b=c.push(h));for(;b--;)a.splice(c[b],1)}return M=null,a};r=d.getText=function(a){var d,c="",b=0;if(d=a.nodeType)if(1===d||9===d||11===d){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=r(a)}else{if(3===d||4===d)return a.nodeValue}else for(;d=
a[b++];)c+=r(d);return c};w=d.selectors={cacheLength:50,createPseudo:b,match:la,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(Da,Ja),a[3]=(a[3]||a[4]||a[5]||"").replace(Da,Ja),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||d.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||
1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&d.error(a[0]),a},PSEUDO:function(a){var d,c=!a[6]&&a[2];return la.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&K.test(c)&&(d=T(c,!0))&&(d=c.indexOf(")",c.length-d)-c.length)&&(a[0]=a[0].slice(0,d),a[2]=c.slice(0,d)),a.slice(0,3))}},filter:{TAG:function(a){var d=a.replace(Da,Ja).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===d}},CLASS:function(a){var d=Ia[a+" "];
return d||(d=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&Ia(a,function(a){return d.test("string"==typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,b){return function(h){h=d.attr(h,a);return null==h?"!="===c:c?(h+="","="===c?h===b:"!="===c?h!==b:"^="===c?b&&0===h.indexOf(b):"*="===c?b&&-1<h.indexOf(b):"$="===c?b&&h.slice(-b.length)===b:"~="===c?-1<(" "+h+" ").indexOf(b):"|="===c?h===b||h.slice(0,b.length+
1)===b+"-":!1):!0}},CHILD:function(a,d,c,b,h){var I="nth"!==a.slice(0,3),f="last"!==a.slice(-4),m="of-type"===d;return 1===b&&0===h?function(a){return!!a.parentNode}:function(d,c,Z){var t,Y,e,y,sa;c=I!==f?"nextSibling":"previousSibling";var E=d.parentNode,n=m&&d.nodeName.toLowerCase();Z=!Z&&!m;if(E){if(I){for(;c;){for(Y=d;Y=Y[c];)if(m?Y.nodeName.toLowerCase()===n:1===Y.nodeType)return!1;sa=c="only"===a&&!sa&&"nextSibling"}return!0}if(sa=[f?E.firstChild:E.lastChild],f&&Z)for(Z=E[G]||(E[G]={}),t=Z[a]||
[],y=t[0]===na&&t[1],e=t[0]===na&&t[2],Y=y&&E.childNodes[y];Y=++y&&Y&&Y[c]||(e=y=0)||sa.pop();){if(1===Y.nodeType&&++e&&Y===d){Z[a]=[na,y,e];break}}else if(Z&&(t=(d[G]||(d[G]={}))[a])&&t[0]===na)e=t[1];else for(;(Y=++y&&Y&&Y[c]||(e=y=0)||sa.pop())&&((m?Y.nodeName.toLowerCase()!==n:1!==Y.nodeType)||!++e||(Z&&((Y[G]||(Y[G]={}))[a]=[na,e]),Y!==d)););return e-=h,e===b||0===e%b&&0<=e/b}}},PSEUDO:function(a,c){var h,I=w.pseudos[a]||w.setFilters[a.toLowerCase()]||d.error("unsupported pseudo: "+a);return I[G]?
I(c):1<I.length?(h=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?b(function(a,d){for(var b,h=I(a,c),f=h.length;f--;)b=ja.call(a,h[f]),a[b]=!(d[b]=h[f])}):function(a){return I(a,0,h)}):I}},pseudos:{not:b(function(a){var d=[],c=[],h=L(a.replace(R,"$1"));return h[G]?b(function(a,d,c,b){var I;c=h(a,null,b,[]);for(b=a.length;b--;)(I=c[b])&&(a[b]=!(d[b]=I))}):function(a,b,I){return d[0]=a,h(d,null,I,c),!c.pop()}}),has:b(function(a){return function(c){return 0<d(a,c).length}}),contains:b(function(a){return function(d){return-1<
(d.textContent||d.innerText||r(d)).indexOf(a)}}),lang:b(function(a){return za.test(a||"")||d.error("unsupported lang: "+a),a=a.replace(Da,Ja).toLowerCase(),function(d){var c;do if(c=W?d.lang:d.getAttribute("xml:lang")||d.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((d=d.parentNode)&&1===d.nodeType);return!1}}),target:function(d){var c=a.location&&a.location.hash;return c&&c.slice(1)===d.id},root:function(a){return a===ma},focus:function(a){return a===ca.activeElement&&
(!ca.hasFocus||ca.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var d=a.nodeName.toLowerCase();return"input"===d&&!!a.checked||"option"===d&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return hb.test(a.nodeName)},
input:function(a){return Ha.test(a.nodeName)},button:function(a){var d=a.nodeName.toLowerCase();return"input"===d&&"button"===a.type||"button"===d},text:function(a){var d;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(d=a.getAttribute("type"))||"text"===d.toLowerCase())},first:y(function(){return[0]}),last:y(function(a,d){return[d-1]}),eq:y(function(a,d,c){return[0>c?c+d:c]}),even:y(function(a,d){for(var c=0;d>c;c+=2)a.push(c);return a}),odd:y(function(a,d){for(var c=1;d>c;c+=
2)a.push(c);return a}),lt:y(function(a,d,c){for(d=0>c?c+d:c;0<=--d;)a.push(d);return a}),gt:y(function(a,d,c){for(c=0>c?c+d:c;++c<d;)a.push(c);return a})}};w.pseudos.nth=w.pseudos.eq;for(J in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[J]=t(J);for(J in{submit:!0,reset:!0})w.pseudos[J]=e(J);n.prototype=w.filters=w.pseudos;w.setFilters=new n;T=d.tokenize=function(a,c){var b,h,I,f,m,t,Y;if(m=Ua[a+" "])return c?0:m.slice(0);m=a;t=[];for(Y=w.preFilter;m;){b&&!(h=ba.exec(m))||(h&&(m=m.slice(h[0].length)||
m),t.push(I=[]));b=!1;(h=pa.exec(m))&&(b=h.shift(),I.push({value:b,type:h[0].replace(R," ")}),m=m.slice(b.length));for(f in w.filter)!(h=la[f].exec(m))||Y[f]&&!(h=Y[f](h))||(b=h.shift(),I.push({value:b,type:f,matches:h}),m=m.slice(b.length));if(!b)break}return c?m.length:m?d.error(a):Ua(a,t).slice(0)};return L=d.compile=function(a,d){var c,b=[],h=[],I=qa[a+" "];if(!I){d||(d=T(a));for(c=d.length;c--;)I=k(d[c]),I[G]?b.push(I):h.push(I);I=qa(a,v(h,b));I.selector=a}return I},A=d.select=function(a,d,c,
b){var h,I,f,m,Z,t="function"==typeof a&&a,Y=!b&&T(a=t.selector||a);if(c=c||[],1===Y.length){if(I=Y[0]=Y[0].slice(0),2<I.length&&"ID"===(f=I[0]).type&&B.getById&&9===d.nodeType&&W&&w.relative[I[1].type]){if(d=(w.find.ID(f.matches[0].replace(Da,Ja),d)||[])[0],!d)return c;t&&(d=d.parentNode);a=a.slice(I.shift().value.length)}for(h=la.needsContext.test(a)?0:I.length;h--&&(f=I[h],!w.relative[m=f.type]);)if((Z=w.find[m])&&(b=Z(f.matches[0].replace(Da,Ja),ta.test(I[0].type)&&E(d.parentNode)||d))){if(I.splice(h,
1),a=b.length&&l(I),!a)return ga.apply(c,b),c;break}}return(t||L(a,Y))(b,d,!W,c,ta.test(a)&&E(d.parentNode)||d),c},B.sortStable=G.split("").sort(H).join("")===G,B.detectDuplicates=!!C,N(),B.sortDetached=h(function(a){return 1&a.compareDocumentPosition(ca.createElement("div"))}),h(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,d,c){return c?void 0:a.getAttribute(d,"type"===d.toLowerCase()?1:2)}),B.attributes&&h(function(a){return a.innerHTML=
"<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,d,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),h(function(a){return null==a.getAttribute("disabled")})||f("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,d,c){var b;return c?void 0:!0===a[d]?d.toLowerCase():(b=a.getAttributeNode(d))&&b.specified?b.value:null}),d}(b);f.find=
Ba;f.expr=Ba.selectors;f.expr[":"]=f.expr.pseudos;f.unique=Ba.uniqueSort;f.text=Ba.getText;f.isXMLDoc=Ba.isXML;f.contains=Ba.contains;var Ha=f.expr.match.needsContext,Ta=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Za=/^.[^:#\[\.,]*$/;f.filter=function(a,d,c){var b=d[0];return c&&(a=":not("+a+")"),1===d.length&&1===b.nodeType?f.find.matchesSelector(b,a)?[b]:[]:f.find.matches(a,f.grep(d,function(a){return 1===a.nodeType}))};f.fn.extend({find:function(a){var d,c=[],b=this,h=b.length;if("string"!=typeof a)return this.pushStack(f(a).filter(function(){for(d=
0;h>d;d++)if(f.contains(b[d],this))return!0}));for(d=0;h>d;d++)f.find(a,b[d],c);return c=this.pushStack(1<h?f.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(P(this,a||[],!1))},not:function(a){return this.pushStack(P(this,a||[],!0))},is:function(a){return!!P(this,"string"==typeof a&&Ha.test(a)?f(a):a||[],!1).length}});var xa,R=b.document,d=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(f.fn.init=function(a,c){var b,h;if(!a)return this;if("string"==typeof a){if(b=
"<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:d.exec(a),!b||!b[1]&&c)return!c||c.jquery?(c||xa).find(a):this.constructor(c).find(a);if(b[1]){if(c=c instanceof f?c[0]:c,f.merge(this,f.parseHTML(b[1],c&&c.nodeType?c.ownerDocument||c:R,!0)),Ta.test(b[1])&&f.isPlainObject(c))for(b in c)f.isFunction(this[b])?this[b](c[b]):this.attr(b,c[b]);return this}if(h=R.getElementById(b[2]),h&&h.parentNode){if(h.id!==b[2])return xa.find(a);this.length=1;this[0]=h}return this.context=R,this.selector=
a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):f.isFunction(a)?"undefined"!=typeof xa.ready?xa.ready(a):a(f):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),f.makeArray(a,this))}).prototype=f.fn;xa=f(R);var h=/^(?:parents|prev(?:Until|All))/,c={children:!0,contents:!0,next:!0,prev:!0};f.extend({dir:function(a,d,c){var b=[];for(a=a[d];a&&9!==a.nodeType&&(void 0===c||1!==a.nodeType||!f(a).is(c));)1===a.nodeType&&b.push(a),a=a[d];return b},sibling:function(a,
d){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==d&&c.push(a);return c}});f.fn.extend({has:function(a){var d,c=f(a,this),b=c.length;return this.filter(function(){for(d=0;b>d;d++)if(f.contains(this,c[d]))return!0})},closest:function(a,d){for(var c,b=0,h=this.length,m=[],t=Ha.test(a)||"string"!=typeof a?f(a,d||this.context):0;h>b;b++)for(c=this[b];c&&c!==d;c=c.parentNode)if(11>c.nodeType&&(t?-1<t.index(c):1===c.nodeType&&f.find.matchesSelector(c,a))){m.push(c);break}return this.pushStack(1<m.length?
f.unique(m):m)},index:function(a){return a?"string"==typeof a?f.inArray(this[0],f(a)):f.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,d){return this.pushStack(f.unique(f.merge(this.get(),f(a,d))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});f.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,d,c){return f.dir(a,
"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,d,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,d,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,
"iframe")?a.contentDocument||a.contentWindow.document:f.merge([],a.childNodes)}},function(a,d){f.fn[a]=function(b,m){var t=f.map(this,d,b);return"Until"!==a.slice(-5)&&(m=b),m&&"string"==typeof m&&(t=f.filter(m,t)),1<this.length&&(c[a]||(t=f.unique(t)),h.test(a)&&(t=t.reverse())),this.pushStack(t)}});var m=/\S+/g,t={};f.Callbacks=function(a){a="string"==typeof a?t[a]||z(a):f.extend({},a);var d,c,b,h,m,e,y=[],E=!a.once&&[],n=function(f){c=a.memory&&f;b=!0;m=e||0;e=0;h=y.length;for(d=!0;y&&h>m;m++)if(!1===
y[m].apply(f[0],f[1])&&a.stopOnFalse){c=!1;break}d=!1;y&&(E?E.length&&n(E.shift()):c?y=[]:l.disable())},l={add:function(){if(y){var b=y.length;!function Ob(d){f.each(d,function(d,c){var b=f.type(c);"function"===b?a.unique&&l.has(c)||y.push(c):c&&c.length&&"string"!==b&&Ob(c)})}(arguments);d?h=y.length:c&&(e=b,n(c))}return this},remove:function(){return y&&f.each(arguments,function(a,c){for(var b;-1<(b=f.inArray(c,y,b));)y.splice(b,1),d&&(h>=b&&h--,m>=b&&m--)}),this},has:function(a){return a?-1<f.inArray(a,
y):!(!y||!y.length)},empty:function(){return y=[],h=0,this},disable:function(){return y=E=c=void 0,this},disabled:function(){return!y},lock:function(){return E=void 0,c||l.disable(),this},locked:function(){return!E},fireWith:function(a,c){return!y||b&&!E||(c=c||[],c=[a,c.slice?c.slice():c],d?E.push(c):n(c)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!b}};return l};f.extend({Deferred:function(a){var d=[["resolve","done",f.Callbacks("once memory"),"resolved"],
["reject","fail",f.Callbacks("once memory"),"rejected"],["notify","progress",f.Callbacks("memory")]],c="pending",b={state:function(){return c},always:function(){return h.done(arguments).fail(arguments),this},then:function(){var a=arguments;return f.Deferred(function(c){f.each(d,function(d,I){var m=f.isFunction(a[d])&&a[d];h[I[1]](function(){var a=m&&m.apply(this,arguments);a&&f.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[I[0]+"With"](this===b?c.promise():
this,m?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?f.extend(a,b):b}},h={};return b.pipe=b.then,f.each(d,function(a,I){var f=I[2],m=I[3];b[I[1]]=f.add;m&&f.add(function(){c=m},d[1^a][2].disable,d[2][2].lock);h[I[0]]=function(){return h[I[0]+"With"](this===h?b:this,arguments),this};h[I[0]+"With"]=f.fireWith}),b.promise(h),a&&a.call(h,h),h},when:function(a){var d=0,c=B.call(arguments),b=c.length,h=1!==b||a&&f.isFunction(a.promise)?b:0,m=1===h?a:f.Deferred(),t=function(a,
d,c){return function(b){d[a]=this;c[a]=1<arguments.length?B.call(arguments):b;c===e?m.notifyWith(d,c):--h||m.resolveWith(d,c)}},e,y,E;if(1<b)for(e=Array(b),y=Array(b),E=Array(b);b>d;d++)c[d]&&f.isFunction(c[d].promise)?c[d].promise().done(t(d,E,c)).fail(m.reject).progress(t(d,y,e)):--h;return h||m.resolveWith(E,c),m.promise()}});var y;f.fn.ready=function(a){return f.ready.promise().done(a),this};f.extend({isReady:!1,readyWait:1,holdReady:function(a){a?f.readyWait++:f.ready(!0)},ready:function(a){if(!0===
a?!--f.readyWait:!f.isReady){if(!R.body)return setTimeout(f.ready);f.isReady=!0;!0!==a&&0<--f.readyWait||(y.resolveWith(R,[f]),f.fn.triggerHandler&&(f(R).triggerHandler("ready"),f(R).off("ready")))}}});f.ready.promise=function(a){if(!y)if(y=f.Deferred(),"complete"===R.readyState)setTimeout(f.ready);else if(R.addEventListener)R.addEventListener("DOMContentLoaded",k,!1),b.addEventListener("load",k,!1);else{R.attachEvent("onreadystatechange",k);b.attachEvent("onload",k);var d=!1;try{d=null==b.frameElement&&
R.documentElement}catch(c){}d&&d.doScroll&&!function sa(){if(!f.isReady){try{d.doScroll("left")}catch(a){return setTimeout(sa,50)}F();f.ready()}}()}return y.promise(a)};for(var E in f(G))break;G.ownLast="0"!==E;G.inlineBlockNeedsLayout=!1;f(function(){var a,d,c,b;(c=R.getElementsByTagName("body")[0])&&c.style&&(d=R.createElement("div"),b=R.createElement("div"),b.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(b).appendChild(d),"undefined"!==typeof d.style.zoom&&
(d.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",G.inlineBlockNeedsLayout=a=3===d.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(b))});(function(){var a=R.createElement("div");if(null==G.deleteExpando){G.deleteExpando=!0;try{delete a.test}catch(d){G.deleteExpando=!1}}})();f.acceptData=function(a){var d=f.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!d||!0!==d&&a.getAttribute("classid")===d};var V=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,va=
/([A-Z])/g;f.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?f.cache[a[f.expando]]:a[f.expando],!!a&&!v(a)},data:function(a,d,c){return l(a,d,c)},removeData:function(a,d){return A(a,d)},_data:function(a,d,c){return l(a,d,c,!0)},_removeData:function(a,d){return A(a,d,!0)}});f.fn.extend({data:function(a,d){var c,b,h,m=this[0],t=m&&m.attributes;if(void 0===a){if(this.length&&(h=f.data(m),1===m.nodeType&&
!f._data(m,"parsedAttrs"))){for(c=t.length;c--;)t[c]&&(b=t[c].name,0===b.indexOf("data-")&&(b=f.camelCase(b.slice(5)),q(m,b,h[b])));f._data(m,"parsedAttrs",!0)}return h}return"object"==typeof a?this.each(function(){f.data(this,a)}):1<arguments.length?this.each(function(){f.data(this,a,d)}):m?q(m,a,f.data(m,a)):void 0},removeData:function(a){return this.each(function(){f.removeData(this,a)})}});f.extend({queue:function(a,d,c){var b;return a?(d=(d||"fx")+"queue",b=f._data(a,d),c&&(!b||f.isArray(c)?
b=f._data(a,d,f.makeArray(c)):b.push(c)),b||[]):void 0},dequeue:function(a,d){d=d||"fx";var c=f.queue(a,d),b=c.length,h=c.shift(),m=f._queueHooks(a,d),t=function(){f.dequeue(a,d)};"inprogress"===h&&(h=c.shift(),b--);h&&("fx"===d&&c.unshift("inprogress"),delete m.stop,h.call(a,t,m));!b&&m&&m.empty.fire()},_queueHooks:function(a,d){var c=d+"queueHooks";return f._data(a,c)||f._data(a,c,{empty:f.Callbacks("once memory").add(function(){f._removeData(a,d+"queue");f._removeData(a,c)})})}});f.fn.extend({queue:function(a,
d){var c=2;return"string"!=typeof a&&(d=a,a="fx",c--),arguments.length<c?f.queue(this[0],a):void 0===d?this:this.each(function(){var c=f.queue(this,a,d);f._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,d){var c,b=1,h=f.Deferred(),m=this,t=this.length,e=function(){--b||h.resolveWith(m,[m])};"string"!=typeof a&&(d=a,a=void 0);for(a=a||
"fx";t--;)(c=f._data(m[t],a+"queueHooks"))&&c.empty&&(b++,c.empty.add(e));return e(),h.promise(d)}});var Aa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ca=["Top","Right","Bottom","Left"],ma=function(a,d){return a=d||a,"none"===f.css(a,"display")||!f.contains(a.ownerDocument,a)},Ia=f.access=function(a,d,c,b,h,m,t){var e=0,y=a.length,E=null==c;if("object"===f.type(c))for(e in h=!0,c)f.access(a,d,e,c[e],!0,m,t);else if(void 0!==b&&(h=!0,f.isFunction(b)||(t=!0),E&&(t?(d.call(a,b),d=null):(E=d,d=function(a,
d,c){return E.call(f(a),c)})),d))for(;y>e;e++)d(a[e],c,t?b:b.call(a[e],e,d(a[e],c)));return h?a:E?d.call(a):y?d(a[0],c):m},Wa=/^(?:checkbox|radio)$/i;!function(){var a=R.createElement("input"),d=R.createElement("div"),c=R.createDocumentFragment();if(d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",G.leadingWhitespace=3===d.firstChild.nodeType,G.tbody=!d.getElementsByTagName("tbody").length,G.htmlSerialize=!!d.getElementsByTagName("link").length,G.html5Clone="<:nav></:nav>"!==
R.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),G.appendChecked=a.checked,d.innerHTML="<textarea>x</textarea>",G.noCloneChecked=!!d.cloneNode(!0).lastChild.defaultValue,c.appendChild(d),d.innerHTML="<input type='radio' checked='checked' name='t'/>",G.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked,G.noCloneEvent=!0,d.attachEvent&&(d.attachEvent("onclick",function(){G.noCloneEvent=!1}),d.cloneNode(!0).click()),null==G.deleteExpando){G.deleteExpando=
!0;try{delete d.test}catch(b){G.deleteExpando=!1}}}();(function(){var a,d,c=R.createElement("div");for(a in{submit:!0,change:!0,focusin:!0})d="on"+a,(G[a+"Bubbles"]=d in b)||(c.setAttribute(d,"t"),G[a+"Bubbles"]=!1===c.attributes[d].expando)})();var Ua=/^(?:input|select|textarea)$/i,hb=/^key/,Pb=/^(?:mouse|pointer|contextmenu)|click/,sb=/^(?:focusinfocus|focusoutblur)$/,tb=/^([^.]*)(?:\.(.+)|)$/;f.event={global:{},add:function(a,d,c,b,h){var t,e,y,E,n,l,g,u,V,w;if(y=f._data(a)){c.handler&&(E=c,c=
E.handler,h=E.selector);c.guid||(c.guid=f.guid++);(e=y.events)||(e=y.events={});(l=y.handle)||(l=y.handle=function(a){return"undefined"===typeof f||a&&f.event.triggered===a.type?void 0:f.event.dispatch.apply(l.elem,arguments)},l.elem=a);d=(d||"").match(m)||[""];for(y=d.length;y--;)t=tb.exec(d[y])||[],V=w=t[1],t=(t[2]||"").split(".").sort(),V&&(n=f.event.special[V]||{},V=(h?n.delegateType:n.bindType)||V,n=f.event.special[V]||{},g=f.extend({type:V,origType:w,data:b,handler:c,guid:c.guid,selector:h,
needsContext:h&&f.expr.match.needsContext.test(h),namespace:t.join(".")},E),(u=e[V])||(u=e[V]=[],u.delegateCount=0,n.setup&&!1!==n.setup.call(a,b,t,l)||(a.addEventListener?a.addEventListener(V,l,!1):a.attachEvent&&a.attachEvent("on"+V,l))),n.add&&(n.add.call(a,g),g.handler.guid||(g.handler.guid=c.guid)),h?u.splice(u.delegateCount++,0,g):u.push(g),f.event.global[V]=!0);a=null}},remove:function(a,d,c,b,h){var t,e,y,E,n,l,g,u,V,w,B,va=f.hasData(a)&&f._data(a);if(va&&(l=va.events)){d=(d||"").match(m)||
[""];for(n=d.length;n--;)if(y=tb.exec(d[n])||[],V=B=y[1],w=(y[2]||"").split(".").sort(),V){g=f.event.special[V]||{};V=(b?g.delegateType:g.bindType)||V;u=l[V]||[];y=y[2]&&new RegExp("(^|\\.)"+w.join("\\.(?:.*\\.|)")+"(\\.|$)");for(E=t=u.length;t--;)e=u[t],!h&&B!==e.origType||c&&c.guid!==e.guid||y&&!y.test(e.namespace)||b&&b!==e.selector&&("**"!==b||!e.selector)||(u.splice(t,1),e.selector&&u.delegateCount--,g.remove&&g.remove.call(a,e));E&&!u.length&&(g.teardown&&!1!==g.teardown.call(a,w,va.handle)||
f.removeEvent(a,V,va.handle),delete l[V])}else for(V in l)f.event.remove(a,V+d[n],c,b,!0);f.isEmptyObject(l)&&(delete va.handle,f._removeData(a,"events"))}},trigger:function(a,d,c,h){var m,t,e,y,E,n,l=[c||R],g=ra.call(a,"type")?a.type:a;n=ra.call(a,"namespace")?a.namespace.split("."):[];if(e=m=c=c||R,3!==c.nodeType&&8!==c.nodeType&&!sb.test(g+f.event.triggered)&&(0<=g.indexOf(".")&&(n=g.split("."),g=n.shift(),n.sort()),t=0>g.indexOf(":")&&"on"+g,a=a[f.expando]?a:new f.Event(g,"object"==typeof a&&
a),a.isTrigger=h?2:3,a.namespace=n.join("."),a.namespace_re=a.namespace?new RegExp("(^|\\.)"+n.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=c),d=null==d?[a]:f.makeArray(d,[a]),E=f.event.special[g]||{},h||!E.trigger||!1!==E.trigger.apply(c,d))){if(!h&&!E.noBubble&&!f.isWindow(c)){y=E.delegateType||g;for(sb.test(y+g)||(e=e.parentNode);e;e=e.parentNode)l.push(e),m=e;m===(c.ownerDocument||R)&&l.push(m.defaultView||m.parentWindow||b)}for(n=0;(e=l[n++])&&!a.isPropagationStopped();)a.type=
1<n?y:E.bindType||g,(m=(f._data(e,"events")||{})[a.type]&&f._data(e,"handle"))&&m.apply(e,d),(m=t&&e[t])&&m.apply&&f.acceptData(e)&&(a.result=m.apply(e,d),!1===a.result&&a.preventDefault());if(a.type=g,!(h||a.isDefaultPrevented()||E._default&&!1!==E._default.apply(l.pop(),d))&&f.acceptData(c)&&t&&c[g]&&!f.isWindow(c)){(m=c[t])&&(c[t]=null);f.event.triggered=g;try{c[g]()}catch(u){}f.event.triggered=void 0;m&&(c[t]=m)}return a.result}},dispatch:function(a){a=f.event.fix(a);var d,c,b,h,m,t=[],e=B.call(arguments);
d=(f._data(this,"events")||{})[a.type]||[];var y=f.event.special[a.type]||{};if(e[0]=a,a.delegateTarget=this,!y.preDispatch||!1!==y.preDispatch.call(this,a)){t=f.event.handlers.call(this,a,d);for(d=0;(h=t[d++])&&!a.isPropagationStopped();)for(a.currentTarget=h.elem,m=0;(b=h.handlers[m++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(b.namespace)||(a.handleObj=b,a.data=b.data,c=((f.event.special[b.origType]||{}).handle||b.handler).apply(h.elem,e),void 0===c||!1!==(a.result=
c)||(a.preventDefault(),a.stopPropagation()));return y.postDispatch&&y.postDispatch.call(this,a),a.result}},handlers:function(a,d){var c,b,h,m,t=[],e=d.delegateCount,y=a.target;if(e&&y.nodeType&&(!a.button||"click"!==a.type))for(;y!=this;y=y.parentNode||this)if(1===y.nodeType&&(!0!==y.disabled||"click"!==a.type)){h=[];for(m=0;e>m;m++)b=d[m],c=b.selector+" ",void 0===h[c]&&(h[c]=b.needsContext?0<=f(c,this).index(y):f.find(c,this,null,[y]).length),h[c]&&h.push(b);h.length&&t.push({elem:y,handlers:h})}return e<
d.length&&t.push({elem:this,handlers:d.slice(e)}),t},fix:function(a){if(a[f.expando])return a;var d,c,b;d=a.type;var h=a,m=this.fixHooks[d];m||(this.fixHooks[d]=m=Pb.test(d)?this.mouseHooks:hb.test(d)?this.keyHooks:{});b=m.props?this.props.concat(m.props):this.props;a=new f.Event(h);for(d=b.length;d--;)c=b[d],a[c]=h[c];return a.target||(a.target=h.srcElement||R),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,m.filter?m.filter(a,h):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,d){return null==a.which&&(a.which=null!=d.charCode?d.charCode:d.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var c,b,h,m=d.button,f=d.fromElement;return null==a.pageX&&null!=d.clientX&&(b=a.target.ownerDocument||R,h=b.documentElement,c=b.body,a.pageX=d.clientX+(h&&h.scrollLeft||c&&c.scrollLeft||0)-(h&&
h.clientLeft||c&&c.clientLeft||0),a.pageY=d.clientY+(h&&h.scrollTop||c&&c.scrollTop||0)-(h&&h.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&f&&(a.relatedTarget=f===a.target?d.toElement:f),a.which||void 0===m||(a.which=1&m?1:2&m?3:4&m?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==J()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===J()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return f.nodeName(this,
"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return f.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,d,c,b){a=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});b?f.event.trigger(a,null,d):f.event.dispatch.call(d,a);a.isDefaultPrevented()&&c.preventDefault()}};f.removeEvent=R.removeEventListener?function(a,d,c){a.removeEventListener&&
a.removeEventListener(d,c,!1)}:function(a,d,c){d="on"+d;a.detachEvent&&("undefined"===typeof a[d]&&(a[d]=null),a.detachEvent(d,c))};f.Event=function(a,d){return this instanceof f.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?g:e):this.type=a,d&&f.extend(this,d),this.timeStamp=a&&a.timeStamp||f.now(),void(this[f.expando]=!0)):new f.Event(a,d)};f.Event.prototype={isDefaultPrevented:e,isPropagationStopped:e,
isImmediatePropagationStopped:e,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=g;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=g;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=g;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};f.each({mouseenter:"mouseover",
mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,d){f.event.special[a]={delegateType:d,bindType:d,handle:function(a){var c,b=a.relatedTarget,h=a.handleObj;return(!b||b!==this&&!f.contains(this,b))&&(a.type=h.origType,c=h.handler.apply(this,arguments),a.type=d),c}}});G.submitBubbles||(f.event.special.submit={setup:function(){return f.nodeName(this,"form")?!1:void f.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=f.nodeName(a,"input")||
f.nodeName(a,"button")?a.form:void 0)&&!f._data(a,"submitBubbles")&&(f.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),f._data(a,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return f.nodeName(this,"form")?!1:void f.event.remove(this,"._submit")}});G.changeBubbles||(f.event.special.change={setup:function(){return Ua.test(this.nodeName)?(("checkbox"===
this.type||"radio"===this.type)&&(f.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);f.event.simulate("change",this,a,!0)})),!1):void f.event.add(this,"beforeactivate._change",function(a){a=a.target;Ua.test(a.nodeName)&&!f._data(a,"changeBubbles")&&(f.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||
f.event.simulate("change",this.parentNode,a,!0)}),f._data(a,"changeBubbles",!0))})},handle:function(a){var d=a.target;return this!==d||a.isSimulated||a.isTrigger||"radio"!==d.type&&"checkbox"!==d.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return f.event.remove(this,"._change"),!Ua.test(this.nodeName)}});G.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,d){var c=function(a){f.event.simulate(d,a.target,f.event.fix(a),!0)};f.event.special[d]={setup:function(){var b=
this.ownerDocument||this,h=f._data(b,d);h||b.addEventListener(a,c,!0);f._data(b,d,(h||0)+1)},teardown:function(){var b=this.ownerDocument||this,h=f._data(b,d)-1;h?f._data(b,d,h):(b.removeEventListener(a,c,!0),f._removeData(b,d))}}});f.fn.extend({on:function(a,d,c,b,h){var m,t;if("object"==typeof a){"string"!=typeof d&&(c=c||d,d=void 0);for(m in a)this.on(m,d,c,a[m],h);return this}if(null==c&&null==b?(b=d,c=d=void 0):null==b&&("string"==typeof d?(b=c,c=void 0):(b=c,c=d,d=void 0)),!1===b)b=e;else if(!b)return this;
return 1===h&&(t=b,b=function(a){return f().off(a),t.apply(this,arguments)},b.guid=t.guid||(t.guid=f.guid++)),this.each(function(){f.event.add(this,a,b,c,d)})},one:function(a,d,c,b){return this.on(a,d,c,b,1)},off:function(a,d,c){var b,h;if(a&&a.preventDefault&&a.handleObj)return b=a.handleObj,f(a.delegateTarget).off(b.namespace?b.origType+"."+b.namespace:b.origType,b.selector,b.handler),this;if("object"==typeof a){for(h in a)this.off(h,d,a[h]);return this}return(!1===d||"function"==typeof d)&&(c=
d,d=void 0),!1===c&&(c=e),this.each(function(){f.event.remove(this,a,c,d)})},trigger:function(a,d){return this.each(function(){f.event.trigger(a,d,this)})},triggerHandler:function(a,d){var c=this[0];return c?f.event.trigger(a,d,c,!0):void 0}});var Da="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Qb=/ jQuery\d+="(?:null|\d+)"/g,ub=new RegExp("<(?:"+Da+")[\\s/>]","i"),ib=/^\s+/,vb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
wb=/<([\w:]+)/,xb=/<tbody/i,Ja=/<|&#?\w+;/,Rb=/<(?:script|style|link)/i,Oa=/checked\s*(?:[^=]|=\s*.checked.)/i,yb=/^$|\/(?:java|ecma)script/i,Lb=/^true\/(.*)/,Sb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ca={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,
"<table><tbody><tr>","</tr></tbody></table>"],_default:G.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jb=r(R).appendChild(R.createElement("div"));Ca.optgroup=Ca.option;Ca.tbody=Ca.tfoot=Ca.colgroup=Ca.caption=Ca.thead;Ca.th=Ca.td;f.extend({clone:function(a,d,c){var b,h,m,t,e,y=f.contains(a.ownerDocument,a);if(G.html5Clone||f.isXMLDoc(a)||!ub.test("<"+a.nodeName+">")?m=a.cloneNode(!0):(jb.innerHTML=a.outerHTML,jb.removeChild(m=jb.firstChild)),!(G.noCloneEvent&&G.noCloneChecked||1!==a.nodeType&&11!==
a.nodeType||f.isXMLDoc(a)))for(b=aa(m),e=aa(a),t=0;null!=(h=e[t]);++t)if(b[t]){var E=b[t],n=void 0,l=void 0,g=void 0;if(1===E.nodeType){if(n=E.nodeName.toLowerCase(),!G.noCloneEvent&&E[f.expando]){g=f._data(E);for(l in g.events)f.removeEvent(E,l,g.handle);E.removeAttribute(f.expando)}"script"===n&&E.text!==h.text?(T(E).text=h.text,M(E)):"object"===n?(E.parentNode&&(E.outerHTML=h.outerHTML),G.html5Clone&&h.innerHTML&&!f.trim(E.innerHTML)&&(E.innerHTML=h.innerHTML)):"input"===n&&Wa.test(h.type)?(E.defaultChecked=
E.checked=h.checked,E.value!==h.value&&(E.value=h.value)):"option"===n?E.defaultSelected=E.selected=h.defaultSelected:("input"===n||"textarea"===n)&&(E.defaultValue=h.defaultValue)}}if(d)if(c)for(e=e||aa(a),b=b||aa(m),t=0;null!=(h=e[t]);t++)ga(h,b[t]);else ga(a,m);return b=aa(m,"script"),0<b.length&&wa(b,!y&&aa(a,"script")),m},buildFragment:function(a,d,c,b){for(var h,m,t,e,y,E,n,l=a.length,g=r(d),V=[],w=0;l>w;w++)if(m=a[w],m||0===m)if("object"===f.type(m))f.merge(V,m.nodeType?[m]:m);else if(Ja.test(m)){e=
e||g.appendChild(d.createElement("div"));y=(wb.exec(m)||["",""])[1].toLowerCase();n=Ca[y]||Ca._default;e.innerHTML=n[1]+m.replace(vb,"<$1></$2>")+n[2];for(h=n[0];h--;)e=e.lastChild;if(!G.leadingWhitespace&&ib.test(m)&&V.push(d.createTextNode(ib.exec(m)[0])),!G.tbody)for(h=(m="table"!==y||xb.test(m)?"<table>"!==n[1]||xb.test(m)?0:e:e.firstChild)&&m.childNodes.length;h--;)f.nodeName(E=m.childNodes[h],"tbody")&&!E.childNodes.length&&m.removeChild(E);f.merge(V,e.childNodes);for(e.textContent="";e.firstChild;)e.removeChild(e.firstChild);
e=g.lastChild}else V.push(d.createTextNode(m));e&&g.removeChild(e);G.appendChecked||f.grep(aa(V,"input"),u);for(w=0;m=V[w++];)if((!b||-1===f.inArray(m,b))&&(t=f.contains(m.ownerDocument,m),e=aa(g.appendChild(m),"script"),t&&wa(e),c))for(h=0;m=e[h++];)yb.test(m.type||"")&&c.push(m);return g},cleanData:function(a,d){for(var c,b,h,m,t=0,e=f.expando,y=f.cache,E=G.deleteExpando,n=f.event.special;null!=(c=a[t]);t++)if((d||f.acceptData(c))&&(h=c[e],m=h&&y[h])){if(m.events)for(b in m.events)n[b]?f.event.remove(c,
b):f.removeEvent(c,b,m.handle);y[h]&&(delete y[h],E?delete c[e]:"undefined"!==typeof c.removeAttribute?c.removeAttribute(e):c[e]=null,w.push(h))}}});f.fn.extend({text:function(a){return Ia(this,function(a){return void 0===a?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||R).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||X(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,
function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var d=X(this,a);d.insertBefore(a,d.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,d){for(var c,b=a?f.filter(a,this):this,h=0;null!=(c=b[h]);h++)d||1!==c.nodeType||f.cleanData(aa(c)),c.parentNode&&
(d&&f.contains(c.ownerDocument,c)&&wa(aa(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,d=0;null!=(a=this[d]);d++){for(1===a.nodeType&&f.cleanData(aa(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&f.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,d){return a=null==a?!1:a,d=null==d?a:d,this.map(function(){return f.clone(this,a,d)})},html:function(a){return Ia(this,function(a){var d=this[0]||{},c=0,b=this.length;if(void 0===a)return 1===
d.nodeType?d.innerHTML.replace(Qb,""):void 0;if(!("string"!=typeof a||Rb.test(a)||!G.htmlSerialize&&ub.test(a)||!G.leadingWhitespace&&ib.test(a)||Ca[(wb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(vb,"<$1></$2>");try{for(;b>c;c++)d=this[c]||{},1===d.nodeType&&(f.cleanData(aa(d,!1)),d.innerHTML=a);d=0}catch(h){}}d&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(d){a=this.parentNode;f.cleanData(aa(this));a&&a.replaceChild(d,
this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,d){a=ia.apply([],a);var c,b,h,m,t=0,e=this.length,y=this,E=e-1,n=a[0],l=f.isFunction(n);if(l||1<e&&"string"==typeof n&&!G.checkClone&&Oa.test(n))return this.each(function(c){var b=y.eq(c);l&&(a[0]=n.call(this,c,b.html()));b.domManip(a,d)});if(e&&(m=f.buildFragment(a,this[0].ownerDocument,!1,this),c=m.firstChild,1===m.childNodes.length&&(m=c),c)){h=f.map(aa(m,"script"),T);for(b=h.length;e>
t;t++)c=m,t!==E&&(c=f.clone(c,!0,!0),b&&f.merge(h,aa(c,"script"))),d.call(this[t],c,t);if(b)for(m=h[h.length-1].ownerDocument,f.map(h,M),t=0;b>t;t++)c=h[t],yb.test(c.type||"")&&!f._data(c,"globalEval")&&f.contains(m,c)&&(c.src?f._evalUrl&&f._evalUrl(c.src):f.globalEval((c.text||c.textContent||c.innerHTML||"").replace(Sb,"")));m=c=null}return this}});f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,d){f.fn[a]=function(a){for(var c=
0,b=[],h=f(a),m=h.length-1;m>=c;c++)a=c===m?this:this.clone(!0),f(h[c])[d](a),L.apply(b,a.get());return this.pushStack(b)}});var Xa,qb={};!function(){var a;G.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var d,c,b;return c=R.getElementsByTagName("body")[0],c&&c.style?(d=R.createElement("div"),b=R.createElement("div"),b.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(b).appendChild(d),"undefined"!==typeof d.style.zoom&&(d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",
d.appendChild(R.createElement("div")).style.width="5px",a=3!==d.offsetWidth),c.removeChild(b),a):void 0}}();var zb=/^margin/,ab=new RegExp("^("+Aa+")(?!px)[a-z%]+$","i"),Ma,Na,Tb=/^(top|right|bottom|left)$/;b.getComputedStyle?(Ma=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Na=function(a,d,c){var b,h,m,t,e=a.style;return c=c||Ma(a),t=c?c.getPropertyValue(d)||c[d]:void 0,c&&(""!==t||f.contains(a.ownerDocument,a)||(t=f.style(a,d)),ab.test(t)&&zb.test(d)&&(b=e.width,h=e.minWidth,
m=e.maxWidth,e.minWidth=e.maxWidth=e.width=t,t=c.width,e.width=b,e.minWidth=h,e.maxWidth=m)),void 0===t?t:t+""}):R.documentElement.currentStyle&&(Ma=function(a){return a.currentStyle},Na=function(a,d,c){var b,h,m,f,t=a.style;return c=c||Ma(a),f=c?c[d]:void 0,null==f&&t&&t[d]&&(f=t[d]),ab.test(f)&&!Tb.test(d)&&(b=t.left,h=a.runtimeStyle,m=h&&h.left,m&&(h.left=a.currentStyle.left),t.left="fontSize"===d?"1em":f,f=t.pixelLeft+"px",t.left=b,m&&(h.left=m)),void 0===f?f:f+""||"auto"});!function(){var a,
d,c,h,m,t,e;if(a=R.createElement("div"),a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=a.getElementsByTagName("a")[0],d=c&&c.style){var y=function(){var a,d,c,f;(d=R.getElementsByTagName("body")[0])&&d.style&&(a=R.createElement("div"),c=R.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",d.appendChild(c).appendChild(a),a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",
h=m=!1,e=!0,b.getComputedStyle&&(h="1%"!==(b.getComputedStyle(a,null)||{}).top,m="4px"===(b.getComputedStyle(a,null)||{width:"4px"}).width,f=a.appendChild(R.createElement("div")),f.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",f.style.marginRight=f.style.width="0",a.style.width="1px",e=!parseFloat((b.getComputedStyle(f,null)||{}).marginRight)),a.innerHTML="<table><tr><td></td><td>t</td></tr></table>",
f=a.getElementsByTagName("td"),f[0].style.cssText="margin:0;border:0;padding:0;display:none",t=0===f[0].offsetHeight,t&&(f[0].style.display="",f[1].style.display="none",t=0===f[0].offsetHeight),d.removeChild(c))};d.cssText="float:left;opacity:.5";G.opacity="0.5"===d.opacity;G.cssFloat=!!d.cssFloat;a.style.backgroundClip="content-box";a.cloneNode(!0).style.backgroundClip="";G.clearCloneStyle="content-box"===a.style.backgroundClip;G.boxSizing=""===d.boxSizing||""===d.MozBoxSizing||""===d.WebkitBoxSizing;
f.extend(G,{reliableHiddenOffsets:function(){return null==t&&y(),t},boxSizingReliable:function(){return null==m&&y(),m},pixelPosition:function(){return null==h&&y(),h},reliableMarginRight:function(){return null==e&&y(),e}})}}();f.swap=function(a,d,c,b){var h,m={};for(h in d)m[h]=a.style[h],a.style[h]=d[h];c=c.apply(a,b||[]);for(h in d)a.style[h]=m[h];return c};var kb=/alpha\([^)]*\)/i,Ub=/opacity\s*=\s*([^)]*)/,Vb=/^(none|table(?!-c[ea]).+)/,Mb=new RegExp("^("+Aa+")(.*)$","i"),Wb=new RegExp("^([+-])=("+
Aa+")","i"),Xb={position:"absolute",visibility:"hidden",display:"block"},Ab={letterSpacing:"0",fontWeight:"400"},rb=["Webkit","O","Moz","ms"];f.extend({cssHooks:{opacity:{get:function(a,d){if(d){var c=Na(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":G.cssFloat?"cssFloat":"styleFloat"},style:function(a,d,c,b){if(a&&3!==a.nodeType&&8!==a.nodeType&&
a.style){var h,m,t,e=f.camelCase(d),y=a.style;if(d=f.cssProps[e]||(f.cssProps[e]=ea(y,e)),t=f.cssHooks[d]||f.cssHooks[e],void 0===c)return t&&"get"in t&&void 0!==(h=t.get(a,!1,b))?h:y[d];if(m=typeof c,"string"===m&&(h=Wb.exec(c))&&(c=(h[1]+1)*h[2]+parseFloat(f.css(a,d)),m="number"),null!=c&&c===c&&("number"!==m||f.cssNumber[e]||(c+="px"),G.clearCloneStyle||""!==c||0!==d.indexOf("background")||(y[d]="inherit"),!(t&&"set"in t&&void 0===(c=t.set(a,c,b)))))try{y[d]=c}catch(E){}}},css:function(a,d,c,b){var h,
m,t,e=f.camelCase(d);return d=f.cssProps[e]||(f.cssProps[e]=ea(a.style,e)),t=f.cssHooks[d]||f.cssHooks[e],t&&"get"in t&&(m=t.get(a,!0,c)),void 0===m&&(m=Na(a,d,b)),"normal"===m&&d in Ab&&(m=Ab[d]),""===c||c?(h=parseFloat(m),!0===c||f.isNumeric(h)?h||0:m):m}});f.each(["height","width"],function(a,d){f.cssHooks[d]={get:function(a,c,b){return c?Vb.test(f.css(a,"display"))&&0===a.offsetWidth?f.swap(a,Xb,function(){return qa(a,d,b)}):qa(a,d,b):void 0},set:function(a,c,b){var h=b&&Ma(a);return H(a,c,b?
ha(a,d,b,G.boxSizing&&"border-box"===f.css(a,"boxSizing",!1,h),h):0)}}});G.opacity||(f.cssHooks.opacity={get:function(a,d){return Ub.test((d&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":d?"1":""},set:function(a,d){var c=a.style,b=a.currentStyle,h=f.isNumeric(d)?"alpha(opacity="+100*d+")":"",m=b&&b.filter||c.filter||"";c.zoom=1;(1<=d||""===d)&&""===f.trim(m.replace(kb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===d||b&&!b.filter)||(c.filter=kb.test(m)?
m.replace(kb,h):m+" "+h)}});f.cssHooks.marginRight=la(G.reliableMarginRight,function(a,d){return d?f.swap(a,{display:"inline-block"},Na,[a,"marginRight"]):void 0});f.each({margin:"",padding:"",border:"Width"},function(a,d){f.cssHooks[a+d]={expand:function(c){var b=0,h={};for(c="string"==typeof c?c.split(" "):[c];4>b;b++)h[a+ca[b]+d]=c[b]||c[b-2]||c[0];return h}};zb.test(a)||(f.cssHooks[a+d].set=H)});f.fn.extend({css:function(a,d){return Ia(this,function(a,d,c){var b,h={},m=0;if(f.isArray(d)){c=Ma(a);
for(b=d.length;b>m;m++)h[d[m]]=f.css(a,d[m],!1,c);return h}return void 0!==c?f.style(a,d,c):f.css(a,d)},a,d,1<arguments.length)},show:function(){return pa(this,!0)},hide:function(){return pa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){ma(this)?f(this).show():f(this).hide()})}});f.Tween=C;C.prototype={constructor:C,init:function(a,d,c,b,h,m){this.elem=a;this.prop=c;this.easing=h||"swing";this.options=d;this.start=this.now=this.cur();this.end=b;
this.unit=m||(f.cssNumber[c]?"":"px")},cur:function(){var a=C.propHooks[this.prop];return a&&a.get?a.get(this):C.propHooks._default.get(this)},run:function(a){var d,c=C.propHooks[this.prop];return this.pos=d=this.options.duration?f.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*d+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):C.propHooks._default.set(this),this}};C.prototype.init.prototype=
C.prototype;C.propHooks={_default:{get:function(a){var d;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(d=f.css(a.elem,a.prop,""),d&&"auto"!==d?d:0):a.elem[a.prop]},set:function(a){f.fx.step[a.prop]?f.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[f.cssProps[a.prop]]||f.cssHooks[a.prop])?f.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};C.propHooks.scrollTop=C.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};
f.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}};f.fx=C.prototype.init;f.fx.step={};var Ra,cb,Yb=/^(?:toggle|show|hide)$/,Bb=new RegExp("^(?:([+-])=|)("+Aa+")([a-z%]*)$","i"),Zb=/queueHooks$/,bb=[function(a,d,c){var b,h,m,t,e,y,E,n=this,l={},g=a.style,u=a.nodeType&&ma(a),V=f._data(a,"fxshow");c.queue||(t=f._queueHooks(a,"fx"),null==t.unqueued&&(t.unqueued=0,e=t.empty.fire,t.empty.fire=function(){t.unqueued||e()}),t.unqueued++,n.always(function(){n.always(function(){t.unqueued--;
f.queue(a,"fx").length||t.empty.fire()})}));1===a.nodeType&&("height"in d||"width"in d)&&(c.overflow=[g.overflow,g.overflowX,g.overflowY],y=f.css(a,"display"),E="none"===y?f._data(a,"olddisplay")||ba(a.nodeName):y,"inline"===E&&"none"===f.css(a,"float")&&(G.inlineBlockNeedsLayout&&"inline"!==ba(a.nodeName)?g.zoom=1:g.display="inline-block"));c.overflow&&(g.overflow="hidden",G.shrinkWrapBlocks()||n.always(function(){g.overflow=c.overflow[0];g.overflowX=c.overflow[1];g.overflowY=c.overflow[2]}));for(b in d)if(h=
d[b],Yb.exec(h)){if(delete d[b],m=m||"toggle"===h,h===(u?"hide":"show")){if("show"!==h||!V||void 0===V[b])continue;u=!0}l[b]=V&&V[b]||f.style(a,b)}else y=void 0;if(f.isEmptyObject(l))"inline"===("none"===y?ba(a.nodeName):y)&&(g.display=y);else for(b in V?"hidden"in V&&(u=V.hidden):V=f._data(a,"fxshow",{}),m&&(V.hidden=!u),u?f(a).show():n.done(function(){f(a).hide()}),n.done(function(){var d;f._removeData(a,"fxshow");for(d in l)f.style(a,d,l[d])}),l)d=O(u?V[b]:0,b,n),b in V||(V[b]=d.start,u&&(d.end=
d.start,d.start="width"===b||"height"===b?1:0))}],Ya={"*":[function(a,d){var c=this.createTween(a,d),b=c.cur(),h=Bb.exec(d),m=h&&h[3]||(f.cssNumber[a]?"":"px"),t=(f.cssNumber[a]||"px"!==m&&+b)&&Bb.exec(f.css(c.elem,a)),e=1,y=20;if(t&&t[3]!==m){m=m||t[3];h=h||[];t=+b||1;do e=e||".5",t/=e,f.style(c.elem,a,t+m);while(e!==(e=c.cur()/b)&&1!==e&&--y)}return h&&(t=c.start=+t||+b||0,c.unit=m,c.end=h[1]?t+(h[1]+1)*h[2]:+h[2]),c}]};f.Animation=f.extend(S,{tweener:function(a,d){f.isFunction(a)?(d=a,a=["*"]):
a=a.split(" ");for(var c,b=0,h=a.length;h>b;b++)c=a[b],Ya[c]=Ya[c]||[],Ya[c].unshift(d)},prefilter:function(a,d){d?bb.unshift(a):bb.push(a)}});f.speed=function(a,d,c){var b=a&&"object"==typeof a?f.extend({},a):{complete:c||!c&&d||f.isFunction(a)&&a,duration:a,easing:c&&d||d&&!f.isFunction(d)&&d};return b.duration=f.fx.off?0:"number"==typeof b.duration?b.duration:b.duration in f.fx.speeds?f.fx.speeds[b.duration]:f.fx.speeds._default,(null==b.queue||!0===b.queue)&&(b.queue="fx"),b.old=b.complete,b.complete=
function(){f.isFunction(b.old)&&b.old.call(this);b.queue&&f.dequeue(this,b.queue)},b};f.fn.extend({fadeTo:function(a,d,c,b){return this.filter(ma).css("opacity",0).show().end().animate({opacity:d},a,c,b)},animate:function(a,d,c,b){var h=f.isEmptyObject(a),m=f.speed(d,c,b);d=function(){var d=S(this,f.extend({},a),m);(h||f._data(this,"finish"))&&d.stop(!0)};return d.finish=d,h||!1===m.queue?this.each(d):this.queue(m.queue,d)},stop:function(a,d,c){var b=function(a){var d=a.stop;delete a.stop;d(c)};return"string"!=
typeof a&&(c=d,d=a,a=void 0),d&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var d=!0,h=null!=a&&a+"queueHooks",m=f.timers,t=f._data(this);if(h)t[h]&&t[h].stop&&b(t[h]);else for(h in t)t[h]&&t[h].stop&&Zb.test(h)&&b(t[h]);for(h=m.length;h--;)m[h].elem!==this||null!=a&&m[h].queue!==a||(m[h].anim.stop(c),d=!1,m.splice(h,1));!d&&c||f.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var d,c=f._data(this),b=c[a+"queue"];d=c[a+"queueHooks"];var h=f.timers,m=b?
b.length:0;c.finish=!0;f.queue(this,a,[]);d&&d.stop&&d.stop.call(this,!0);for(d=h.length;d--;)h[d].elem===this&&h[d].queue===a&&(h[d].anim.stop(!0),h.splice(d,1));for(d=0;m>d;d++)b[d]&&b[d].finish&&b[d].finish.call(this);delete c.finish})}});f.each(["toggle","show","hide"],function(a,d){var c=f.fn[d];f.fn[d]=function(a,b,h){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(ta(d,!0),a,b,h)}});f.each({slideDown:ta("show"),slideUp:ta("hide"),slideToggle:ta("toggle"),fadeIn:{opacity:"show"},
fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,d){f.fn[a]=function(a,c,b){return this.animate(d,a,c,b)}});f.timers=[];f.fx.tick=function(){var a,d=f.timers,c=0;for(Ra=f.now();c<d.length;c++)a=d[c],a()||d[c]!==a||d.splice(c--,1);d.length||f.fx.stop();Ra=void 0};f.fx.timer=function(a){f.timers.push(a);a()?f.fx.start():f.timers.pop()};f.fx.interval=13;f.fx.start=function(){cb||(cb=setInterval(f.fx.tick,f.fx.interval))};f.fx.stop=function(){clearInterval(cb);cb=null};f.fx.speeds={slow:600,
fast:200,_default:400};f.fn.delay=function(a,d){return a=f.fx?f.fx.speeds[a]||a:a,d=d||"fx",this.queue(d,function(d,c){var b=setTimeout(d,a);c.stop=function(){clearTimeout(b)}})};(function(){var a,d,c,b,h;d=R.createElement("div");d.setAttribute("className","t");d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";b=d.getElementsByTagName("a")[0];c=R.createElement("select");h=c.appendChild(R.createElement("option"));a=d.getElementsByTagName("input")[0];b.style.cssText="top:1px";
G.getSetAttribute="t"!==d.className;G.style=/top/.test(b.getAttribute("style"));G.hrefNormalized="/a"===b.getAttribute("href");G.checkOn=!!a.value;G.optSelected=h.selected;G.enctype=!!R.createElement("form").enctype;c.disabled=!0;G.optDisabled=!h.disabled;a=R.createElement("input");a.setAttribute("value","");G.input=""===a.getAttribute("value");a.value="t";a.setAttribute("type","radio");G.radioValue="t"===a.value})();var $b=/\r/g;f.fn.extend({val:function(a){var d,c,b,h=this[0];if(arguments.length)return b=
f.isFunction(a),this.each(function(c){var h;1===this.nodeType&&(h=b?a.call(this,c,f(this).val()):a,null==h?h="":"number"==typeof h?h+="":f.isArray(h)&&(h=f.map(h,function(a){return null==a?"":a+""})),d=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&void 0!==d.set(this,h,"value")||(this.value=h))});if(h)return d=f.valHooks[h.type]||f.valHooks[h.nodeName.toLowerCase()],d&&"get"in d&&void 0!==(c=d.get(h,"value"))?c:(c=h.value,"string"==typeof c?c.replace($b,""):null==c?
"":c)}});f.extend({valHooks:{option:{get:function(a){var d=f.find.attr(a,"value");return null!=d?d:f.trim(f.text(a))}},select:{get:function(a){for(var d,c=a.options,b=a.selectedIndex,h="select-one"===a.type||0>b,m=h?null:[],t=h?b+1:c.length,e=0>b?t:h?b:0;t>e;e++)if(d=c[e],!(!d.selected&&e!==b||(G.optDisabled?d.disabled:null!==d.getAttribute("disabled"))||d.parentNode.disabled&&f.nodeName(d.parentNode,"optgroup"))){if(a=f(d).val(),h)return a;m.push(a)}return m},set:function(a,d){for(var c,b,h=a.options,
m=f.makeArray(d),t=h.length;t--;)if(b=h[t],0<=f.inArray(f.valHooks.option.get(b),m))try{b.selected=c=!0}catch(e){b.scrollHeight}else b.selected=!1;return c||(a.selectedIndex=-1),h}}}});f.each(["radio","checkbox"],function(){f.valHooks[this]={set:function(a,d){return f.isArray(d)?a.checked=0<=f.inArray(f(a).val(),d):void 0}};G.checkOn||(f.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Va,Cb,Ka=f.expr.attrHandle,lb=/^(?:checked|selected)$/i,Pa=G.getSetAttribute,
db=G.input;f.fn.extend({attr:function(a,d){return Ia(this,f.attr,a,d,1<arguments.length)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})}});f.extend({attr:function(a,d,c){var b,h,m=a.nodeType;if(a&&3!==m&&8!==m&&2!==m)return"undefined"===typeof a.getAttribute?f.prop(a,d,c):(1===m&&f.isXMLDoc(a)||(d=d.toLowerCase(),b=f.attrHooks[d]||(f.expr.match.bool.test(d)?Cb:Va)),void 0===c?b&&"get"in b&&null!==(h=b.get(a,d))?h:(h=f.find.attr(a,d),null==h?void 0:h):null!==c?b&&"set"in
b&&void 0!==(h=b.set(a,c,d))?h:(a.setAttribute(d,c+""),c):void f.removeAttr(a,d))},removeAttr:function(a,d){var c,b,h=0,t=d&&d.match(m);if(t&&1===a.nodeType)for(;c=t[h++];)b=f.propFix[c]||c,f.expr.match.bool.test(c)?db&&Pa||!lb.test(c)?a[b]=!1:a[f.camelCase("default-"+c)]=a[b]=!1:f.attr(a,c,""),a.removeAttribute(Pa?c:b)},attrHooks:{type:{set:function(a,d){if(!G.radioValue&&"radio"===d&&f.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",d),c&&(a.value=c),d}}}}});Cb={set:function(a,d,
c){return!1===d?f.removeAttr(a,c):db&&Pa||!lb.test(c)?a.setAttribute(!Pa&&f.propFix[c]||c,c):a[f.camelCase("default-"+c)]=a[c]=!0,c}};f.each(f.expr.match.bool.source.match(/\w+/g),function(a,d){var c=Ka[d]||f.find.attr;Ka[d]=db&&Pa||!lb.test(d)?function(a,d,b){var h,m;return b||(m=Ka[d],Ka[d]=h,h=null!=c(a,d,b)?d.toLowerCase():null,Ka[d]=m),h}:function(a,d,c){return c?void 0:a[f.camelCase("default-"+d)]?d.toLowerCase():null}});db&&Pa||(f.attrHooks.value={set:function(a,d,c){return f.nodeName(a,"input")?
void(a.defaultValue=d):Va&&Va.set(a,d,c)}});Pa||(Va={set:function(a,d,c){var b=a.getAttributeNode(c);return b||a.setAttributeNode(b=a.ownerDocument.createAttribute(c)),b.value=d+="","value"===c||d===a.getAttribute(c)?d:void 0}},Ka.id=Ka.name=Ka.coords=function(a,d,c){var b;return c?void 0:(b=a.getAttributeNode(d))&&""!==b.value?b.value:null},f.valHooks.button={get:function(a,d){var c=a.getAttributeNode(d);return c&&c.specified?c.value:void 0},set:Va.set},f.attrHooks.contenteditable={set:function(a,
d,c){Va.set(a,""===d?!1:d,c)}},f.each(["width","height"],function(a,d){f.attrHooks[d]={set:function(a,c){return""===c?(a.setAttribute(d,"auto"),c):void 0}}}));G.style||(f.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,d){return a.style.cssText=d+""}});var ac=/^(?:input|select|textarea|button|object)$/i,bc=/^(?:a|area)$/i;f.fn.extend({prop:function(a,d){return Ia(this,f.prop,a,d,1<arguments.length)},removeProp:function(a){return a=f.propFix[a]||a,this.each(function(){try{this[a]=
void 0,delete this[a]}catch(d){}})}});f.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,d,c){var b,h,m,t=a.nodeType;if(a&&3!==t&&8!==t&&2!==t)return m=1!==t||!f.isXMLDoc(a),m&&(d=f.propFix[d]||d,h=f.propHooks[d]),void 0!==c?h&&"set"in h&&void 0!==(b=h.set(a,c,d))?b:a[d]=c:h&&"get"in h&&null!==(b=h.get(a,d))?b:a[d]},propHooks:{tabIndex:{get:function(a){var d=f.find.attr(a,"tabindex");return d?parseInt(d,10):ac.test(a.nodeName)||bc.test(a.nodeName)&&a.href?0:-1}}}});G.hrefNormalized||
f.each(["href","src"],function(a,d){f.propHooks[d]={get:function(a){return a.getAttribute(d,4)}}});G.optSelected||(f.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null}});f.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){f.propFix[this.toLowerCase()]=this});G.enctype||(f.propFix.enctype="encoding");var mb=/[\t\r\n\f]/g;f.fn.extend({addClass:function(a){var d,
c,b,h,t,e=0,y=this.length;d="string"==typeof a&&a;if(f.isFunction(a))return this.each(function(d){f(this).addClass(a.call(this,d,this.className))});if(d)for(d=(a||"").match(m)||[];y>e;e++)if(c=this[e],b=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(mb," "):" ")){for(t=0;h=d[t++];)0>b.indexOf(" "+h+" ")&&(b+=h+" ");b=f.trim(b);c.className!==b&&(c.className=b)}return this},removeClass:function(a){var d,c,b,h,t,e=0,y=this.length;d=0===arguments.length||"string"==typeof a&&a;if(f.isFunction(a))return this.each(function(d){f(this).removeClass(a.call(this,
d,this.className))});if(d)for(d=(a||"").match(m)||[];y>e;e++)if(c=this[e],b=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(mb," "):"")){for(t=0;h=d[t++];)for(;0<=b.indexOf(" "+h+" ");)b=b.replace(" "+h+" "," ");b=a?f.trim(b):"";c.className!==b&&(c.className=b)}return this},toggleClass:function(a,d){var c=typeof a;return"boolean"==typeof d&&"string"===c?d?this.addClass(a):this.removeClass(a):this.each(f.isFunction(a)?function(c){f(this).toggleClass(a.call(this,c,this.className,d),d)}:function(){if("string"===
c)for(var d,b=0,h=f(this),t=a.match(m)||[];d=t[b++];)h.hasClass(d)?h.removeClass(d):h.addClass(d);else("undefined"===c||"boolean"===c)&&(this.className&&f._data(this,"__className__",this.className),this.className=this.className||!1===a?"":f._data(this,"__className__")||"")})},hasClass:function(a){a=" "+a+" ";for(var d=0,c=this.length;c>d;d++)if(1===this[d].nodeType&&0<=(" "+this[d].className+" ").replace(mb," ").indexOf(a))return!0;return!1}});f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,d){f.fn[d]=function(a,c){return 0<arguments.length?this.on(d,null,a,c):this.trigger(d)}});f.fn.extend({hover:function(a,d){return this.mouseenter(a).mouseleave(d||a)},bind:function(a,d,c){return this.on(a,null,d,c)},unbind:function(a,d){return this.off(a,null,d)},delegate:function(a,d,c,b){return this.on(d,a,c,b)},undelegate:function(a,d,c){return 1===arguments.length?this.off(a,"**"):this.off(d,a||"**",c)}});var nb=f.now(),ob=/\?/,cc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
f.parseJSON=function(a){if(b.JSON&&b.JSON.parse)return b.JSON.parse(a+"");var d,c=null,h=f.trim(a+"");return h&&!f.trim(h.replace(cc,function(a,b,h,m){return d&&b&&(c=0),0===c?a:(d=h||b,c+=!m-!h,"")}))?Function("return "+h)():f.error("Invalid JSON: "+a)};f.parseXML=function(a){var d,c;if(!a||"string"!=typeof a)return null;try{b.DOMParser?(c=new DOMParser,d=c.parseFromString(a,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a))}catch(h){d=void 0}return d&&d.documentElement&&
!d.getElementsByTagName("parsererror").length||f.error("Invalid XML: "+a),d};var Qa,La,dc=/#.*$/,Db=/([?&])_=[^&]*/,ec=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,fc=/^(?:GET|HEAD)$/,gc=/^\/\//,Eb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Fb={},gb={},Gb="*/".concat("*");try{La=location.href}catch(I){La=R.createElement("a"),La.href="",La=La.href}Qa=Eb.exec(La.toLowerCase())||[];f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:La,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Qa[1]),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,d){return d?da(da(a,
f.ajaxSettings),d):da(f.ajaxSettings,a)},ajaxPrefilter:U(Fb),ajaxTransport:U(gb),ajax:function(a,d){function c(a,d,b,h){var m,l,k,J,r=d;if(2!==v){v=2;y&&clearTimeout(y);n=void 0;e=h||"";T.readyState=0<a?4:0;h=200<=a&&300>a||304===a;if(b){k=g;for(var X=T,I,L,A,M,Aa=k.contents,C=k.dataTypes;"*"===C[0];)C.shift(),void 0===L&&(L=k.mimeType||X.getResponseHeader("Content-Type"));if(L)for(M in Aa)if(Aa[M]&&Aa[M].test(L)){C.unshift(M);break}if(C[0]in b)A=C[0];else{for(M in b){if(!C[0]||k.converters[M+" "+
C[0]]){A=M;break}I||(I=M)}A=A||I}k=A?(A!==C[0]&&C.unshift(A),b[A]):void 0}var ca;a:{b=g;I=k;L=T;A=h;var N,ma,W;k={};X=b.dataTypes.slice();if(X[1])for(N in b.converters)k[N.toLowerCase()]=b.converters[N];for(M=X.shift();M;)if(b.responseFields[M]&&(L[b.responseFields[M]]=I),!W&&A&&b.dataFilter&&(I=b.dataFilter(I,b.dataType)),W=M,M=X.shift())if("*"===M)M=W;else if("*"!==W&&W!==M){if(N=k[W+" "+M]||k["* "+M],!N)for(ca in k)if(ma=ca.split(" "),ma[1]===M&&(N=k[W+" "+ma[0]]||k["* "+ma[0]])){!0===N?N=k[ca]:
!0!==k[ca]&&(M=ma[0],X.unshift(ma[1]));break}if(!0!==N)if(N&&b["throws"])I=N(I);else try{I=N(I)}catch(ia){ca={state:"parsererror",error:N?ia:"No conversion from "+W+" to "+M};break a}}ca={state:"success",data:I}}k=ca;h?(g.ifModified&&(J=T.getResponseHeader("Last-Modified"),J&&(f.lastModified[t]=J),J=T.getResponseHeader("etag"),J&&(f.etag[t]=J)),204===a||"HEAD"===g.type?r="nocontent":304===a?r="notmodified":(r=k.state,m=k.data,l=k.error,h=!l)):(l=r,(a||!r)&&(r="error",0>a&&(a=0)));T.status=a;T.statusText=
(d||r)+"";h?w.resolveWith(u,[m,r,T]):w.rejectWith(u,[T,r,l]);T.statusCode(B);B=void 0;E&&V.trigger(h?"ajaxSuccess":"ajaxError",[T,g,h?m:l]);va.fireWith(u,[T,r]);E&&(V.trigger("ajaxComplete",[T,g]),--f.active||f.event.trigger("ajaxStop"))}}"object"==typeof a&&(d=a,a=void 0);d=d||{};var b,h,t,e,y,E,n,l,g=f.ajaxSetup({},d),u=g.context||g,V=g.context&&(u.nodeType||u.jquery)?f(u):f.event,w=f.Deferred(),va=f.Callbacks("once memory"),B=g.statusCode||{},k={},J={},v=0,r="canceled",T={readyState:0,getResponseHeader:function(a){var d;
if(2===v){if(!l)for(l={};d=ec.exec(e);)l[d[1].toLowerCase()]=d[2];d=l[a.toLowerCase()]}return null==d?null:d},getAllResponseHeaders:function(){return 2===v?e:null},setRequestHeader:function(a,d){var c=a.toLowerCase();return v||(a=J[c]=J[c]||a,k[a]=d),this},overrideMimeType:function(a){return v||(g.mimeType=a),this},statusCode:function(a){var d;if(a)if(2>v)for(d in a)B[d]=[B[d],a[d]];else T.always(a[T.status]);return this},abort:function(a){a=a||r;return n&&n.abort(a),c(0,a),this}};if(w.promise(T).complete=
va.add,T.success=T.done,T.error=T.fail,g.url=((a||g.url||La)+"").replace(dc,"").replace(gc,Qa[1]+"//"),g.type=d.method||d.type||g.method||g.type,g.dataTypes=f.trim(g.dataType||"*").toLowerCase().match(m)||[""],null==g.crossDomain&&(b=Eb.exec(g.url.toLowerCase()),g.crossDomain=!(!b||b[1]===Qa[1]&&b[2]===Qa[2]&&(b[3]||("http:"===b[1]?"80":"443"))===(Qa[3]||("http:"===Qa[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=f.param(g.data,g.traditional)),ya(Fb,g,d,T),2===v)return T;
(E=g.global)&&0===f.active++&&f.event.trigger("ajaxStart");g.type=g.type.toUpperCase();g.hasContent=!fc.test(g.type);t=g.url;g.hasContent||(g.data&&(t=g.url+=(ob.test(t)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=Db.test(t)?t.replace(Db,"$1_="+nb++):t+(ob.test(t)?"&":"?")+"_="+nb++));g.ifModified&&(f.lastModified[t]&&T.setRequestHeader("If-Modified-Since",f.lastModified[t]),f.etag[t]&&T.setRequestHeader("If-None-Match",f.etag[t]));(g.data&&g.hasContent&&!1!==g.contentType||d.contentType)&&
T.setRequestHeader("Content-Type",g.contentType);T.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Gb+"; q=0.01":""):g.accepts["*"]);for(h in g.headers)T.setRequestHeader(h,g.headers[h]);if(g.beforeSend&&(!1===g.beforeSend.call(u,T,g)||2===v))return T.abort();r="abort";for(h in{success:1,error:1,complete:1})T[h](g[h]);if(n=ya(gb,g,d,T)){T.readyState=1;E&&V.trigger("ajaxSend",[T,g]);g.async&&0<g.timeout&&(y=setTimeout(function(){T.abort("timeout")},
g.timeout));try{v=1,n.send(k,c)}catch(X){if(!(2>v))throw X;c(-1,X)}}else c(-1,"No Transport");return T},getJSON:function(a,d,c){return f.get(a,d,c,"json")},getScript:function(a,d){return f.get(a,void 0,d,"script")}});f.each(["get","post"],function(a,d){f[d]=function(a,c,b,h){return f.isFunction(c)&&(h=h||b,b=c,c=void 0),f.ajax({url:a,type:d,dataType:h,data:c,success:b})}});f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,d){f.fn[d]=function(a){return this.on(d,
a)}});f._evalUrl=function(a){return f.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};f.fn.extend({wrapAll:function(a){if(f.isFunction(a))return this.each(function(d){f(this).wrapAll(a.call(this,d))});if(this[0]){var d=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&d.insertBefore(this[0]);d.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(f.isFunction(a)?
function(d){f(this).wrapInner(a.call(this,d))}:function(){var d=f(this),c=d.contents();c.length?c.wrapAll(a):d.append(a)})},wrap:function(a){var d=f.isFunction(a);return this.each(function(c){f(this).wrapAll(d?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()}});f.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!G.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||
f.css(a,"display"))};f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)};var hc=/%20/g,Nb=/\[\]$/,Hb=/\r?\n/g,ic=/^(?:submit|button|image|reset|file)$/i,jc=/^(?:input|select|textarea|keygen)/i;f.param=function(a,d){var c,b=[],h=function(a,d){d=f.isFunction(d)?d():null==d?"":d;b[b.length]=encodeURIComponent(a)+"="+encodeURIComponent(d)};if(void 0===d&&(d=f.ajaxSettings&&f.ajaxSettings.traditional),f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){h(this.name,this.value)});
else for(c in a)fa(c,a[c],d,h);return b.join("&").replace(hc,"+")};f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=f.prop(this,"elements");return a?f.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!f(this).is(":disabled")&&jc.test(this.nodeName)&&!ic.test(a)&&(this.checked||!Wa.test(a))}).map(function(a,d){var c=f(this).val();return null==c?null:f.isArray(c)?f.map(c,function(a){return{name:d.name,
value:a.replace(Hb,"\r\n")}}):{name:d.name,value:c.replace(Hb,"\r\n")}}).get()}});f.ajaxSettings.xhr=void 0!==b.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&ua()))a:{try{a=new b.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}a=void 0}return a}:ua;var kc=0,eb={},fb=f.ajaxSettings.xhr();b.ActiveXObject&&f(b).on("unload",function(){for(var a in eb)eb[a](void 0,!0)});G.cors=!!fb&&"withCredentials"in fb;(fb=G.ajax=!!fb)&&f.ajaxTransport(function(a){if(!a.crossDomain||
G.cors){var d;return{send:function(c,b){var h,m=a.xhr(),t=++kc;if(m.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(h in a.xhrFields)m[h]=a.xhrFields[h];a.mimeType&&m.overrideMimeType&&m.overrideMimeType(a.mimeType);a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(h in c)void 0!==c[h]&&m.setRequestHeader(h,c[h]+"");m.send(a.hasContent&&a.data||null);d=function(c,h){var e,y,E;if(d&&(h||4===m.readyState))if(delete eb[t],d=void 0,m.onreadystatechange=
f.noop,h)4!==m.readyState&&m.abort();else{E={};e=m.status;"string"==typeof m.responseText&&(E.text=m.responseText);try{y=m.statusText}catch(n){y=""}e||!a.isLocal||a.crossDomain?1223===e&&(e=204):e=E.text?200:404}E&&b(e,y,E,m.getAllResponseHeaders())};a.async?4===m.readyState?setTimeout(d):m.onreadystatechange=eb[t]=d:d()},abort:function(){d&&d(void 0,!0)}}}});f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},
converters:{"text script":function(a){return f.globalEval(a),a}}});f.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});f.ajaxTransport("script",function(a){if(a.crossDomain){var d,c=R.head||f("head")[0]||R.documentElement;return{send:function(b,h){d=R.createElement("script");d.async=!0;a.scriptCharset&&(d.charset=a.scriptCharset);d.src=a.url;d.onload=d.onreadystatechange=function(a,c){(c||!d.readyState||/loaded|complete/.test(d.readyState))&&
(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),d=null,c||h(200,"success"))};c.insertBefore(d,c.firstChild)},abort:function(){d&&d.onload(void 0,!0)}}}});var Ib=[],pb=/(=)\?(?=&|$)|\?\?/;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Ib.pop()||f.expando+"_"+nb++;return this[a]=!0,a}});f.ajaxPrefilter("json jsonp",function(a,d,c){var h,m,t,e=!1!==a.jsonp&&(pb.test(a.url)?"url":"string"==typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&
pb.test(a.data)&&"data");return e||"jsonp"===a.dataTypes[0]?(h=a.jsonpCallback=f.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,e?a[e]=a[e].replace(pb,"$1"+h):!1!==a.jsonp&&(a.url+=(ob.test(a.url)?"&":"?")+a.jsonp+"="+h),a.converters["script json"]=function(){return t||f.error(h+" was not called"),t[0]},a.dataTypes[0]="json",m=b[h],b[h]=function(){t=arguments},c.always(function(){b[h]=m;a[h]&&(a.jsonpCallback=d.jsonpCallback,Ib.push(h));t&&f.isFunction(m)&&m(t[0]);t=m=void 0}),"script"):
void 0});f.parseHTML=function(a,d,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof d&&(c=d,d=!1);d=d||R;var b=Ta.exec(a);c=!c&&[];return b?[d.createElement(b[1])]:(b=f.buildFragment([a],d,c),c&&c.length&&f(c).remove(),f.merge([],b.childNodes))};var Jb=f.fn.load;f.fn.load=function(a,d,c){if("string"!=typeof a&&Jb)return Jb.apply(this,arguments);var b,h,m,t=this,e=a.indexOf(" ");return 0<=e&&(b=f.trim(a.slice(e,a.length)),a=a.slice(0,e)),f.isFunction(d)?(c=d,d=void 0):d&&"object"==typeof d&&
(m="POST"),0<t.length&&f.ajax({url:a,type:m,dataType:"html",data:d}).done(function(a){h=arguments;t.html(b?f("<div>").append(f.parseHTML(a)).find(b):a)}).complete(c&&function(a,d){t.each(c,h||[a.responseText,d,a])}),this};f.expr.filters.animated=function(a){return f.grep(f.timers,function(d){return a===d.elem}).length};var Kb=b.document.documentElement;f.offset={setOffset:function(a,d,c){var b,h,m,t,e,y,E=f.css(a,"position"),n=f(a),g={};"static"===E&&(a.style.position="relative");e=n.offset();m=f.css(a,
"top");y=f.css(a,"left");("absolute"===E||"fixed"===E)&&-1<f.inArray("auto",[m,y])?(b=n.position(),t=b.top,h=b.left):(t=parseFloat(m)||0,h=parseFloat(y)||0);f.isFunction(d)&&(d=d.call(a,c,e));null!=d.top&&(g.top=d.top-e.top+t);null!=d.left&&(g.left=d.left-e.left+h);"using"in d?d.using.call(a,g):n.css(g)}};f.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(d){f.offset.setOffset(this,a,d)});var d,c,b={top:0,left:0},h=this[0],m=h&&h.ownerDocument;if(m)return d=
m.documentElement,f.contains(d,h)?("undefined"!==typeof h.getBoundingClientRect&&(b=h.getBoundingClientRect()),c=n(m),{top:b.top+(c.pageYOffset||d.scrollTop)-(d.clientTop||0),left:b.left+(c.pageXOffset||d.scrollLeft)-(d.clientLeft||0)}):b},position:function(){if(this[0]){var a,d,c={top:0,left:0},b=this[0];return"fixed"===f.css(b,"position")?d=b.getBoundingClientRect():(a=this.offsetParent(),d=this.offset(),f.nodeName(a[0],"html")||(c=a.offset()),c.top+=f.css(a[0],"borderTopWidth",!0),c.left+=f.css(a[0],
"borderLeftWidth",!0)),{top:d.top-c.top-f.css(b,"marginTop",!0),left:d.left-c.left-f.css(b,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Kb;a&&!f.nodeName(a,"html")&&"static"===f.css(a,"position");)a=a.offsetParent;return a||Kb})}});f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,d){var c=/Y/.test(d);f.fn[a]=function(b){return Ia(this,function(a,b,h){var m=n(a);return void 0===h?m?d in m?m[d]:m.document.documentElement[b]:
a[b]:void(m?m.scrollTo(c?f(m).scrollLeft():h,c?h:f(m).scrollTop()):a[b]=h)},a,b,arguments.length,null)}});f.each(["top","left"],function(a,d){f.cssHooks[d]=la(G.pixelPosition,function(a,c){return c?(c=Na(a,d),ab.test(c)?f(a).position()[d]+"px":c):void 0})});f.each({Height:"height",Width:"width"},function(a,d){f.each({padding:"inner"+a,content:d,"":"outer"+a},function(c,b){f.fn[b]=function(b,h){var m=arguments.length&&(c||"boolean"!=typeof b),t=c||(!0===b||!0===h?"margin":"border");return Ia(this,
function(d,c,b){var h;return f.isWindow(d)?d.document.documentElement["client"+a]:9===d.nodeType?(h=d.documentElement,Math.max(d.body["scroll"+a],h["scroll"+a],d.body["offset"+a],h["offset"+a],h["client"+a])):void 0===b?f.css(d,c,t):f.style(d,c,b,t)},d,m?b:void 0,m,null)}})});f.fn.size=function(){return this.length};f.fn.andSelf=f.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return f});var lc=b.jQuery,mc=b.$;return f.noConflict=function(a){return b.$===f&&(b.$=mc),
a&&b.jQuery===f&&(b.jQuery=lc),f},"undefined"===typeof a&&(b.jQuery=b.$=f),f});
(function(b,a,K){function P(e){z[e]||(z[e]=!0,b.migrateWarnings.push(e),a.console&&console.warn&&!b.migrateMute&&console.warn("JQMIGRATE: "+e))}function D(a,e,g,l){if(Object.defineProperty)try{Object.defineProperty(a,e,{configurable:!0,enumerable:!0,get:function(){P(l);return g},set:function(a){P(l);g=a}});return}catch(u){}b._definePropertyBroken=!0;a[e]=g}var z={};b.migrateWarnings=[];b.migrateReset=function(){z={};b.migrateWarnings.length=0};"BackCompat"===document.compatMode&&P("jQuery is not compatible with Quirks Mode");
var F=b.attr,k=b.attrHooks.value&&b.attrHooks.value.get||function(){return null},q=b.attrHooks.value&&b.attrHooks.value.set||function(){return K},v=/^(?:input|button)$/i,l=/^[238]$/,A=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,g=/^(?:checked|selected)$/i;D(b,"attrFn",{},"jQuery.attrFn is deprecated");b.attr=function(a,e,u,k){var J=e.toLowerCase(),T=a&&a.nodeType;if(k&&(P("jQuery.fn.attr( props, pass ) is deprecated"),
a&&!l.test(T)&&b.isFunction(b.fn[e])))return b(a)[e](u);"type"===e&&u!==K&&v.test(a.nodeName)&&P("Can't change the 'type' of an input or button in IE 6/7/8");!b.attrHooks[J]&&A.test(J)&&(b.attrHooks[J]={get:function(a,e){var g,l=b.prop(a,e);return!0===l||"boolean"!==typeof l&&(g=a.getAttributeNode(e))&&!1!==g.nodeValue?e.toLowerCase():K},set:function(a,e,g){!1===e?b.removeAttr(a,g):(e=b.propFix[g]||g,e in a&&(a[e]=!0),a.setAttribute(g,g.toLowerCase()));return g}},g.test(J)&&P("jQuery.fn.attr("+J+
") may use property instead of attribute"));return F.call(b,a,e,u)};b.attrHooks.value={get:function(a,b){var e=(a.nodeName||"").toLowerCase();if("button"===e)return k.apply(this,arguments);"input"!==e&&"option"!==e&&P("property-based jQuery.fn.attr('value') is deprecated");return b in a?a.value:null},set:function(a,b){var e=(a.nodeName||"").toLowerCase();if("button"===e)return q.apply(this,arguments);"input"!==e&&"option"!==e&&P("property-based jQuery.fn.attr('value', val) is deprecated");a.value=
b}};var e,J,r=b.fn.init,aa=/^(?:.*(<[\w\W]+>)[^>]*|#([\w\-]*))$/;b.fn.init=function(a,e,g){var l;return a&&"string"===typeof a&&!b.isPlainObject(e)&&(l=aa.exec(a))&&l[1]&&("<"!==a.charAt(0)&&P("$(html) HTML strings must start with '<' character"),e&&e.context&&(e=e.context),b.parseHTML)?r.call(this,b.parseHTML(b.trim(a),e,!0),e,g):r.apply(this,arguments)};b.fn.init.prototype=b.fn;b.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||
/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};e=b.uaMatch(navigator.userAgent);J={};e.browser&&(J[e.browser]=!0,J.version=e.version);J.chrome?J.webkit=!0:J.webkit&&(J.safari=!0);b.browser=J;D(b,"browser",J,"jQuery.browser is deprecated");b.sub=function(){function a(b,e){return new a.fn.init(b,e)}b.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(g,
l){l&&l instanceof b&&!(l instanceof a)&&(l=a(l));return b.fn.init.call(this,g,l,e)};a.fn.init.prototype=a.fn;var e=a(document);P("jQuery.sub() is deprecated");return a};var u=b.fn.data;b.fn.data=function(a){var e,g;return!(g=this[0])||"events"!==a||1!==arguments.length||(e=b.data(g,a),g=b._data(g,a),e!==K&&e!==g||g===K)?u.apply(this,arguments):(P("Use of jQuery.fn.data('events') is deprecated"),g)};var X=/\/(java|ecma)script/i,T=b.fn.andSelf||b.fn.addBack,M=b.buildFragment;b.fn.andSelf=function(){P("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()");
return T.apply(this,arguments)};b.clean||(b.clean=function(a,e,g,l){e=e||document;e=!e.nodeType&&e[0]||e;e=e.ownerDocument||e;P("jQuery.clean() is deprecated");var u,k=[];b.merge(k,b.buildFragment(a,e).childNodes);if(g)for(e=function(a){if(!a.type||X.test(a.type))return l?l.push(a.parentNode?a.parentNode.removeChild(a):a):g.appendChild(a)},a=0;null!=(u=k[a]);a++)b.nodeName(u,"script")&&e(u)||(g.appendChild(u),"undefined"!==typeof u.getElementsByTagName&&(u=b.grep(b.merge([],u.getElementsByTagName("script")),
e),k.splice.apply(k,[a+1,0].concat(u)),a+=u.length));return k});b.buildFragment=function(a,e,g,l){var u;e=e||document;e=!e.nodeType&&e[0]||e;e=e.ownerDocument||e;try{u=M.call(b,a,e,g,l)}catch(k){u=M.call(b,a,e.nodeType?[e]:e[0],g,l),P("jQuery.buildFragment() is deprecated")}u.fragment||(D(u,"fragment",u,"jQuery.buildFragment() is deprecated"),D(u,"cacheable",!1,"jQuery.buildFragment() is deprecated"));return u};var wa=b.event.add,ga=b.event.remove,ja=b.event.trigger,ba=b.fn.toggle,la=b.fn.live,ea=
b.fn.die,pa=/\b(?:ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess)\b/,H=/(?:^|\s)hover(\.\S+|)\b/,ha=function(a){if("string"!=typeof a||b.event.special.hover)return a;H.test(a)&&P("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'");return a&&a.replace(H,"mouseenter$1 mouseleave$1")};b.event.props&&"attrChange"!==b.event.props[0]&&b.event.props.unshift("attrChange","attrName","relatedNode","srcElement");D(b.event,"handle",b.event.dispatch,"jQuery.event.handle is undocumented and deprecated");
b.event.add=function(a,b,e,g,l){a!==document&&pa.test(b)&&P("AJAX events should be attached to document: "+b);wa.call(this,a,ha(b||""),e,g,l)};b.event.remove=function(a,b,e,g,l){ga.call(this,a,ha(b)||"",e,g,l)};b.fn.error=function(){var a=Array.prototype.slice.call(arguments,0);P("jQuery.fn.error() is deprecated");a.splice(0,0,"error");if(arguments.length)return this.bind.apply(this,a);this.triggerHandler.apply(this,a);return this};b.fn.toggle=function(a,e){if(!b.isFunction(a)||!b.isFunction(e))return ba.apply(this,
arguments);P("jQuery.fn.toggle(handler, handler...) is deprecated");var g=arguments,l=a.guid||b.guid++,u=0,k=function(e){var l=(b._data(this,"lastToggle"+a.guid)||0)%u;b._data(this,"lastToggle"+a.guid,l+1);e.preventDefault();return g[l].apply(this,arguments)||!1};for(k.guid=l;u<g.length;)g[u++].guid=l;return this.click(k)};b.fn.live=function(a,e,g){P("jQuery.fn.on() is deprecated");if(la)return la.apply(this,arguments);b(this.context).on(a,this.selector,e,g);return this};b.fn.die=function(a,e){P("jQuery.fn.die() is deprecated");
if(ea)return ea.apply(this,arguments);b(this.context).off(a,this.selector||"**",e);return this};b.event.trigger=function(a,b,e,g){!e&!pa.test(a)&&P("Global events are undocumented and deprecated");return ja.call(this,a,b,e||document,g)};b.each("ajaxStart ajaxStop ajaxSend ajaxComplete ajaxError ajaxSuccess".split(" "),function(a,e){b.event.special[e]={setup:function(){var a=this;a!==document&&(b.event.add(document,e+"."+b.guid,function(){b.event.trigger(e,null,a,!0)}),b._data(this,e,b.guid++));return!1},
teardown:function(){this!==document&&b.event.remove(document,e+"."+b._data(this,e));return!1}}})})(jQuery,window);
(function(b){function a(a,F,k){var q=this,v=a.add(this),l=a.find(k.tabs),A=F.jquery?F:a.children(F),g;l.length||(l=a.children());A.length||(A=a.parent().find(F));A.length||(A=b(F));b.extend(this,{click:function(e,J){var r=l.eq(e),A=!a.data("tabs");"string"==typeof e&&e.replace("#","")&&(r=l.filter('[href*="'+e.replace("#","")+'"]'),e=Math.max(l.index(r),0));if(k.rotate){var u=l.length-1;if(0>e)return q.click(u,J);if(e>u)return q.click(0,J)}if(!r.length){if(0<=g)return q;e=k.initialIndex;r=l.eq(e)}if(e===
g)return q;J=J||b.Event();J.type="onBeforeClick";v.trigger(J,[e]);if(!J.isDefaultPrevented())return K[A?k.initialEffect&&k.effect||"default":k.effect].call(q,e,function(){g=e;J.type="onClick";v.trigger(J,[e])}),l.removeClass(k.current),r.addClass(k.current),q},getConf:function(){return k},getTabs:function(){return l},getPanes:function(){return A},getCurrentPane:function(){return A.eq(g)},getCurrentTab:function(){return l.eq(g)},getIndex:function(){return g},next:function(){return q.click(g+1)},prev:function(){return q.click(g-
1)},destroy:function(){l.off(k.event).removeClass(k.current);A.find('a[href^="#"]').off("click.T");return q}});b.each(["onBeforeClick","onClick"],function(a,g){b.isFunction(k[g])&&b(q).on(g,k[g]);q[g]=function(a){a&&b(q).on(g,a);return q}});k.history&&b.fn.history&&(b.tools.history.init(l),k.event="history");l.each(function(a){b(this).on(k.event,function(b){q.click(a,b);return b.preventDefault()})});A.find('a[href^="#"]').on("click.T",function(a){q.click(b(this).attr("href"),a)});location.hash&&"a"==
k.tabs&&a.find('[href="'+location.hash+'"]').length?q.click(location.hash):(0===k.initialIndex||0<k.initialIndex)&&q.click(k.initialIndex)}b.tools=b.tools||{version:"v1.2.7"};b.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialEffect:!1,initialIndex:0,event:"click",rotate:!1,slideUpSpeed:400,slideDownSpeed:400,history:!1},addEffect:function(a,b){K[a]=b}};var K={"default":function(a,b){this.getPanes().hide().eq(a).show();b.call()},fade:function(a,
b){var k=this.getConf(),q=k.fadeOutSpeed,v=this.getPanes();q?v.fadeOut(q):v.hide();v.eq(a).fadeIn(k.fadeInSpeed,b)},slide:function(a,b){var k=this.getConf();this.getPanes().slideUp(k.slideUpSpeed);this.getPanes().eq(a).slideDown(k.slideDownSpeed,b)},ajax:function(a,b){this.getPanes().eq(0).load(this.getTabs().eq(a).attr("href"),b)}},P,D;b.tools.tabs.addEffect("horizontal",function(a,F){if(!P){var k=this.getPanes().eq(a),q=this.getCurrentPane();D||(D=this.getPanes().eq(0).width());P=!0;k.show();q.animate({width:0},
{step:function(a){k.css("width",D-a)},complete:function(){b(this).hide();F.call();P=!1}});q.length||(F.call(),P=!1)}});b.fn.tabs=function(D,F){var k=this.data("tabs");k&&(k.destroy(),this.removeData("tabs"));b.isFunction(F)&&(F={onBeforeClick:F});F=b.extend({},b.tools.tabs.conf,F);this.each(function(){k=new a(b(this),D,F);b(this).data("tabs",k)});return F.api?k:this}})(jQuery);
(function(b){function a(a,z,F){var k=F.relative?a.position().top:a.offset().top,q=F.relative?a.position().left:a.offset().left,v=F.position[0],k=k-(z.outerHeight()-F.offset[0]),q=q+(a.outerWidth()+F.offset[1]);/iPad/i.test(navigator.userAgent)&&(k-=b(window).scrollTop());var l=z.outerHeight()+a.outerHeight();"center"==v&&(k+=l/2);"bottom"==v&&(k+=l);v=F.position[1];a=z.outerWidth()+a.outerWidth();"center"==v&&(q-=a/2);"left"==v&&(q-=a);return{top:k,left:q}}function K(D,z){var F=this,k=D.add(F),q,
v=0,l=0,A=D.attr("title"),g=D.attr("data-tooltip"),e=P[z.effect],J,r=D.is(":input"),aa=r&&D.is(":checkbox, :radio, select, :button, :submit"),u=D.attr("type"),X=z.events[u]||z.events[r?aa?"widget":"input":"def"];if(!e)throw'Nonexistent effect "'+z.effect+'"';X=X.split(/,\s*/);if(2!=X.length)throw"Tooltip: bad events configuration for "+u;D.on(X[0],function(a){clearTimeout(v);z.predelay?l=setTimeout(function(){F.show(a)},z.predelay):F.show(a)}).on(X[1],function(a){clearTimeout(l);z.delay?v=setTimeout(function(){F.hide(a)},
z.delay):F.hide(a)});A&&z.cancelDefault&&(D.removeAttr("title"),D.data("title",A));b.extend(F,{show:function(u){if(!q&&(g?q=b(g):z.tip?q=b(z.tip).eq(0):A?q=b(z.layout).addClass(z.tipClass).appendTo(document.body).hide().append(A):(q=D.next(),q.length||(q=D.parent().next())),!q.length))throw"Cannot find tooltip for "+D;if(F.isShown())return F;q.stop(!0,!0);var r=a(D,q,z);z.tip&&q.html(D.data("title"));u=b.Event();u.type="onBeforeShow";k.trigger(u,[r]);if(u.isDefaultPrevented())return F;r=a(D,q,z);
q.css({position:"absolute",top:r.top,left:r.left});J=!0;e[0].call(F,function(){u.type="onShow";J="full";k.trigger(u)});r=z.events.tooltip.split(/,\s*/);q.data("__set")||(q.off(r[0]).on(r[0],function(){clearTimeout(v);clearTimeout(l)}),r[1]&&!D.is("input:not(:checkbox, :radio), textarea")&&q.off(r[1]).on(r[1],function(a){a.relatedTarget!=D[0]&&D.trigger(X[1].split(" ")[0])}),z.tip||q.data("__set",!0));return F},hide:function(a){if(!q||!F.isShown())return F;a=b.Event();a.type="onBeforeHide";k.trigger(a);
if(!a.isDefaultPrevented())return J=!1,P[z.effect][1].call(F,function(){a.type="onHide";k.trigger(a)}),F},isShown:function(a){return a?"full"==J:J},getConf:function(){return z},getTip:function(){return q},getTrigger:function(){return D}});b.each(["onHide","onBeforeShow","onShow","onBeforeHide"],function(a,e){b.isFunction(z[e])&&b(F).on(e,z[e]);F[e]=function(a){a&&b(F).on(e,a);return F}})}b.tools=b.tools||{version:"v1.2.7"};b.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,
opacity:1,tip:0,fadeIE:!1,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(a,b,F){P[a]=[b,F]}};var P={toggle:[function(a){var b=this.getConf(),F=this.getTip(),b=b.opacity;1>b&&F.css({opacity:b});F.show();a.call()},function(a){this.getTip().hide();a.call()}],fade:[function(a){var z=this.getConf();
!b.browser.msie||z.fadeIE?this.getTip().fadeTo(z.fadeInSpeed,z.opacity,a):(this.getTip().show(),a())},function(a){var z=this.getConf();!b.browser.msie||z.fadeIE?this.getTip().fadeOut(z.fadeOutSpeed,a):(this.getTip().hide(),a())}]};b.fn.tooltip=function(a){var z=this.data("tooltip");if(z)return z;a=b.extend(!0,{},b.tools.tooltip.conf,a);"string"==typeof a.position&&(a.position=a.position.split(/,?\s/));this.each(function(){z=new K(b(this),a);b(this).data("tooltip",z)});return a.api?z:this}})(jQuery);
(function(b){var a=b.tools.tooltip;a.dynamic={conf:{classNames:"top right bottom left"}};b.fn.dynamic=function(K){"number"==typeof K&&(K={speed:K});K=b.extend({},a.dynamic.conf,K);var P=b.extend(!0,{},K),D=K.classNames.split(/\s/),z;this.each(function(){var a=b(this).tooltip().onBeforeShow(function(a,q){var v=this.getTip(),l=this.getConf();z||(z=[l.position[0],l.position[1],l.offset[0],l.offset[1],b.extend({},l)]);b.extend(l,z[4]);l.position=[z[0],z[1]];l.offset=[z[2],z[3]];v.css({visibility:"hidden",
position:"absolute",top:q.top,left:q.left}).show();var A=b.extend(!0,{},P),g;g=b(window);var e=g.width()+g.scrollLeft(),J=g.height()+g.scrollTop();g=[v.offset().top<=g.scrollTop(),e<=v.offset().left+v.width(),J<=v.offset().top+v.height(),g.scrollLeft()>=v.offset().left];a:{for(e=g.length;e--;)if(g[e]){e=!1;break a}e=!0}if(!e){g[2]&&(b.extend(l,A.top),l.position[0]="top",v.addClass(D[0]));g[3]&&(b.extend(l,A.right),l.position[1]="right",v.addClass(D[1]));g[0]&&(b.extend(l,A.bottom),l.position[0]="bottom",
v.addClass(D[2]));g[1]&&(b.extend(l,A.left),l.position[1]="left",v.addClass(D[3]));if(g[0]||g[2])l.offset[0]*=-1;if(g[1]||g[3])l.offset[1]*=-1}v.css({visibility:"visible"}).hide()});a.onBeforeShow(function(){var a=this.getConf();this.getTip();setTimeout(function(){a.position=[z[0],z[1]];a.offset=[z[2],z[3]]},0)});a.onHide(function(){this.getTip().removeClass(K.classNames)});ret=a});return K.api?ret:this}})(jQuery);
(function(b){var a=b.tools.tooltip;b.extend(a.conf,{direction:"up",bounce:!1,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!b.browser.msie});var K={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};a.addEffect("slide",function(a){var b=this.getConf(),z=this.getTip(),F=b.slideFade?{opacity:b.opacity}:{},k=K[b.direction]||K.up;F[k[1]]=k[0]+"="+b.slideOffset;b.slideFade&&z.css({opacity:0});z.show().animate(F,b.slideInSpeed,a)},function(a){var D=this.getConf(),z=D.slideOffset,
F=D.slideFade?{opacity:0}:{},k=K[D.direction]||K.up,q=""+k[0];D.bounce&&(q="+"==q?"-":"+");F[k[1]]=q+"="+z;this.getTip().animate(F,D.slideOutSpeed,function(){b(this).hide();a.call()})})})(jQuery);
(function(b){function a(a,e,l){e=b(e).first()||e;var k=a.offset().top,v=a.offset().left,u=l.position.split(/,?\s+/),X=u[0],u=u[1],k=k-(e.outerHeight()-l.offset[0]),v=v+(a.outerWidth()+l.offset[1]);/iPad/i.test(navigator.userAgent)&&(k-=b(window).scrollTop());l=e.outerHeight()+a.outerHeight();"center"==X&&(k+=l/2);"bottom"==X&&(k+=l);a=a.outerWidth();"center"==u&&(v-=(a+e.outerWidth())/2);"left"==u&&(v-=a);return{top:k,left:v}}function K(a){function b(){return this.getAttribute("type")==a}b.key='[type="'+
a+'"]';return b}function P(g,e,k){function r(a,e,g){if(k.grouped||!a.length){var l;!1===g||b.isArray(g)?(l=v.messages[e.key||e]||v.messages["*"],l=l[k.lang]||v.messages["*"].en,(e=l.match(/\$\d/g))&&b.isArray(g)&&b.each(e,function(a){l=l.replace(this,g[a])})):l=g[k.lang]||g;a.push(l)}}var q=this,u=e.add(q);g=g.not(":button, :image, :reset, :submit");e.attr("novalidate","novalidate");b.extend(q,{getConf:function(){return k},getForm:function(){return e},getInputs:function(){return g},reflow:function(){g.each(function(){var e=
b(this),g=e.data("msg.el");g&&(e=a(e,g,k),g.css({top:e.top,left:e.left}))});return q},invalidate:function(a,e){if(!e){var l=[];b.each(a,function(a,b){var e=g.filter("[name='"+a+"']");e.length&&(e.trigger("OI",[b]),l.push({input:e,messages:[b]}))});a=l;e=b.Event()}e.type="onFail";u.trigger(e,[a]);e.isDefaultPrevented()||A[k.effect][0].call(q,a,e);return q},reset:function(a){a=a||g;a.removeClass(k.errorClass).each(function(){var a=b(this).data("msg.el");a&&(a.remove(),b(this).data("msg.el",null))}).off(k.errorInputEvent+
".v");return q},destroy:function(){e.off(k.formEvent+".V reset.V");g.off(k.inputEvent+".V change.V");return q.reset()},checkValidity:function(a,e){a=a||g;a=a.not(":disabled");var v={};a=a.filter(function(){var a=b(this).attr("name");if(!v[a])return v[a]=!0,b(this)});if(!a.length)return!0;e=e||b.Event();e.type="onBeforeValidate";u.trigger(e,[a]);if(e.isDefaultPrevented())return e.result;var z=[];a.each(function(){var a=[],g=b(this).data("messages",a),v=F&&g.is(":date")?"onHide.v":k.errorInputEvent+
".v";g.off(v);b.each(l,function(){var b=this[0];if(g.filter(b).length){var l=this[1].call(q,g,g.val());if(!0!==l){e.type="onBeforeFail";u.trigger(e,[g,b]);if(e.isDefaultPrevented())return!1;var v=g.attr(k.messageAttr);if(v)return a=[v],!1;r(a,b,l)}}});a.length&&(z.push({input:g,messages:a}),g.trigger("OI",[a]),k.errorInputEvent&&g.on(v,function(a){q.checkValidity(g,a)}));if(k.singleError&&z.length)return!1});var D=A[k.effect];if(!D)throw'Validator: cannot find effect "'+k.effect+'"';if(z.length)return q.invalidate(z,
e),!1;D[1].call(q,a,e);e.type="onSuccess";u.trigger(e,[a]);a.off(k.errorInputEvent+".v");return!0}});b.each(["onBeforeValidate","onBeforeFail","onFail","onSuccess"],function(a,e){b.isFunction(k[e])&&b(q).on(e,k[e]);q[e]=function(a){a&&b(q).on(e,a);return q}});k.formEvent&&e.on(k.formEvent+".V",function(a){if(!q.checkValidity(null,a))return a.preventDefault();a.target=e;a.type=k.formEvent});e.on("reset.V",function(){q.reset()});g[0]&&g[0].validity&&g.each(function(){this.oninvalid=function(){return!1}});
e[0]&&(e[0].checkValidity=q.checkValidity);k.inputEvent&&g.on(k.inputEvent+".V",function(a){q.checkValidity(b(this),a)});g.filter(":checkbox, select").filter("[required]").on("change.V",function(a){var e=b(this);(this.checked||e.is("select")&&b(this).val())&&A[k.effect][1].call(q,e,a)});g.filter(":radio[required]").on("change.V",function(a){var e=b("[name='"+b(a.srcElement).attr("name")+"']");null!=e&&0!=e.length&&q.checkValidity(e,a)});b(window).resize(function(){q.reflow()})}b.tools=b.tools||{version:"v1.2.7"};
var D=/\[type=([a-z]+)\]/,z=/^-?[0-9]*(\.[0-9]+)?$/,F=b.tools.dateinput,k=/^([a-z0-9_\.\-\+]+)@([\da-z\.\-]+)\.([a-z\.]{2,6})$/i,q=/^(https?:\/\/)?[\da-z\.\-]+\.[a-z\.]{2,6}[#&+_\?\/\w \.\-=]*$/i,v;v=b.tools.validator={conf:{grouped:!1,effect:"default",errorClass:"invalid",inputEvent:null,errorInputEvent:"keyup",formEvent:"submit",lang:"en",message:"<div/>",messageAttr:"data-message",messageClass:"error",offset:[0,0],position:"center right",singleError:!1,speed:"normal"},messages:{"*":{en:"Please correct this value"}},
localize:function(a,e){b.each(e,function(b,e){v.messages[b]=v.messages[b]||{};v.messages[b][a]=e})},localizeFn:function(a,e){v.messages[a]=v.messages[a]||{};b.extend(v.messages[a],e)},fn:function(a,e,k){b.isFunction(e)?k=e:("string"==typeof e&&(e={en:e}),this.messages[a.key||a]=e);(e=D.exec(a))&&(a=K(e[1]));l.push([a,k])},addEffect:function(a,b,l){A[a]=[b,l]}};var l=[],A={"default":[function(g){var e=this.getConf();b.each(g,function(g,l){var k=l.input;k.addClass(e.errorClass);var u=k.data("msg.el");
u||(u=b(e.message).addClass(e.messageClass).appendTo(document.body),k.data("msg.el",u));u.css({visibility:"hidden"}).find("p").remove();b.each(l.messages,function(a,e){b("<p/>").html(e).appendTo(u)});u.outerWidth()==u.parent().width()&&u.add(u.find("p")).css({display:"inline"});k=a(k,u,e);u.css({visibility:"visible",position:"absolute",top:k.top,left:k.left}).fadeIn(e.speed)})},function(a){var e=this.getConf();a.removeClass(e.errorClass).each(function(){var a=b(this).data("msg.el");a&&a.css({visibility:"hidden"})})}]};
b.each(["email","url","number"],function(a,e){b.expr[":"][e]=function(a){return a.getAttribute("type")===e}});b.fn.oninvalid=function(a){return this[a?"on":"trigger"]("OI",a)};v.fn(":email","Please enter a valid email address",function(a,b){return!b||k.test(b)});v.fn(":url","Please enter a valid URL",function(a,b){return!b||q.test(b)});v.fn(":number","Please enter a numeric value.",function(a,b){return z.test(b)});v.fn("[max]","Please enter a value no larger than $1",function(a,b){if(""===b||F&&a.is(":date"))return!0;
var l=a.attr("max");return parseFloat(b)<=parseFloat(l)?!0:[l]});v.fn("[min]","Please enter a value of at least $1",function(a,b){if(""===b||F&&a.is(":date"))return!0;var l=a.attr("min");return parseFloat(b)>=parseFloat(l)?!0:[l]});v.fn("[required]","Please complete this mandatory field.",function(a,b){return a.is(":checkbox")?a.is(":checked"):b});v.fn("[pattern]",function(a,b){return""===b||(new RegExp("^"+a.attr("pattern")+"$")).test(b)});v.fn(":radio","Please select an option.",function(a){var e=
!1;b("[name='"+a.attr("name")+"']").each(function(a,l){b(l).is(":checked")&&(e=!0)});return e?!0:!1});b.fn.validator=function(a){var e=this.data("validator");e&&(e.destroy(),this.removeData("validator"));a=b.extend(!0,{},v.conf,a);if(this.is("form"))return this.each(function(){var l=b(this);e=new P(l.find(":input"),l,a);l.data("validator",e)});e=new P(this,this.eq(0).closest("form"),a);return this.data("validator",e)}})(jQuery);
var Handlebars=function(){var b=function(){function a(b){this.string=b}a.prototype.toString=function(){return""+this.string};return a}(),a=function(a){function b(a){return v[a]||"&amp;"}var q={},v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,A=/[&<>"'`]/;q.extend=function(a,b){for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])};var g=Object.prototype.toString;q.toString=g;var e=function(a){return"function"===typeof a};e(/x/)&&(e=function(a){return"function"===
typeof a&&"[object Function]"===g.call(a)});q.isFunction=e;var J=Array.isArray||function(a){return a&&"object"===typeof a?"[object Array]"===g.call(a):!1};q.isArray=J;q.escapeExpression=function(e){if(e instanceof a)return e.toString();if(!e&&0!==e)return"";e=""+e;return A.test(e)?e.replace(l,b):e};q.isEmpty=function(a){return a||0===a?J(a)&&0===a.length?!0:!1:!0};return q}(b),K=function(){function a(q,v){var l;v&&v.firstLine&&(l=v.firstLine,q+=" - "+l+":"+v.firstColumn);for(var A=Error.prototype.constructor.call(this,
q),g=0;g<b.length;g++)this[b[g]]=A[b[g]];l&&(this.lineNumber=l,this.column=v.firstColumn)}var b="description fileName lineNumber message name number stack".split(" ");a.prototype=Error();return a}(),P=function(a,b){function q(a,b){this.helpers=a||{};this.partials=b||{};v(this)}function v(a){a.registerHelper("helperMissing",function(a){if(2!==arguments.length)throw new e("Missing helper: '"+a+"'");});a.registerHelper("blockHelperMissing",function(b,e){var l=e.inverse||function(){},g=e.fn;r(b)&&(b=
b.call(this));return!0===b?g(this):!1===b||null==b?l(this):J(b)?0<b.length?a.helpers.each(b,e):l(this):g(b)});a.registerHelper("each",function(a,b){var e=b.fn,l=b.inverse,g=0,u="",k;r(a)&&(a=a.call(this));b.data&&(k=X(b.data));if(a&&"object"===typeof a)if(J(a))for(var v=a.length;g<v;g++)k&&(k.index=g,k.first=0===g,k.last=g===a.length-1),u+=e(a[g],{data:k});else for(v in a)a.hasOwnProperty(v)&&(k&&(k.key=v,k.index=g,k.first=0===g),u+=e(a[v],{data:k}),g++);0===g&&(u=l(this));return u});a.registerHelper("if",
function(a,b){r(a)&&(a=a.call(this));return!b.hash.includeZero&&!a||g.isEmpty(a)?b.inverse(this):b.fn(this)});a.registerHelper("unless",function(b,e){return a.helpers["if"].call(this,b,{fn:e.inverse,inverse:e.fn,hash:e.hash})});a.registerHelper("with",function(a,b){r(a)&&(a=a.call(this));if(!g.isEmpty(a))return b.fn(a)});a.registerHelper("log",function(b,e){var l=e.data&&null!=e.data.level?parseInt(e.data.level,10):1;a.log(l,b)})}function l(a,b){u.log(a,b)}var A={},g=a,e=b;A.VERSION="1.3.0";A.COMPILER_REVISION=
4;A.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};var J=g.isArray,r=g.isFunction,aa=g.toString;A.HandlebarsEnvironment=q;q.prototype={constructor:q,logger:u,log:l,registerHelper:function(a,b,l){if("[object Object]"===aa.call(a)){if(l||b)throw new e("Arg not supported with multiple helpers");g.extend(this.helpers,a)}else l&&(b.not=l),this.helpers[a]=b},registerPartial:function(a,b){"[object Object]"===aa.call(a)?g.extend(this.partials,a):this.partials[a]=b}};var u=
{methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(u.level<=a){var e=u.methodMap[a];"undefined"!==typeof console&&console[e]&&console[e].call(console,b)}}};A.logger=u;A.log=l;var X=function(a){var b={};g.extend(b,a);return b};A.createFrame=X;return A}(a,K),D=function(a,b,q){function v(a,b,l){var g=function(a,e){e=e||{};return b(a,e.data||l)};g.program=a;g.depth=0;return g}var l={},A=q.COMPILER_REVISION,g=q.REVISION_CHANGES;l.checkRevision=
function(a){var l=a&&a[0]||1;if(l!==A){if(l<A)throw new b("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+g[A]+") or downgrade your runtime to an older version ("+g[l]+").");throw new b("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").");}};l.template=function(e,l){if(!l)throw new b("No environment passed to template");
var g={escapeExpression:a.escapeExpression,invokePartial:function(a,e,g,v,A,r){var q=l.VM.invokePartial.apply(this,arguments);if(null!=q)return q;if(l.compile)return q={helpers:v,partials:A,data:r},A[e]=l.compile(a,{data:void 0!==r},l),A[e](g,q);throw new b("The partial "+e+" could not be compiled when running in runtime-only mode");},programs:[],program:function(a,b,e){var l=this.programs[a];e?l=v(a,b,e):l||(l=this.programs[a]=v(a,b));return l},merge:function(b,e){var l=b||e;b&&e&&b!==e&&(l={},a.extend(l,
e),a.extend(l,b));return l},programWithDepth:l.VM.programWithDepth,noop:l.VM.noop,compilerInfo:null};return function(a,b){b=b||{};var k=b.partial?b:l,v,A;b.partial||(v=b.helpers,A=b.partials);k=e.call(g,k,a,v,A,b.data);b.partial||l.VM.checkRevision(g.compilerInfo);return k}};l.programWithDepth=function(a,b,l){var g=Array.prototype.slice.call(arguments,3),u=function(a,e){e=e||{};return b.apply(this,[a,e.data||l].concat(g))};u.program=a;u.depth=g.length;return u};l.program=v;l.invokePartial=function(a,
l,g,v,u,A){v={partial:!0,helpers:v,partials:u,data:A};if(void 0===a)throw new b("The partial "+l+" could not be found");if(a instanceof Function)return a(g,v)};l.noop=function(){return""};return l}(a,K,P),b=function(a,b,q,v,l){var A=function(){var e=new a.HandlebarsEnvironment;v.extend(e,a);e.SafeString=b;e.Exception=q;e.Utils=v;e.VM=l;e.template=function(a){return l.template(a,e)};return e},g=A();g.create=A;return g}(P,b,K,a,D),a=function(a){function b(a){a=a||{};this.firstLine=a.first_line;this.firstColumn=
a.first_column;this.lastColumn=a.last_column;this.lastLine=a.last_line}var q={ProgramNode:function(a,l,A,g){var e;3===arguments.length?(g=A,A=null):2===arguments.length&&(g=l,l=null);b.call(this,g);this.type="program";this.statements=a;this.strip={};A?((e=A[0])?(e={first_line:e.firstLine,last_line:e.lastLine,last_column:e.lastColumn,first_column:e.firstColumn},this.inverse=new q.ProgramNode(A,l,e)):this.inverse=new q.ProgramNode(A,l),this.strip.right=l.left):l&&(this.strip.left=l.right)},MustacheNode:function(a,
l,A,g,e){b.call(this,e);this.type="mustache";this.strip=g;null!=A&&A.charAt?(A=A.charAt(3)||A.charAt(2),this.escaped="{"!==A&&"&"!==A):this.escaped=!!A;this.sexpr=a instanceof q.SexprNode?a:new q.SexprNode(a,l);this.sexpr.isRoot=!0;this.id=this.sexpr.id;this.params=this.sexpr.params;this.hash=this.sexpr.hash;this.eligibleHelper=this.sexpr.eligibleHelper;this.isHelper=this.sexpr.isHelper},SexprNode:function(a,l,A){b.call(this,A);this.type="sexpr";this.hash=l;A=this.id=a[0];a=this.params=a.slice(1);
this.isHelper=(this.eligibleHelper=A.isSimple)&&(a.length||l)},PartialNode:function(a,l,A,g){b.call(this,g);this.type="partial";this.partialName=a;this.context=l;this.strip=A},BlockNode:function(v,l,A,g,e){b.call(this,e);if(v.sexpr.id.original!==g.path.original)throw new a(v.sexpr.id.original+" doesn't match "+g.path.original,this);this.type="block";this.mustache=v;this.program=l;this.inverse=A;this.strip={left:v.strip.left,right:g.strip.right};(l||A).strip.left=v.strip.right;(A||l).strip.right=g.strip.left;
A&&!l&&(this.isInverse=!0)},ContentNode:function(a,l){b.call(this,l);this.type="content";this.string=a},HashNode:function(a,l){b.call(this,l);this.type="hash";this.pairs=a},IdNode:function(v,l){b.call(this,l);this.type="ID";for(var A="",g=[],e=0,J=0,r=v.length;J<r;J++){var q=v[J].part,A=A+((v[J].separator||"")+q);if(".."===q||"."===q||"this"===q){if(0<g.length)throw new a("Invalid path: "+A,this);".."===q?e++:this.isScoped=!0}else g.push(q)}this.original=A;this.parts=g;this.string=g.join(".");this.depth=
e;this.isSimple=1===v.length&&!this.isScoped&&0===e;this.stringModeValue=this.string},PartialNameNode:function(a,l){b.call(this,l);this.type="PARTIAL_NAME";this.name=a.original},DataNode:function(a,l){b.call(this,l);this.type="DATA";this.id=a},StringNode:function(a,l){b.call(this,l);this.type="STRING";this.original=this.string=this.stringModeValue=a},IntegerNode:function(a,l){b.call(this,l);this.type="INTEGER";this.original=this.integer=a;this.stringModeValue=Number(a)},BooleanNode:function(a,l){b.call(this,
l);this.type="BOOLEAN";this.bool=a;this.stringModeValue="true"===a},CommentNode:function(a,l){b.call(this,l);this.type="comment";this.comment=a}};return q}(K),D=function(a,b){var q={};q.parser=a;q.parse=function(v){if(v.constructor===b.ProgramNode)return v;a.yy=b;return a.parse(v)};return q}(function(){return function(){function a(b,k){return{left:"~"===b.charAt(2),right:"~"===k.charAt(0)||"~"===k.charAt(1)}}function b(){this.yy={}}var q={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,
EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,
SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,
1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(b,k,g,e,v,r,q){b=r.length-1;switch(v){case 1:return new e.ProgramNode(r[b-1],this._$);case 2:return new e.ProgramNode([],this._$);case 3:this.$=new e.ProgramNode([],r[b-1],r[b],this._$);break;case 4:this.$=new e.ProgramNode(r[b-2],r[b-1],r[b],this._$);break;case 5:this.$=new e.ProgramNode(r[b-1],r[b],[],this._$);break;
case 6:this.$=new e.ProgramNode(r[b],this._$);break;case 7:this.$=new e.ProgramNode([],this._$);break;case 8:this.$=new e.ProgramNode([],this._$);break;case 9:this.$=[r[b]];break;case 10:r[b-1].push(r[b]);this.$=r[b-1];break;case 11:this.$=new e.BlockNode(r[b-2],r[b-1].inverse,r[b-1],r[b],this._$);break;case 12:this.$=new e.BlockNode(r[b-2],r[b-1],r[b-1].inverse,r[b],this._$);break;case 13:this.$=r[b];break;case 14:this.$=r[b];break;case 15:this.$=new e.ContentNode(r[b],this._$);break;case 16:this.$=
new e.CommentNode(r[b],this._$);break;case 17:this.$=new e.MustacheNode(r[b-1],null,r[b-2],a(r[b-2],r[b]),this._$);break;case 18:this.$=new e.MustacheNode(r[b-1],null,r[b-2],a(r[b-2],r[b]),this._$);break;case 19:this.$={path:r[b-1],strip:a(r[b-2],r[b])};break;case 20:this.$=new e.MustacheNode(r[b-1],null,r[b-2],a(r[b-2],r[b]),this._$);break;case 21:this.$=new e.MustacheNode(r[b-1],null,r[b-2],a(r[b-2],r[b]),this._$);break;case 22:this.$=new e.PartialNode(r[b-2],r[b-1],a(r[b-3],r[b]),this._$);break;
case 23:this.$=a(r[b-1],r[b]);break;case 24:this.$=new e.SexprNode([r[b-2]].concat(r[b-1]),r[b],this._$);break;case 25:this.$=new e.SexprNode([r[b]],null,this._$);break;case 26:this.$=r[b];break;case 27:this.$=new e.StringNode(r[b],this._$);break;case 28:this.$=new e.IntegerNode(r[b],this._$);break;case 29:this.$=new e.BooleanNode(r[b],this._$);break;case 30:this.$=r[b];break;case 31:r[b-1].isHelper=!0;this.$=r[b-1];break;case 32:this.$=new e.HashNode(r[b],this._$);break;case 33:this.$=[r[b-2],r[b]];
break;case 34:this.$=new e.PartialNameNode(r[b],this._$);break;case 35:this.$=new e.PartialNameNode(new e.StringNode(r[b],this._$),this._$);break;case 36:this.$=new e.PartialNameNode(new e.IntegerNode(r[b],this._$));break;case 37:this.$=new e.DataNode(r[b],this._$);break;case 38:this.$=new e.IdNode(r[b],this._$);break;case 39:r[b-2].push({part:r[b],separator:r[b-1]});this.$=r[b-2];break;case 40:this.$=[{part:r[b]}];break;case 43:this.$=[];break;case 44:r[b-1].push(r[b]);break;case 47:this.$=[r[b]];
break;case 48:r[b-1].push(r[b])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,
12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,
21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,
14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,
41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,
23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},
{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,
26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,
32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],
40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(a,b){throw Error(a);},parse:function(a){var b=[0],g=[null],e=[],k=this.table,v="",q=0,u=0,X=0;this.lexer.setInput(a);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==
typeof this.lexer.yylloc&&(this.lexer.yylloc={});a=this.lexer.yylloc;e.push(a);var T=this.lexer.options&&this.lexer.options.ranges;"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var M,z,F,D,P={},K,ea;;){F=b[b.length-1];if(this.defaultActions[F])D=this.defaultActions[F];else{if(null===M||"undefined"==typeof M)M=this.lexer.lex()||1,"number"!==typeof M&&(M=this.symbols_[M]||M);D=k[F]&&k[F][M]}if("undefined"===typeof D||!D.length||!D[0]){var pa="";if(!X){ea=[];for(K in k[F])this.terminals_[K]&&
2<K&&ea.push("'"+this.terminals_[K]+"'");pa=this.lexer.showPosition?"Parse error on line "+(q+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+ea.join(", ")+", got '"+(this.terminals_[M]||M)+"'":"Parse error on line "+(q+1)+": Unexpected "+(1==M?"end of input":"'"+(this.terminals_[M]||M)+"'");this.parseError(pa,{text:this.lexer.match,token:this.terminals_[M]||M,line:this.lexer.yylineno,loc:a,expected:ea})}}if(D[0]instanceof Array&&1<D.length)throw Error("Parse Error: multiple actions possible at state: "+
F+", token: "+M);switch(D[0]){case 1:b.push(M);g.push(this.lexer.yytext);e.push(this.lexer.yylloc);b.push(D[1]);M=null;z?(M=z,z=null):(u=this.lexer.yyleng,v=this.lexer.yytext,q=this.lexer.yylineno,a=this.lexer.yylloc,0<X&&X--);break;case 2:ea=this.productions_[D[1]][1];P.$=g[g.length-ea];P._$={first_line:e[e.length-(ea||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(ea||1)].first_column,last_column:e[e.length-1].last_column};T&&(P._$.range=[e[e.length-(ea||1)].range[0],
e[e.length-1].range[1]]);F=this.performAction.call(P,v,u,q,this.yy,D[1],g,e);if("undefined"!==typeof F)return F;ea&&(b=b.slice(0,-2*ea),g=g.slice(0,-1*ea),e=e.slice(0,-1*ea));b.push(this.productions_[D[1]][0]);g.push(P.$);e.push(P._$);D=k[b[b.length-2]][b[b.length-1]];b.push(D);break;case 3:return!0}}}},v=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a){this._input=a;this._more=this._less=this.done=!1;this.yylineno=
this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);
return a},unput:function(a){var b=a.length,g=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b-1);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);g.length-1&&(this.yylineno-=g.length-1);var e=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:g?
(g.length===a.length?this.yylloc.first_column:0)+a[a.length-g.length].length-g[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]);return this},more:function(){this._more=!0;return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,
20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,g;this._more||(this.match=this.yytext="");for(var e=this._currentRules(),k=0;k<e.length&&(!(b=this._input.match(this.rules[e[k]]))||a&&!(b[0].length>a[0].length)||(a=b,g=k,this.options.flex));k++);if(a){if(b=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=
b.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?b[b.length-1].length-b[b.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];a=this.performAction.call(this,this.yy,
this,e[g],this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(a)return a}else return""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!==typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-
1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)},options:{},performAction:function(a,b,g,e){function k(a,e){return b.yytext=b.yytext.substr(a,b.yyleng-e)}switch(g){case 0:"\\\\"===b.yytext.slice(-2)?(k(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(k(0,1),this.begin("emu")):this.begin("mu");if(b.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return k(0,4),this.popState(),15;case 4:return 35;
case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState();this.begin("com");break;case 14:return k(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return b.yytext=k(1,2).replace(/\\"/g,'"'),32;case 24:return b.yytext=k(1,2).replace(/\\'/g,"'"),32;case 25:return 42;
case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return b.yytext=k(1,2),40;case 31:return"INVALID";case 32:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,
/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}}}}();
q.lexer=v;b.prototype=q;q.Parser=b;return new b}()}(),a),z=function(a){function b(){}var q={};q.Compiler=b;b.prototype={compiler:b,disassemble:function(){for(var a=this.opcodes,b,k=[],g,e,q=0,r=a.length;q<r;q++)if(b=a[q],"DECLARE"===b.opcode)k.push("DECLARE "+b.name+"="+b.value);else{g=[];for(var z=0;z<b.args.length;z++)e=b.args[z],"string"===typeof e&&(e='"'+e.replace("\n","\\n")+'"'),g.push(e);k.push(b.opcode+" "+g.join(" "))}return k.join("\n")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==
b)return!1;for(var k=0;k<b;k++){var g=this.opcodes[k],e=a.opcodes[k];if(g.opcode!==e.opcode||g.args.length!==e.args.length)return!1;for(var q=0;q<g.args.length;q++)if(g.args[q]!==e.args[q])return!1}b=this.children.length;if(a.children.length!==b)return!1;for(k=0;k<b;k++)if(!this.children[k].equals(a.children[k]))return!1;return!0},guid:0,compile:function(a,b){this.opcodes=[];this.children=[];this.depths={list:[]};this.options=b;var k=this.options.knownHelpers;this.options.knownHelpers={helperMissing:!0,
blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0};if(k)for(var g in k)this.options.knownHelpers[g]=k[g];return this.accept(a)},accept:function(a){var b=a.strip||{};b.left&&this.opcode("strip");a=this[a.type](a);b.right&&this.opcode("strip");return a},program:function(a){a=a.statements;for(var b=0,k=a.length;b<k;b++)this.accept(a[b]);this.isSimple=1===k;this.depths.list=this.depths.list.sort(function(a,b){return a-b});return this},compileProgram:function(a){a=(new this.compiler).compile(a,
this.options);var b=this.guid++,k;this.usePartial=this.usePartial||a.usePartial;this.children[b]=a;for(var g=0,e=a.depths.list.length;g<e;g++)k=a.depths.list[g],2>k||this.addDepth(k-1);return b},block:function(a){var b=a.mustache,k=a.program;a=a.inverse;k&&(k=this.compileProgram(k));a&&(a=this.compileProgram(a));var b=b.sexpr,g=this.classifySexpr(b);"helper"===g?this.helperSexpr(b,k,a):"simple"===g?(this.simpleSexpr(b),this.opcode("pushProgram",k),this.opcode("pushProgram",a),this.opcode("emptyHash"),
this.opcode("blockValue")):(this.ambiguousSexpr(b,k,a),this.opcode("pushProgram",k),this.opcode("pushProgram",a),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},hash:function(a){a=a.pairs;var b,k;this.opcode("pushHash");for(var g=0,e=a.length;g<e;g++)b=a[g],k=b[1],this.options.stringParams?(k.depth&&this.addDepth(k.depth),this.opcode("getContext",k.depth||0),this.opcode("pushStringParam",k.stringModeValue,k.type),"sexpr"===k.type&&this.sexpr(k)):this.accept(k),
this.opcode("assignToHash",b[0]);this.opcode("popHash")},partial:function(a){var b=a.partialName;this.usePartial=!0;a.context?this.ID(a.context):this.opcode("push","depth0");this.opcode("invokePartial",b.name);this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){this.sexpr(a.sexpr);a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(a,b,k){a=a.id;var g=a.parts[0],e=null!=b||null!=k;this.opcode("getContext",
a.depth);this.opcode("pushProgram",b);this.opcode("pushProgram",k);this.opcode("invokeAmbiguous",g,e)},simpleSexpr:function(a){a=a.id;"DATA"===a.type?this.DATA(a):a.parts.length?this.ID(a):(this.addDepth(a.depth),this.opcode("getContext",a.depth),this.opcode("pushContext"));this.opcode("resolvePossibleLambda")},helperSexpr:function(b,k,q){k=this.setupFullMustacheParams(b,k,q);q=b.id.parts[0];if(this.options.knownHelpers[q])this.opcode("invokeKnownHelper",k.length,q);else{if(this.options.knownHelpersOnly)throw new a("You specified knownHelpersOnly, but used the unknown helper "+
q,b);this.opcode("invokeHelper",k.length,q,b.isRoot)}},sexpr:function(a){var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ID:function(a){this.addDepth(a.depth);this.opcode("getContext",a.depth);a.parts[0]?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var b=1,k=a.parts.length;b<k;b++)this.opcode("lookup",a.parts[b])},DATA:function(b){this.options.data=!0;if(b.id.isScoped||b.id.depth)throw new a("Scoped data references are not supported: "+
b.original,b);this.opcode("lookupData");b=b.id.parts;for(var k=0,q=b.length;k<q;k++)this.opcode("lookup",b[k])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){0===a||this.depths[a]||
(this.depths[a]=!0,this.depths.list.push(a))},classifySexpr:function(a){var b=a.isHelper,k=a.eligibleHelper,g=this.options;k&&!b&&(g.knownHelpers[a.id.parts[0]]?b=!0:g.knownHelpersOnly&&(k=!1));return b?"helper":k?"ambiguous":"simple"},pushParams:function(a){for(var b=a.length,k;b--;)if(k=a[b],this.options.stringParams)k.depth&&this.addDepth(k.depth),this.opcode("getContext",k.depth||0),this.opcode("pushStringParam",k.stringModeValue,k.type),"sexpr"===k.type&&this.sexpr(k);else this[k.type](k)},setupFullMustacheParams:function(a,
b,k){var g=a.params;this.pushParams(g);this.opcode("pushProgram",b);this.opcode("pushProgram",k);a.hash?this.hash(a.hash):this.opcode("emptyHash");return g}};q.precompile=function(b,k,q){if(null==b||"string"!==typeof b&&b.constructor!==q.AST.ProgramNode)throw new a("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+b);k=k||{};"data"in k||(k.data=!0);b=q.parse(b);b=(new q.Compiler).compile(b,k);return(new q.JavaScriptCompiler).compile(b,k)};q.compile=function(b,k,q){if(null==
b||"string"!==typeof b&&b.constructor!==q.AST.ProgramNode)throw new a("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+b);k=k||{};"data"in k||(k.data=!0);var g;return function(a,J){if(!g){var r=q.parse(b),r=(new q.Compiler).compile(r,k),r=(new q.JavaScriptCompiler).compile(r,k,void 0,!0);g=q.template(r)}return g.call(this,a,J)}};return q}(K),K=function(a,b){function q(a){this.value=a}function v(){}var l=a.COMPILER_REVISION,A=a.REVISION_CHANGES,g=a.log;v.prototype={nameLookup:function(a,
b){var e,g;0===a.indexOf("depth")&&(e=!0);g=/^[0-9]+$/.test(b)?a+"["+b+"]":v.isValidJavaScriptVariableName(b)?a+"."+b:a+"['"+b+"']";return e?"("+a+" && "+g+")":g},compilerInfo:function(){return"this.compilerInfo = ["+l+",'"+A[l]+"'];\n"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(a,e,l,q){this.environment=
a;this.options=e||{};g("debug",this.environment.disassemble()+"\n\n");this.name=this.environment.name;this.isChild=!!l;this.context=l||{programs:[],environments:[],aliases:{}};this.preamble();this.stackSlot=0;this.stackVars=[];this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.compileChildren(a,e);a=a.opcodes;this.i=0;for(l=a.length;this.i<l;this.i++)e=a[this.i],"DECLARE"===e.opcode?this[e.name]=e.value:this[e.opcode].apply(this,e.args),e.opcode!==this.stripNext&&
(this.stripNext=!1);this.pushSource("");if(this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new b("Compile completed with content left on stack");return this.createFunctionContext(q)},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,e="helpers = this.merge(helpers, "+b+".helpers);";this.environment.usePartial&&(e=e+" partials = this.merge(partials, "+b+".partials);");this.options.data&&(e+=" data = data || {};");a.push(e)}this.environment.isSimple?
a.push(""):a.push(", buffer = "+this.initializeBuffer());this.lastContext=0;this.source=a},createFunctionContext:function(a){var b=this.stackVars.concat(this.registers.list);0<b.length&&(this.source[1]=this.source[1]+", "+b.join(", "));if(!this.isChild)for(var e in this.context.aliases)this.context.aliases.hasOwnProperty(e)&&(this.source[1]=this.source[1]+", "+e+"="+this.context.aliases[e]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";");this.isChild||(this.source[1]+="\n"+
this.context.programs.join("\n")+"\n");this.environment.isSimple||this.pushSource("return buffer;");b=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];e=0;for(var k=this.environment.depths.list.length;e<k;e++)b.push("depth"+this.environment.depths.list[e]);e=this.mergeSource();this.isChild||(e=this.compilerInfo()+e);if(a)return b.push(e),Function.apply(this,b);a="function "+(this.name||"")+"("+b.join(",")+") {\n  "+e+"}";g("debug",a+"\n\n");return a},mergeSource:function(){for(var a=
"",b,e=0,g=this.source.length;e<g;e++){var k=this.source[e];k.appendToBuffer?b=b?b+"\n    + "+k.content:k.content:(b&&(a+="buffer += "+b+";\n  ",b=void 0),a+=k+"\n  ")}return a},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);this.replaceStack(function(b){a.splice(1,0,b);return"blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";
var a=["depth0"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b);this.pushSource("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.pendingContent&&(a=this.pendingContent+a);this.stripNext&&(a=a.replace(/^\s+/,""));this.pendingContent=a},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,""));this.stripNext="strip"},append:function(){this.flushInline();var a=this.popStack();this.pushSource("if("+
a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }");this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression";this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+
this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"';this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(a,b){this.pushStackLiteral("depth"+this.lastContext);this.pushString(b);"sexpr"!==b&&("string"===
typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(){this.pushStackLiteral("{}");this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash);this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop();this.options.stringParams&&(this.push("{"+a.contexts.join(",")+"}"),this.push("{"+a.types.join(",")+"}"));this.push("{\n    "+a.values.join(",\n    ")+"\n  }")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},
push:function(a){this.inlineStack.push(a);return a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b,e){this.context.aliases.helperMissing="helpers.helperMissing";this.useRegister("helper");a=this.lastHelper=this.setupHelper(a,b,!0);b=this.nameLookup("depth"+this.lastContext,b,"context");b="helper = "+a.name+" || "+b;a.paramsInit&&(b+=","+a.paramsInit);this.push("("+
b+",helper ? helper.call("+a.callParams+") : helperMissing.call("+a.helperMissingParams+"))");e||this.flushInline()},invokeKnownHelper:function(a,b){var e=this.setupHelper(a,b);this.push(e.name+".call("+e.callParams+")")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='"function"';this.useRegister("helper");this.emptyHash();var e=this.setupHelper(0,a,b),g=this.lastHelper=this.nameLookup("helpers",a,"helper"),k=this.nameLookup("depth"+this.lastContext,a,"context"),l=this.nextStack();
e.paramsInit&&this.pushSource(e.paramsInit);this.pushSource("if (helper = "+g+") { "+l+" = helper.call("+e.callParams+"); }");this.pushSource("else { helper = "+k+"; "+l+" = typeof helper === functionType ? helper.call("+e.callParams+") : helper; }")},invokePartial:function(a){a=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&a.push("data");this.context.aliases.self="this";this.push("self.invokePartial("+a.join(", ")+")")},assignToHash:function(a){var b=
this.popStack(),e,g;this.options.stringParams&&(g=this.popStack(),e=this.popStack());var k=this.hash;e&&k.contexts.push("'"+a+"': "+e);g&&k.types.push("'"+a+"': "+g);k.values.push("'"+a+"': ("+b+")")},compiler:v,compileChildren:function(a,b){for(var e=a.children,g,k,l=0,q=e.length;l<q;l++){g=e[l];k=new this.compiler;var r=this.matchExistingProgram(g);null==r?(this.context.programs.push(""),r=this.context.programs.length,g.index=r,g.name="program"+r,this.context.programs[r]=k.compile(g,b,this.context),
this.context.environments[r]=g):(g.index=r,g.name="program"+r)}},matchExistingProgram:function(a){for(var b=0,e=this.context.environments.length;b<e;b++){var g=this.context.environments[b];if(g&&g.equals(a))return b}},programExpression:function(a){this.context.aliases.self="this";if(null==a)return"self.noop";var b=this.environment.children[a];a=b.depths.list;for(var e=[b.index,b.name,"data"],g=0,k=a.length;g<k;g++)b=a[g],1===b?e.push("depth0"):e.push("depth"+(b-1));return(0===a.length?"self.program(":
"self.programWithDepth(")+e.join(", ")+")"},register:function(a,b){this.useRegister(a);this.pushSource(a+" = "+b+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new q(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0);a&&this.source.push(a)},pushStack:function(a){this.flushInline();var b=this.incrStack();
a&&this.pushSource(b+" = "+a+";");this.compileStack.push(b);return b},replaceStack:function(a){var b="",e=this.isInline(),g,k,l;e?(g=this.popStack(!0),g instanceof q?(g=g.value,l=!0):(b=(k=!this.stackSlot)?this.incrStack():this.topStackName(),b="("+this.push(b)+" = "+g+"),",g=this.topStack())):g=this.topStack();a=a.call(this,g);e?(l||this.popStack(),k&&this.stackSlot--,this.push("("+b+a+")")):(/^stack/.test(g)||(g=this.nextStack()),this.pushSource(g+" = ("+b+a+");"));return g},nextStack:function(){return this.pushStack()},
incrStack:function(){this.stackSlot++;this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot);return this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,e=a.length;b<e;b++){var g=a[b];g instanceof q?this.compileStack.push(g):this.pushStack(g)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var e=this.isInline(),g=(e?this.inlineStack:
this.compileStack).pop();if(!a&&g instanceof q)return g.value;if(!e){if(!this.stackSlot)throw new b("Invalid stack pop");this.stackSlot--}return g},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,b=b[b.length-1];return!a&&b instanceof q?b.value:b},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,b,e){var g=[];a=
this.setupParams(a,g,e);var k=this.nameLookup("helpers",b,"helper");return{params:g,paramsInit:a,name:k,callParams:["depth0"].concat(g).join(", "),helperMissingParams:e&&["depth0",this.quotedString(b)].concat(g).join(", ")}},setupOptions:function(a,b){var e=[],g=[],k=[],l,r;e.push("hash:"+this.popStack());this.options.stringParams&&(e.push("hashTypes:"+this.popStack()),e.push("hashContexts:"+this.popStack()));l=this.popStack();if((r=this.popStack())||l)r||(this.context.aliases.self="this",r="self.noop"),
l||(this.context.aliases.self="this",l="self.noop"),e.push("inverse:"+l),e.push("fn:"+r);for(r=0;r<a;r++)l=this.popStack(),b.push(l),this.options.stringParams&&(k.push(this.popStack()),g.push(this.popStack()));this.options.stringParams&&(e.push("contexts:["+g.join(",")+"]"),e.push("types:["+k.join(",")+"]"));this.options.data&&e.push("data:data");return e},setupParams:function(a,b,e){a="{"+this.setupOptions(a,b).join(",")+"}";if(e)return this.useRegister("options"),b.push("options"),"options="+a;
b.push(a);return""}};for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),J=v.RESERVED_WORDS={},r=0,z=e.length;r<z;r++)J[e[r]]=!0;v.isValidJavaScriptVariableName=
function(a){return!v.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)?!0:!1};return v}(P,K);return function(a,b,q,v,l){var z=q.parser,g=q.parse,e=v.Compiler,J=v.compile,r=v.precompile,D=a.create;q=function(){var a=D();a.compile=function(b,e){return J(b,e,a)};a.precompile=function(b,e){return r(b,e,a)};a.AST=b;a.Compiler=e;a.JavaScriptCompiler=l;a.Parser=z;a.parse=g;return a};a=q();a.create=q;return a}(b,a,D,z,K)}();"use strict";
(function(b){function a(){}function K(){return!1}function P(d,h,c){var m,e=0;if(null===c)return b;c=c||H;if(!d.length)return c;for(;c&&(m=d[e++])!==b;)try{c=m in c?c[m]:h?c[m]={}:b}catch(f){if(h)throw new a.Error("Q.setObject cannot set property of "+typeof c+" "+JSON.stringify(c));}return c}function D(d){d=d.split(":",2);d[d.length-1]=a.normalize(d[d.length-1]);return[d.join(":")]}function z(d,h,c,m){var e=d.id,f=d.className.split(" "),g=[],k=a.normalize(a.Tool.calculateId(e));m&&!m.waitForIdNames&&
(m.waitForIdNames=[]);for(var e=0,n=f.length;e<n;++e){var l=f[e];"Q_tool"!==l&&"_tool"===l.slice(-5)&&g.push(a.normalize(l.substr(0,l.length-5)))}var B=new a.Pipe(g,function(a){for(var d=0,b=g.length;d<b;++d)h.apply(null,a[g[d]])});a.each(g,function(h,e){function f(){a.Tool.latestName&&(w[e]=w[a.Tool.latestName],a.Tool.latestNames[t]=a.Tool.latestName);t=w[e];"function"!==typeof t&&(a.Tool.onMissingConstructor.handle(w,e),t=w[e],"function"!==typeof t&&(t=function(){console.log("Missing tool constructor for "+
e)}));B.fill(e)(d,t,e,g)}var t=w[e];"undefined"===typeof t&&(a.Tool.onMissingConstructor.handle(w,e),t=w[e],"function"!==typeof t&&"string"!==typeof t&&(t=function(){console.log("Missing tool constructor for "+e)}));if(m){var y=a.normalize(e);m.waitForIdNames.push(k+"\t"+y)}if(c){var g="tool "+(c.waitingForTools.length+1)+": "+k;c.firstToolId||(c.firstToolId=g);c.waitingForTools.push(g)}if("function"===typeof t)return B.fill(e)(d,t,e,g);if(t!==b){if("string"!==typeof t)throw new a.Error("Q.Tool.loadScript: toolFunc cannot be "+
typeof t);a.Tool.latestNames[t]?(a.Tool.latestName=a.Tool.latestNames[t],f()):(a.Tool.latestName=null,a.addScript(t,f))}})}function F(a,h,c){return a.documentStorage?!0===c?a.special[h]:a.data[h]:(a=(a.localStorage?localStorage:a.sessionStorage?sessionStorage:null).getItem(a.name+(!0===c?"\t":"\t\t")+h))?JSON.parse(a):b}function k(a,h,c,m){if(a.documentStorage)!0===m?a.special[h]=c:a.data[h]=c;else{var e,f=1,g,k;try{g=JSON.stringify(c)}catch(n){g="{";for(e in c){f||(g+=",");try{k=JSON.stringify(c[e]),
g+=JSON.stringify(e)+":"+(k===b?null:k)}catch(l){g+=JSON.stringify(e)+"null"}f=0}g+="}"}(a.localStorage?localStorage:a.sessionStorage?sessionStorage:null).setItem(a.name+(!0===m?"\t":"\t\t")+h,g)}}function q(a,b,c){a.documentStorage?!0===c?delete a.special[b]:delete a.data[b]:(a.localStorage?localStorage:a.sessionStorage?sessionStorage:null).removeItem(a.name+(!0===c?"\t":"\t\t")+b)}function v(a,b){var c;if(b.prev){c=F(a,b.prev);if(!c)debugger;c.next=b.next;k(a,b.prev,c)}else a.earliest(b.next);b.next?
(c=F(a,b.next),c.prev=b.prev,k(a,b.next,c)):a.latest(b.prev)}function l(){var d=this;a.each(a.addEventListener.hooks,function(){var a=this[0];(a===H||a===document||a instanceof Element&&a!==this.target&&a.contains(this.target))&&this[1]===d.type&&this[2].apply(a,[this])});var b=l.previous;b?b.apply(d,arguments):d.cancelBubble=!1}function A(){var d=location.hash.queryField("url"),h=null;d===b&&(d=H.location.href.split("#")[0].substr(a.info.baseUrl.length+1));A.ignore?A.ignore=!1:d!=A.currentUrl&&(a.handle(-1==
d.indexOf(a.info.baseUrl)?a.info.baseUrl+"/"+d:d),h=!0);A.currentUrl=d;return h}function g(){var d=H.location.href.split("#")[0],b=null;if(a.info.url!==d)return d=d.substr(a.info.baseUrl.length+1),d!=A.currentUrl&&(a.handle(0===d.indexOf(a.info.baseUrl)?d:a.info.baseUrl+"/"+d,{ignoreHistory:!0,quiet:!0}),A.currentUrl=d,b=!0),b}function e(d,b,c){var m=fa[fa.length-1],t=new a.Event;t.toolElement=d;fa.push(t);z(d,function(d,f,g,k){function n(){var m=new L[g](d,b),f=a.getObject(["Q","tools",g],d);c.tools[f.id]=
c.tool=f;m!==e.alreadyActivated&&a.activate(d,b);k&&(k===c.firstToolId&&(c.firstTool=f),c.pipe.fill(k)());t.handle.call(m,b);t.removeAllHandlers()}L[g]||(L[g]=function(d,b){var c=a.getObject(["Q","tools",g],d);if(this.activated||c)return c=c||this,e.alreadyActivated;this.initialized=this.activated=!1;try{this.options=a.extend({},a.Tool.options.levels,f.options,a.Tool.options.levels,b);this.name=g;a.Tool.call(this,d,b);this.state=a.copy(this.options,f.stateKeys);var h=a.Tool.beingActivated;a.Tool.beingActivated=
this;var m=a.normalize(this.name),t=a.normalize(this.id);Ea[""]&&Ea[""].handle.call(this,this.options);Ea[m]&&Ea[m].handle.call(this,this.options);Ea["id:"+t]&&Ea["id:"+t].handle.call(this,this.options);var y=[this.options];a.each(f.require,function(b,c){var h=a.Tool.from(d,c);if(!h)throw new a.Exception("Q.Tool.define: "+f.toolName+" requires "+c+" to have been activated on the same element.");y.push(h)});f.apply(this,y);"q_inplace"===m&&S[""]&&S[""].handle.call(this,this.options);S[m]&&S[m].handle.call(this,
this.options);S["id:"+t]&&S["id:"+t].handle.call(this,this.options);a.Tool.beingActivated=h}catch(k){debugger;console.warn(k);a.Tool.beingActivated=h}this.activated=!0},a.mixin(f,a.Tool),a.mixin(L[g],f));m?m.add(n,null):n()},c);da.push(new a.Pipe)}function J(d){function b(){var c,h,e,f,g=d.Q.tools;for(c in g)h=g[c],e=a.normalize(c),f=a.normalize(h.id),h.initialized||(h.initialized=!0,a.handle(h.Q&&h.Q.onInit,h,[h.options]),U[""]&&U[""].handle.call(h,h.options),U[e]&&U[e].handle.call(h,h.options),
U["id:"+f]&&U["id:"+f].handle.call(h,h.options)),m&&m.fill(f+"\t"+e).call(h,h.options)}fa.pop();var c=da.pop(),m=da.length?da[da.length-1]:null;z(d,function(){var a=c.waitForIdNames;a?c.add(a,1,b).run():b()},null,m)}function r(a,b,c){a.off(b,c);a.on(b,c);na.push(function(){a.off(b,c)})}function aa(d,b,c,m){function e(d,b,c){function h(c){a.each(W,function(h,m){if(m[0]===d){var e=m[1];r(c,e,a.Socket.onEvent(d,b,e).handle);r(c,e,a.Socket.onEvent(d,"",e).handle)}})}function f(){this.emit("session",a.cookie(a.sessionName()));
a.Socket.onConnect(d).handle(g);a.Socket.onConnect(d,b).handle(g);console.log("Socket connected to "+b)}if(H.io){var t=N[d][b];if(!t||!t.socket){N[d][b]=t=new a.Socket({socket:H.io.connect(b+d,m?{"force new connection":!0}:{}),url:b,ns:d});a.Socket.onConnect(d,b).add(h,"Q");var g=t.socket;r(g,"connect",f);r(g,"connect_error",function(a){console.log("Failed to connect to "+b,a)});r(g,"disconnect",function(){console.log("Socket "+d+" disconnected from "+b)});r(g,"error",function(){console.log("Error on connection "+
b)})}c&&c(N[d][b])}}"/"!==d[0]&&(d="/"+d);H.io&&H.io.Socket?e(d,b,c):a.addScript(b+"/socket.io/socket.io.js",function(){e(d,b,c)})}function u(d){var b=d.target,c,m=null;do if(b.computedStyle){var e=b.computedStyle().overflow,f=b.scrollWidth-Math.min(b.offsetWidth,a.Pointer.windowWidth()),g="HTML"===b.tagName?document.getElementsByTagName("body")[0]:b,k=g.scrollHeight-Math.min(b.offsetHeight,a.Pointer.windowHeight());if(((e=0>["hidden","visible"].indexOf(e))||"HTML"===b.tagName)&&0<k&&a.Pointer.movement){if("horizontal"!=
u.options.direction&&1==a.Pointer.movement.positions.length&&(c=a.Pointer.movement.positions[0])&&(f=a.Pointer.getY(d)-a.Pointer.scrollTop(),f>c.y&&0==g.scrollTop||f<c.y&&g.scrollTop>=k))continue;m=b;break}if(!m&&(e||"HTML"===b.tagName)&&0<f){if("vertical"!=u.options.direction&&1==a.Pointer.movement.positions.length&&(c=a.Pointer.movement.positions[0])&&(k=a.Pointer.getX(d)-a.Pointer.scrollLeft(),k>c.x&&0==g.scrollLeft||k<c.x&&g.scrollLeft>=f))continue;m=b;break}}while(b=b.parentNode);m||a.Pointer.preventDefault(d)}
function X(d){var b=X.options.blur;if(b.blur){var c=a.Pointer.target(d);if((d=document.activeElement)&&"function"===typeof d.blur&&d!==c)if(0<=b.blur.indexOf(c.tagName.toUpperCase())||b.blurContentEditable&&c.getAttribute("contenteditable")){var m=function(){c.focus();a.removeEventListener(H,"click",m)};a.addEventListener(H,"click",m)}else d.blur()}}function T(d){d=window;var b=document,c=b.documentElement,b=b.getElementsByTagName("body")[0];(d.innerWidth||c.clientWidth||b.clientWidth)>(d.innerHeight||
c.clientHeight||b.clientHeight)?(c.removeClass("Q_verticalOrientation").addClass("Q_horizontalOrientation"),a.info.isVertical=!1):(c.removeClass("Q_horizontalOrientation").addClass("Q_verticalOrientation"),a.info.isVertical=!0)}function M(d){if(a.info.isTouchscreen&&M.options.milliseconds){var b=a.Pointer.windowWidth(),c=a.Pointer.windowHeight();setInterval(function(){var d=document.activeElement;if(!(d&&0<=["INPUT","TEXTAREA","SELECT"].indexOf(d.tagName.toUpperCase()))){var d=a.Pointer.windowWidth(),
e=a.Pointer.windowHeight();b===d&&c===e||a.layout();b=d;c=e}},M.options.milliseconds)}}function wa(){if(!a.info||!a.info.isTouchscreen)return!1;var d=document.getElementsByTagName("body")[0],h,c,m=!1;setInterval(function(){0<=wa.options.prevent.indexOf(document.activeElement.tagName.toUpperCase())&&(m=!0);if(m)return!1;c=a.Pointer.scrollTop();h=a.Pointer.scrollLeft()},300);a.addEventListener(d,a.Pointer.focusin,function(){m=!0});a.addEventListener(d,a.Pointer.focusout,function(){m=!1;c!==b&&window.scrollTo(h,
c)});return!0}function ga(d){clearTimeout(Ta);var b=a.Pointer.getX(d)-a.Pointer.scrollLeft(),c=a.Pointer.getY(d)-a.Pointer.scrollTop();if(b&&c&&!a.Pointer.canceledClick){var m=a.Pointer.options.cancelClickDistance;za&&(za.x&&Math.abs(za.x-b)>m||za.y&&Math.abs(za.y-c)>m)&&!1!==a.Pointer.cancelClick(d,{fromX:za.x,fromY:za.y,toX:b,toY:c,comingFromPointerMovement:!0})&&(za=!1);d=a.milliseconds();a.Pointer.movement.times.push(d);if(Ga&&Ba){Sa={x:b-Ga.x,y:c-Ga.y};var m=d-Ba,e={x:Sa.x/m,y:Sa.y/m};a.Pointer.movement.velocities.push(e);
null!=Ha&&a.Pointer.movement.accelerations.push({x:(e.x-Ha.x)/m,y:(e.y-Ha.y)/m});Ha=e;for(var f=a.Pointer.movement.times,m=a.Pointer.movement.velocities,g=0,k=0,n=d,l,w=f.length-1;1<=w;--w){l=f[w];if(l<d-100)break;var B=m[w-1],g=g+B.x*(n-l),k=k+B.y*(n-l),n=l}f=d-n;a.Pointer.movement.movingAverageVelocity=f?{x:g/f,y:k/f}:a.Pointer.movement.velocities[m.length-1];Ta=setTimeout(function(){var d={x:0,y:0},b=a.milliseconds(),c=c-Ba,h=a.Pointer.movement;h.times.push(b);h.velocities.push(d);h.movingAverageVelocity=
d;h.accelerations.push({x:-e.x/c,y:-e.y/c})},a.Pointer.movement.timeout)}Ba=d;Ga={x:b,y:c};a.Pointer.movement.positions.push(Ga)}}function ja(){a.Pointer.blurring=!0;setTimeout(function(){a.Pointer.blurring=!1},500)}function ba(){}function la(){a.findScript("plugins/Q/js/prefixfree.min.js")&&console.warn("Q.js must be included before prefixfree in order to work properly");for(var d=document.getElementsByTagName("link"),b=la.slots,c=0;c<d.length;++c)if("stylesheet"===d[c].getAttribute("rel").toLowerCase()){var m=
d[c].getAttribute("href");b[m]=d[c].getAttribute("data-slot")||null}}function ea(){var d=H.Handlebars;d.helpers.call||d.registerHelper("call",function(a){if(!a)return"{{call missing method name}}";var d=a.split("."),b=d[0],d=d[1];if(this[b]&&"function"===typeof this[b][d]){var e=Array.prototype.slice.call(arguments,1,arguments.length-1);return this[b][d].apply(this[b],e)}return"{{call "+a+" not found}}"});d.helpers.tool||d.registerHelper("tool",function(d,c,m){if(!d)return"{{tool missing name}}";
"object"===typeof c&&(m=c,c=b);var e=a.Tool.beingActivated,e=e?e.prefix:"",f={};if(m=m&&m.hash)for(var g in m)a.setObject(g,m[g],f,"-");a.extend(f,this[d],this["id:"+c]);c=e+d.split("/").join("_")+(c?"-"+c:"");return a.Tool.setUpElementHTML("div",d,f,c,e)})}function pa(d,b,c){if(!d)return!1;var m=a.getObject(b,d);m&&a.handle(m,d,c);a.each(d.children("",1),function(){pa(this,b,c)})}var H=this,ha=!1,qa=null;a.libraries={json:"http://cdnjs.cloudflare.com/ajax/libs/json3/3.2.4/json3.min.js",promise:"plugins/Q/js/Promise.js"};
a.plugins={};a.text={Q:{request:{error:"Error {{status}} during request",canceled:"Request canceled",500:"Internal server error",404:"Not found: {{url}}",0:"Request interrupted"}}};a.Error=Error;Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__?a.__proto__:a.constructor&&a.constructor.prototype?a.constructor.prototype:null});Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),
m=c.length;return function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var f=[],g;for(g in e)a.call(e,g)&&f.push(g);if(b)for(g=0;g<m;g++)a.call(e,c[g])&&f.push(c[g]);return f}}());var C=String.prototype;C.toCapitalized=function(){return this.replace(/^([a-z])|\s+([a-z])/g,function(a){return a.toUpperCase()})};C.isUrl=function(){return!!this.match(/^([A-Za-z]*:|)\/\//)};C.encodeHTML=function(){return this.replaceAll({"&":"&amp;",
"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","\n":"<br>"})};C.decodeHTML=function(){return this.replaceAll({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","<br>":"\n","<br />":"\n"})};C.interpolate=function(a){return this.replace(/\{\{([^{}]*)\}\}/g,function(b,c){var m=a[c];return"string"===typeof m||"number"===typeof m?m:b})};C.replaceAll=function(a){var b=this,c;for(c in a)b=b.replace(new RegExp(c,"g"),a[c]);return b};C.queryField=function(d,h){var c=this,m=["#!","#","?","!"],e=
m.length,f="",g,k,n;for(g=0;g<e;++g)if(k=m[g].length,n=this.substring(0,k),n==m[g]){f=n;c=this.substring(k);break}if("object"===typeof d){var l=c;a.each(h,function(a,d){l=l.queryField(a,d)})}else{if(h===b)return a.parseQueryString(c)[d];if(null===h){var m=[],c=a.parseQueryString(c,m),e=new RegExp(d),w;for(w in c)e.test(w)&&delete c[w]}else m=[],c=a.parseQueryString(c,m),d in c||m.push(d),c[d]=h;return f+a.serializeFields(c,m)}};C.hashCode=function(){var a=0;if(!this.length)return a;for(var b=0;b<
this.length;b++)var c=this.charCodeAt(b),a=a%16777216,a=(a<<5)-a+c,a=a&4294967295;return a};C.trim=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")};C.parseUrl=function(a){for(var b="source scheme authority userInfo user pass host port relative path directory file query fragment".split(" "),c=/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(this),m={},e=14;e--;)c[e]&&
(m[b[e]]=c[e]);if(a)return m[a.replace("PHP_URL_","").toLowerCase()];delete m.source;return m};C.sameDomain=function(a,b){var c=this.parseUrl(),m=a.parseUrl(),e=c.host===m.host&&c.user===m.user&&c.pass===m.pass&&c.port===m.port;return b&&b.compareScheme?e&&c.scheme===m.scheme:e};C.startsWith=function(a){return this.substr(0,a.length)===a};C=Function.prototype;C.bind||(C.bind=function(a){var b=this;(a=a||H)||(a=H);if(1>=arguments.length)return function(){return b.apply(a,arguments)};var c=Array.prototype.slice.call(arguments,
1);return function(){return b.apply(a,c.concat(Array.prototype.slice.call(arguments)))}});C=Array.prototype;C.indexOf||(C.indexOf=function(a){if(0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var m=0;0<arguments.length&&(m=Number(arguments[1]),m!==m?m=0:0!==m&&Infinity!==m&&-Infinity!==m&&(m=(0<m||-1)*Math.floor(Math.abs(m))));if(m>=c)return-1;for(m=0<=m?m:Math.max(c-Math.abs(m),0);m<c;m++)if(m in b&&b[m]===a)return m;return-1});Date.now||(Date.now=function(){return(new Date).getTime()});
Date.fromDateTime=function(a){return new Date(a.replace(/-/g,"/"))};H.Element&&(document.getElementsByClassName||(document.getElementsByClassName=function(a){return Array.prototype.slice.call(this.querySelectorAll("."+a))}),C=Element.prototype,C.Q||(C.Q=function(a){return null}),C.contains||(C.contains=function(a){if(!a)return!1;for(;a;){if(a==this)return!0;a=a.parentNode}return!1}),C.computedStyle=function(a){var b=H.getComputedStyle?getComputedStyle(this,null):this.currentStyle;return a?b?b[a]:
null:b},C.copyComputedStyle=function(a){a=a.computedStyle();for(var b in a)if("string"==typeof b&&"cssText"!=b&&!/\d/.test(b))try{this.style[b]=a[b],"font"==b&&(this.style.fontSize=a.fontSize)}catch(c){}return this},C.scrollingParent=function(){for(var a=this;a=a.parentNode;)if("function"===typeof a.computedStyle){var b=a.computedStyle().overflow;if(0>["hidden","visible"].indexOf(b))return a}return document.documentElement},C.swap=function(a){var b,c,m,e;b=this.parentNode;c=this.nextSibling;m=a.parentNode;
e=a.nextSibling;b.insertBefore(a,c);m.insertBefore(this,e)},C.preventSelections=function(d,b){a.addEventListener(this,"selectstart",K);this.preventSelectionsInfo=this.preventSelectionsInfo||{style:this.style["-moz-user-select"]||this.style["-webkit-user-select"]||this.style["-ms-user-select"]||this.style["user-select"],callout:this.style["-webkit-user-callout"],unselectable:this.unselectable};this.unselectable="on";this.style[a.info.browser.prefix+"user-select"]=this.style["user-select"]="none";b&&
(this.style[a.info.browser.prefix+"user-callout"]=this.style["user-select"]="none");d&&a.each(this.children||this.childNodes,function(){this.preventSelections&&0>["INPUT","TEXTAREA"].indexOf(this.tagName.toUpperCase())&&!this.hasClass("Q_selectable")&&this.preventSelections(d)})},C.restoreSelections=function(d){var b=this.preventSelectionsInfo;b&&(this.style["-moz-user-select"]=this.style["-webkit-user-select"]=this.style["-ms-user-select"]=this.style["user-select"]=b.style||"text",this.style["-webkit-user-callout"]=
b.callout,this.unselectable=b.unselectable,delete this.preventSelectionsInfo);a.removeEventListener(this,"selectstart",K);d&&a.each(this.children||this.childNodes,function(){this.restoreSelections&&0<=["INPUT","TEXTAREA"].indexOf(this.tagName.toUpperCase())&&this.restoreSelections(d)})},C.isBefore=function(d,b){var c=!0,m=this;b=b||document.documentElement;a.find(b,null,function(a){if(a===d)return c=!1;if(a===m)return!1});return c},C.hasClass=function(a){return this.classList?this.classList.contains(a):
(new RegExp("(^| )"+a+"( |$)","gi")).test(this.className)},C.removeClass=function(a){this.classList?this.classList.remove(a):this.className=this.className.replace(new RegExp("(^| )"+a.split(" ").join("|")+"( |$)","gi")," ");return this},C.addClass=function(a){a=a.split(" ");for(var b=a.length,c=0;c<b;++c){var m=a[c];m&&(this.classList?this.classList.add(m):(this.removeClass(m),this.className+=" "+m))}return this},C.innerText=function(){return this.textContent||this.innerText},C.isOverflowed=function(){return this.offsetWidth<
this.scrollWidth||this.offsetHeight<this.scrollHeight},C.isVisible=function(){return 0<this.offsetWidth||0<this.offsetHeight},C.remainingWidth=function(){var d=this;if(!this.parentNode)return null;var b=this.getBoundingClientRect(),c=this.parentNode.getBoundingClientRect().width;a.each(this.parentNode.children,function(){if(this!==d&&this.isVisible()){var a=this.computedStyle(),e=this.getBoundingClientRect();b.top>e.bottom||b.bottom<e.top||(c-=e.width+parseFloat(a.marginLeft)+parseFloat(a.marginRight))}});
return c},C.getElementsByClassName||(C.getElementsByClassName=document.getElementsByClassName));(function(){if(0<navigator.appVersion.indexOf("MSIE 8")){var a=Array.prototype.slice;Array.prototype.slice=function(){if(this instanceof Array)return a.apply(this,arguments);for(var b=[],c=2<=arguments.length?arguments[1]:this.length,m=1<=arguments.length?arguments[0]:0;m<c;m++)b.push(this[m]);return b}}})();H.requestAnimationFrame||(H.requestAnimationFrame=H.webkitRequestAnimationFrame||H.mozRequestAnimationFrame||
H.oRequestAnimationFrame||H.msRequestAnimationFrame||function(d){return setTimeout(function(){d(a.milliseconds())},1E3/a.Animation.fps)},H.cancelAnimationFrame=H.webkitCancelAnimationFrame||H.mozCancelAnimationFrame||H.oCancelAnimationFrame||H.msCancelAnimationFrame||function(a){clearTimeout(a)});a.milliseconds=function(d){var b=Date.now();if(d)return b;a.milliseconds.started=a.milliseconds.started||b;return b-a.milliseconds.started};a.milliseconds();a.milliseconds=function(d){var b=Date.now();return d?
b:b-a.milliseconds.start};a.milliseconds.start=Date.now();a.objectWithPrototype=function(a){function b(){}if(!a)return{};b.prototype=a;return new b};a.typeOf=function(a){var b=typeof a,c,m;"function"!==b||a instanceof Function||(b="object");if("object"===b){if(null===a)return"null";if(a instanceof H.Element)return"Element";if(a instanceof Array||a.constructor&&"Array"===a.constructor.name||"[object Array]"===Object.prototype.toString.apply(a))b="array";else return"undefined"!=typeof a.typename?a.typename:
"number"==typeof(m=a.length)&&0==m%1&&(!m||m-1 in a)?"array":"undefined"!=typeof a.constructor&&"undefined"!=typeof a.constructor.name?"Object"==a.constructor.name?"object":a.constructor.name:"[object "===(c=Object.prototype.toString.apply(a)).substr(0,8)?c.substring(8,c.length-1).toLowerCase():"object"}return b};a.each=function(d,h,c,m,e){function f(a,b){return d[a][L]>d[b][L]?1:d[a][L]<d[b][L]?-1:0}function g(a,d){return Number(a)-Number(d)}function k(a,b){return Number(d[a][L])-Number(d[b][L])}
var n,l,w,B;"string"===typeof h&&a.isArrayLike(c)&&(B=c,c=m);switch(w=a.typeOf(d)){default:l=Array.prototype.slice.call(d,0);if("0"in d&&!("0"in l))for(l=[],m=0;e=d[m];++m)l.push(e);n=l.length;if(!l||!n||!h)break;if(c&&!1===c.ascending)for(m=n-1;0<=m;--m){if(e=a.handle(h,l[m],B||[m,l[m],l]),!1===e)return!1}else for(m=0;m<n;++m)if(e=a.handle(h,l[m],B||[m,l[m]],l),!1===e)return!1;break;case "object":if(!d||!h)break;if(c&&("ascending"in c||"sort"in c)){l=[];for(n in d)(!c.hasOwnProperty||a.has(d,n))&&
d.hasOwnProperty&&d.hasOwnProperty(n)&&l.push(c.numeric?Number(n):n);var L=c.sort;w=typeof L;l.sort("function"===w?L:"string"===w?c.numeric?k:f:c.numeric?g:b);if(!1===c.ascending)for(m=l.length-1;0<=m;--m){if(c=l[m],e=a.handle(h,d[c],B||[c,d[c],d]),!1===e)return!1}else for(m=0;m<l.length;++m)if(c=l[m],e=a.handle(h,d[c],B||[c,d[c],d]),!1===e)return!1}else for(n in d)if(d.hasOwnProperty&&d.hasOwnProperty(n)&&(e=a.handle(h,d[n],B||[n,d[n],d]),!1===e))return!1;break;case "string":if(!d||!h)break;if(c&&
!1===c.ascending)for(m=0;m<d.length;++m){if(l=d.charAt(m),e=a.handle(h,l,B||[m,l,d]),!1===e)return!1}else for(m=d.length-1;0<=m;--m)if(l=d.charAt(m),e=a.handle(h,l,B||[m,l,d]),!1===e)return!1;break;case "number":w=0;n=d;"number"===typeof h&&(w=d,n=h,"number"===typeof c?(l=c,h=m,c=e):(h=c,c=m));if(!h)break;l===b&&(l=w<=n?1:-1);if(!l||0>(n-w)*l)return 0;if(w<=n)for(m=w;m<=n;m+=l){e=a.handle(h,this,B||[m],d);if(!1===e)return!1;if(0>l)return 0}else for(m=w;m>=n;m+=l){e=a.handle(h,this,B||[m],d);if(!1===
e)return!1;if(0<l)return 0}break;case "function":case "boolean":if(!1===d)break;throw new a.Error("Q.each: does not support iterating a "+w);case "null":case "undefined":}};a.first=function(d,h){var c=a.firstKey(d,h);return null!=c?d[c]:b};a.firstKey=function(d,h){if(!d)return null;switch(typeof d){case "array":for(var c=0;c<d.length;++c)if(d[c]!==b)return c;break;case "object":for(c in d)if(d.hasOwnProperty(c)&&d[c]!==b&&(c||!h||!h.nonEmptyKey))return c;break;case "string":return 0;default:throw new a.Error("Q.first: container has to be an array, object or string");
}return null};a.diff=function(d,b){if(!d||!b)return d;var c=arguments,m=arguments.length,e=arguments[m-1];if("function"!==typeof e)throw new a.Error("Q.diff: comparator must be a function");var f=a.isArrayLike(d),g=f?[]:{};a.each(d,function(d,b){for(var h=!1,n=1;n<m-1&&(a.each(c[n],function(a,d){if(e(b,d,n,a))return h=!0,!1}),!h);++n);h||(f?g.push(b):g[d]=b)});return g};a.isEmpty=function(d){if(!d)return!0;var h,c;c=a.typeOf(d);if("array"===c)return 0===d.length;if("object"===c){for(h in d)if(c=d[h],
c!==b)return!1;return!0}return!1};a.isInteger=function(a,b){return b?0<a?Math.floor(a)===a:Math.ceil(a)===a:0<a?Math.floor(a)==a:Math.ceil(a)==a};a.isArrayLike=function(d){return"array"===a.typeOf(d)};a.isPlainObject=function(a){return null===a||"object"!==typeof a||"[object Object]"!==Object.prototype.toString.apply(a)||H.attachEvent&&!H.addEventListener&&a&&a.constructor!==Object?!1:!0};a.instanceOf=function(a,b){return a&&"object"===typeof a&&a instanceof b};a.copy=function(d,b,c){if("array"===
a.typeOf(d))return Array.prototype.slice.call(d,0);if(d&&"function"===typeof d.copy)return d.copy();if(null===d||!a.isPlainObject(d))return d;var m=a.objectWithPrototype(Object.getPrototypeOf(d)),e,f;if(b)for(f=b.length,c=0;c<f;++c)e=b[c],e in d&&(m[e]=d[e]&&"function"===typeof d[e].copy?d[e].copy():d[e]);else for(e in d)a.has(d,e)&&(m[e]=d[e]&&"function"===typeof d[e].copy?d[e].copy():c?a.copy(d[e],null,c-1):d[e]);return m};a.extend=function(d){var h=arguments.length,c=b;"string"===typeof arguments[h-
1]&&(c=arguments[h-1],--h);if(0===h)return{};var e=!1,f=0,g=a.typeOf(d),n="Q.Event"===g,k,l,w,B,L,r,q;for(k=1;k<h;++k)if(l=arguments[k])if(!0===l)e=!0;else if("number"===typeof l&&l)f=l;else if(d===b&&(a.isArrayLike(l)?(d=[],g="array"):(d={},g="object")),n)if(l&&l.constructor===Object)for(L in l)d.set(l[L],L);else d.set(l,c);else{if("array"===g&&a.isArrayLike(l))d=Array.prototype.concat.call(d,l);else for(w in l)if(!0===e||l.hasOwnProperty&&l.hasOwnProperty(w)||!(l.hasOwnProperty&&w in l)){B=l[w];
r=w in d&&a.typeOf(d[w]);q=a.typeOf(B);if("Q.Event"===r)if(B&&B.constructor===Object)for(L in B)d[w].set(B[L],L);else d[w].set(B,c);else f&&d[w]&&"object"===typeof d[w]&&"Q.Event"!==q&&(a.isPlainObject(B)||"array"===r&&"array"===q)?d[w]="array"===r&&"replace"in B?a.copy(B.replace):a.extend(d[w],e,f-1,B):d[w]=a.copy(B,null,f);d[w]===b&&delete d[w]}e=!1;f=0}return d};a.has=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};a.take=function(d,b){var c={};if(!d)return c;if(a.isArrayLike(b))for(var e=
0;e<b.length;++e)b[e]in d&&(c[b[e]]=d[b[e]]);else for(e in b)c[e]=e in d?d[e]:b[e];return c};a.shuffle=function(a){var b=a.length;if(!b)return!1;for(;--b;){var c=Math.floor(Math.random()*(b+1)),e=a[b];a[b]=a[c];a[c]=e}};a.mixin=function(d){var h=d.__mixins||(d.__mixins=[]),c,e,f,g;e=1;for(g=arguments.length;e<g;++e){c=arguments[e];if("function"!==typeof c)throw new a.Error("Q.mixin: argument "+e+" is not a function");var n=c.prototype,k=d.prototype;for(f in n)f in k||(k[f]=n[f]);for(f in c)f in d||
(d[f]=c[f]);h.push(arguments[e])}d.staticProperty=function(a){for(var c=0;c<d.__mixins.length;++c)if(a in d.__mixins[c])return d.__mixins[c].propName;return b};d.constructors=function(){var a=d.__mixins,b;for(b=a.length-1;0<=b;--b)a[b].apply(this,arguments)};d.prototype.constructors=function(){d.constructors.apply(this,arguments)}};a.normalize=function(a,h,c,e){e||(e=200);h===b&&(h="_");c=c||/[^A-Za-z0-9]+/g;if(a===b)debugger;h=a.toLowerCase().replace(c,h);a.length>e&&(h=a.substr(0,e-11)+"_"+Math.abs(a.substr(e-
11).hashCode()));return h};a.setObject=function(d,h,c,e){if(a.isPlainObject(d)){c=h;h={};for(var f in d)h[f]=a.setObject(f,d[f],c);return h}"string"===typeof d&&(d=d.split(e||"."));f=d.pop();return(d=P(d,!0,c))&&f!==b?d[f]=h:b};a.getObject=function(d,h,c,e){c=c||".";if("string"===typeof d)d=d.split(c);else if(!(d instanceof Array))return d;var f=P(d,!1,h);e!==b&&a.setObject(d,e,h,c);return f};a.ensure=function(d,h,c){d!==b?a.handle(c):"string"===typeof h?a.addScript(h,c):"function"===typeof h?h(c):
h instanceof a.Event&&h.add(c)};a.latest=function(d,h){d=a.calculateKey(d);if(h===b)return a.latest.issued[d]=(a.latest.issued[d]||0)%a.latest.max+1;var c=a.latest.seen[d]||0;return!0===h?c:h>c||h<c-9*a.latest.max/10?(a.latest.seen[d]=h,!0):!1};a.latest.issued={};a.latest.seen={};a.latest.max=1E4;a.calculateKey=function(d,h,c){if(!0===d)return"PAGE: CURRENT";d===b&&(d=a.Tool.beingActivated);if("Q.Tool"===a.typeOf(d))d="TOOL: "+d.id;else if(h&&d==b)for(c=c===b?1:c,d="AUTOKEY_"+c;h[d];)d="AUTOKEY_"+
++c;return d};a.calculateKey.keys=[];a.Event=function(d,b,c){if(this===a)throw new a.Error("Q.Event: Missing new keyword");var e=this;this.handlers={};this.keys=[];this.typename="Q.Event";d&&this.set(d,b,c);this.handle=function(){var d,b=0,c=e.occurring,h;if(e.stopped)return 0;e.occurring=!0;e.lastContext=this;e.lastArgs=arguments;var f=a.copy(e.keys);for(d=0;d<f.length;++d){h=a.handle(e.handlers[f[d]],this,arguments);if(!1===h)return!1;b+=h}e.occurring=c;e.occurred=!0;return b}};a.Event.forTool=
{};a.Event.forPage=[];a.Event.jQueryForTool={};a.Event.jQueryForPage=[];a.Event.from=function(d,b){var c=new a.Event;a.addEventListener(d,b,c.handle);return c};C=a.Event.prototype;C.occurred=!1;C.occurring=!1;C.set=function(d,h,c){var e="Q.Tool"===a.typeOf(h);(!0===h||h===b&&a.Page.beingActivated)&&a.Event.forPage.push(this);h=a.calculateKey(h,this.handlers,this.keys.length);this.handlers[h]=d;0>this.keys.indexOf(h)&&(c?this.keys.unshift(h):this.keys.push(h),e&&(a.Event.forTool[h]=a.Event.forTool[h]||
[],a.Event.forTool[h].push(this)));1===this.keys.length&&this._onFirst&&this._onFirst.handle.call(this,d,h,c);this._onSet&&this._onSet.handle.call(this,d,h,c);return h};C.add=function(d,b,c){b=this.set(d,b,c);(this.occurred||this.occurring)&&a.handle(d,this.lastContext,this.lastArgs);return b};C.remove=function(d){var b=a.calculateKey(d);if(!0===d)for(d=a.Event.forPage.length,c=0;c<d;++c){if(a.Event.forPage[c]===this){a.Event.forPage.splice(c,1);break}}else if(a.Event.forTool[b])for(d=a.Event.forTool[b].length,
c=0;c<d;++c)if(a.Event.forTool[b][c]===this){a.Event.forTool[b].splice(c,1);break}var c=this.keys.indexOf(b);if(0>c)return 0;this.keys.splice(c,1);this._onRemove&&this._onRemove.handle.call(this,b);!this.keys.length&&this._onEmpty&&this._onEmpty.handle.call(this,b);delete this.handlers[b];return 1};C.removeAllHandlers=function(){this.handlers={};this.keys=[];this._onEmpty&&this._onEmpty.handle.call(this)};C.stop=function(a){this.stopped=!0;this._onStop&&this._onStop.handle.call(this);a&&this.removeAllHandlers.call(this)};
C.copy=function(){for(var d=new a.Event,b=0;b<this.keys.length;++b)d.handlers[this.keys[b]]=this.handlers[this.keys[b]],d.keys.push(this.keys[b]);return d};C.or=function(d,b,c){var e=new a.Event;this.add(e.handle,b);d&&d.add(e.handle,c);return e};C.and=function(d,b,c){function e(){if((g.occurred||g.occurring)&&(d.occurred||d.occurring))return f.handle.apply(this,arguments)}var f=new a.Event;if(!d)return a.copy(this);var g=this;f.occurred=g.occurred&&d.occurred;f.occurring=g.occurring||d.occurring;
g.add(e,b);c=d.add(e,c);return f};C.until=function(d,b,c){var e=new a.Event,f=this;b=f.add(e.handle,b);c=d.add(function(){f.remove(b);d.remove(c);f.stop()},c);return e};C.then=function(d){var b=new a.Event,c=b.handle,e=!0,f=[];b.handle=function(){return e?(f.push([this,arguments]),0):c.apply(this,arguments)};var g=this.onStop().add(function(){for(var a=0;a<f.length;++a)c.apply(f[a][0],f[a][1]);e=!1;this.onStop().remove(g)},d);return b};C.debounce=function(d,b){var c=new a.Event;this.add(a.debounce(c.handle,
d,0),b);return c};C.throttle=function(d,b){var c=new a.Event;this.add(a.throttle(c.handle,d,0),b);return c};C.queue=function(d,b){var c=new a.Event;this.add(a.queue(c.handle,d),b);return c};C.filter=function(b,h){var c=new a.Event;this.add(function(){return b.apply(this,arguments)?c.handle.apply(this,arguments):0},h);return c};C.map=function(b,h){var c=new a.Event;this.add(function(){var a=b.apply(this,arguments);return c.handle.apply(a[0],a[1])},h);return c};C.onFirst=function(){return this._onFirst||
(this._onFirst=new a.Event)};C.onSet=function(){return this._onSet||(this._onSet=new a.Event)};C.onRemove=function(){return this._onRemove||(this._onRemove=new a.Event)};C.onEmpty=function(){return this._onEmpty||(this._onEmpty=new a.Event)};C.onStop=function(){return this._onStop||(this._onStop=new a.Event)};a.Event.factory=function(b,h,c,e){function f(){var c=this.indexes.split("\t"),h=c.length,e,m=[b];for(e=0;e<h;++e)m.push(m[e][c[e]]);for(e=h-1;0<=e&&(delete m[e][c[e]],a.isEmpty(m[e]));--e);}
b||(b={});h=h||[];var g=function(){var g=Array.prototype.slice.call(arguments,0),y=h.length,n="function"===typeof h[y-1]?h[h.length-1]:null;n&&--y;for(var k=g.length;k<y;++k)g[k]=h[k];g=n&&n.apply(this,g)||g;y=g.join("\t");if(n=a.getObject(y,b,"\t"))return n;n=new a.Event;c&&c.apply(n,g);a.setObject(y,n,b,"\t");e&&n.onEmpty().set(f);n.indexes=y;return n};g.collection=b;return g};a.beforeInit=new a.Event;a.onInit=new a.Event;a.onLoad=new a.Event;a.onUnload=new a.Event;a.onHashChange=new a.Event;a.onPopState=
new a.Event;a.onOnline=new a.Event(function(){qa=!0},"Q");a.onOffline=new a.Event(function(){qa=!1},"Q");a.beforeActivate=new a.Event;a.onActivate=new a.Event;a.onDOM=new a.Event;a.onReady=new a.Event;a.onJQuery=new a.Event;var ka=[],ta=[];a.onLayout=function(b){b=b||document.documentElement;"Q.Tool"===a.typeOf(b)&&(b=b.element);for(var h=0,c=ka.length;h<c;++h)if(ka[h]===b)return ta[h];h=new a.Event;c=ka.push(b);ta[c-1]=h;h.onEmpty().set(function(){for(var a=0,c=ka.length;a<c;++a)if(ka[a]===b){ka.splice(a,
1);break}},"Q");return h};a.onLayout().set(function(){T.apply(this,arguments);a.Masks.update()},"Q");a.onScroll=new a.Event;a.onVisibilityChange=new a.Event;a.beforeReplace=new a.Event;a.Pipe=function(b,h,c){if(this===a)throw new a.Error("Q.Pipe: omitted keyword new");this.callbacks=[];this.params={};this.subjects={};this.ignore={};this.finished=!1;this.add.apply(this,arguments)};C=a.Pipe.prototype;C.on=function(a,b){return this.add([a],1,function(a,d,e){return b.apply(d[e],a[e],e)})};C.add=function(b,
h,c){for(var e=null,f=null,g=null,n,k,l,w=0;w<arguments.length;w++){var B=arguments[w];if("function"===typeof B){if(g){n=[];k=[];l=[];var L=this;a.each(e,function(b,d){var c=a.getObject(g,d);"Q.Event"===a.typeOf(c)&&(l.push(c.add(L.fill(b))),n.push(b),k.push(c))});B.pipeEvents=k;B.pipeKeys=l;e=n}B.pipeRequires=e;B.pipeRemaining=f;e=f=g=null;this.callbacks.push(B)}else{switch(a.typeOf(B)){case "array":e=B;e.length&&"string"!==typeof e[0]&&"number"!==typeof e[0]&&(g=arguments[++w]);break;case "object":e=
B;g=arguments[++w];break;case "number":f=B}if(null!=g&&"string"!==typeof g)throw new a.Error("Pp.add requires event name after array of objects");}}return this};C.fill=function(b,h){if(!0===h)this.ignore[this.i]=!0;else if("string"===typeof h)this.ignore[h]=!0;else if(a.isArrayLike(h))for(var c=0;c<h.length;++c)this.ignore[h[c]]=!0;var e=this;return function(){e.params[b]=Array.prototype.slice.call(arguments);e.subjects[b]=this;e.run(b)}};C.run=function(b){var h,c,e=this.callbacks,f=a.copy(this.params),
g=0,n,k;n=0;a:for(;n<e.length;n++)if(!this.ignore[n]&&(this.i=n,h=e[n])){if(h.pipeRequires)for(k=0;k<h.pipeRequires.length;k++)if(!(this.ignore[h.pipeRequires[k]]||h.pipeRequires[k]in f))continue a;h.pipeRemaining&&(--h.pipeRemaining||delete e[n]);c=h.call(this,this.params,this.subjects,b,h.pipeRequires);if(h.pipeEvents)for(k=0;k<h.pipeEvents.length;k++)h.pipeEvents[k].remove(h.pipeKeys[k]);++g;delete h.pipeEvents;delete h.pipeKeys;if(!1===c)delete e[n];else if(!0===c){this.callbacks=[];this.finished=
!0;break}}return g};a.pipe=function(b,h,c,e){return new a.Pipe(b,h,c,e)};a.batcher=function(b,h){var c=a.extend({},a.batcher.options,h),e=function(){var a=arguments;setTimeout(function(){function h(){try{b.call(this,b.subjects,b.args,b.callbacks),b.subjects=b.args=b.callbacks=null,b.count=0,b.argmax=0,b.cbmax=0}catch(a){throw b.count=0,b.argmax=0,b.cbmax=0,a;}}var e,f=[],m=[];for(e=0;e<a.length;++e)"function"===typeof a[e]?f.push(a[e]):m.push(a[e]);b.count||(b.count=0);b.argmax||(b.argmax=0);b.cbmax||
(b.cbmax=0);++b.count;f.length>b.cbmax&&(b.cbmax=f.length);m.length>b.argmax&&(b.argmax=m.length);b.subjects||(b.subjects=[]);b.args||(b.args=[]);b.callbacks||(b.callbacks=[]);b.subjects.push(this);b.args.push(m);b.callbacks.push(f);b.timeout&&clearTimeout(b.timeout);b.count==c.max?h():b.timeout=setTimeout(h,c.ms)},0)};e.batch=b;e.cancel=function(){clearTimeout(b.timeout)};return e};a.batcher.options={max:10,ms:50};a.batcher.factory=function(d,h,c,e,f,g){d||(d={});e===b&&(e="batch");f===b&&(f="batch");
c&&"/"!==c[0]&&(c="/"+c);var n,k=[h,c,e,f].join("\t");if(n=a.getObject(k,d,"\t"))return n;n=a.batcher(function(b,d,n){b=a.extend({method:"post",fields:{}},g);d=g&&g.preprocess?g.preprocess(d):{args:d};b.fields[f]=JSON.stringify(d);a.req(h+c,e,function(b,d){var c=b||d.errors;if(c)a.each(n,function(a,b){b[0].call(d,c,d)});else{var h=this;a.each(d.slots.batch,function(a,b){b&&b.errors?n[a][0].call(this,b.errors,null,h):n[a][0].call(this,null,b&&b.slots||{},h)})}},b)},g);a.setObject(k,n,d,"\t");return n};
a.getter=function(b,h){function c(){var h,g,n,k,l,w,B=[],L=Array.prototype.slice.call(arguments);w=a.Cache.key(L,B);if(0===B.length){var r=function(){};L.push(r);B.push(r)}var q={dontCache:!1};c.onCalled.handle.call(this,L,q);var N;a.getter.usingCached=!1;if(c.cache&&!f&&(N=c.cache.get(w))&&(r=N.cbpos,B[r]))return c.onResult.handle(N.subject,N.params,L,q,b),a.getter.usingCached=!0,B[r].apply(N.subject,N.params),q.result=a.getter.CACHED,c.onExecuted.handle.call(this,L,q),a.getter.usingCached=!1,q;
f=!1;e[w]=e[w]||[];e[w].push({callbacks:B,ret:q});if(1<e[w].length)return c.onExecuted.handle.call(this,L,q),q.result=a.getter.WAITING,q;r=[];for(N=l=0;l<L.length;l++)"function"!==typeof L[l]?r.push(L[l]):(r.push(function(a,h){return function(){c.cache&&!q.dontCache&&c.cache.set(w,h,this,arguments);var a=e[w];if(a)for(l=0;l<a.length;l++)c.onResult.handle(this,arguments,L,a[l].ret,b),a[l].callbacks[h].apply(this,arguments);delete e[w];c.throttle&&c.throttle.throttleNext&&c.throttle.throttleNext(this)}}(B[N],
N)),++N);if(!c.throttle)return!1===b.apply(this,r)&&(q.dontCache=!0),q.result=a.getter.REQUESTING,c.onExecuted.handle.call(this,L,q),q;c.throttle.throttleTry||(h=c.throttleSize,g=0,n=[],k=[],c.throttle.throttleTry=function(a,b,d,c){++g;if(null===h||g<=h)return!1===b.apply(a,d)&&(c.dontCache=!0),!0;n.push(b);k.push(d);return!1},c.throttle.throttleNext=function(a){0>--g&&console.warn("Q.getter: throttle count is negative. This probably means you passed a callback somewhere it shouldn't have been passed.");
n.length&&n.shift().apply(a,k.shift())});c.throttleSize||(c.throttle.throttleSize=function(a){if("undefined"===typeof a)return h;h=a});q.result=c.throttle.throttleTry(this,b,r,q)?a.getter.REQUESTING:a.getter.THROTTLING;c.onExecuted.handle.call(this,L,q);return q}a.extend(c,b,a.getter.options,h);c.onCalled=new a.Event;c.onExecuted=new a.Event;c.onResult=new a.Event;var e={};!1===c.cache?c.cache=null:!0===c.cache&&(c.cache=a.Cache.document(++O));c.throttle=c.throttle||null;!0===c.throttle&&(c.throttle=
"");"string"===typeof c.throttle&&(a.getter.throttles[c.throttle]||(a.getter.throttles[c.throttle]={}),c.throttle=a.getter.throttles[c.throttle]);c.forget=function(){var b=a.Cache.key(arguments);if(b&&c.cache)return c.cache.remove(b)};var f=!1;c.force=function(){f=!0;c.apply(this,arguments)};b.batch&&(c.batch=b.batch);return c};var O=0;a.getter.options={cache:!0,throttle:null,throttleSize:100};a.getter.throttles={};a.getter.cache={};a.getter.waiting={};a.getter.CACHED=0;a.getter.REQUESTING=1;a.getter.WAITING=
2;a.getter.THROTTLING=3;a.once=function(a,b){var c=!1;return function(){if(c)return b;c=!0;return a.apply(this,arguments)}};a.throttle=function(a,b,c){var e;return function(){if(Date.now()-e<b)return c;e=Date.now();return a.apply(this,arguments)}};a.queue=function(a,b){function c(){if(!e.length)return f=null,0;var g=e.shift();!1===a.apply(g[0],g[1])?(f=null,e=[]):f=setTimeout(c,b)}var e=[],f=null;b=b||0;return function(){var a=Array.prototype.slice.call(arguments,0),a=e.push([this,a]);f||(f=setTimeout(function(){c()},
0));return a}};a.debounce=function(a,b,c){var e=null;return function(){e&&clearTimeout(e);var f=this,g=arguments;e=setTimeout(function(){a.apply(f,g)},b);return c}};a.preventRecursion=function(a,b,c){return function(){var e="__preventRecursion_"+a;if(this[e])return c;this[e]=!0;var f=b.apply(this,arguments);delete this[e];return f}};a.Exception=function(a,b){this.fields=b||{};this.message=a||""};a.Exception.prototype=Error;a.Tool=function(b,h){if(this.activated)return this;this.activated=!0;this.element=
b;this.typename="Q.Tool";H.jQuery&&jQuery(b).data("Q_tool",this);this.element.id||(this.element.id=((a.Tool.beingActivated?a.Tool.beingActivated.prefix:"")+this.name+"-"+a.Tool.nextDefaultId++ +"_tool").toLowerCase(),a.Tool.nextDefaultId%=1E6);this.prefix=a.Tool.calculatePrefix(this.element.id);this.id=this.prefix.substr(0,this.prefix.length-1);var c=this.element.className&&this.element.className.split(/\s+/)||[],e=b.getAttribute("data-"+a.normalize(this.name,"-"));if(e){var f=null;"{"===e[0]?f=JSON.parse(e):
(f=e.indexOf(" "),this.id=e.substr(0,f),f=(e=e.substr(f+1))&&JSON.parse(e));f&&a.extend(this.options,a.Tool.options.levels,f,"Q.Tool")}var g,n,k;h=h||{};this.options=this.options||{};e=a.normalize(this.name);k=this.parentIds();f=(n=k.length)?a.extend({},a.Tool.options.levels,h):h;for(--n;0<=n;--n){var l=k[n];a.isEmpty(a.Tool.active[l].state)||(f=a.extend(f,a.Tool.options.levels,a.Tool.active[l].state))}n=0;for(k=c.length;n<k;n++){var l=c[n],w=a.normalize(l.substr(0,l.length-5));g=f["."+l];!g||"_tool"===
l.substr(-5)&&w!==this.name||a.extend(this.options,a.Tool.options.levels,g,"Q.Tool")}(g=f["#"+this.element.id])&&a.extend(this.options,a.Tool.options.levels,g,"Q.Tool");c=this.element.id.split("_");for(n=0;n<c.length-1;++n)(g=f["#"+c.slice(n).join("_")])&&a.extend(this.options,a.Tool.options.levels,g,"Q.Tool");(g=b.options)&&g[e]&&a.extend(this.options,a.Tool.options.levels,g[e],"Q.Tool");b.Q===Element.prototype.Q&&(b.Q=function(b){return b?this.Q.tools[a.normalize(b)]||null:this.Q.tool||null});b.Q.tools||
(b.Q.tools={});b.Q.toolNames||(b.Q.toolNames=[]);b.Q.toolNames.push(e);b.Q.tools[e]=this;b.Q.tool=this;a.Tool.active[this.id]=this;this.Q=a.extend({onConstruct:new a.Event,onInit:new a.Event,beforeRemove:new a.Event,onRetain:new a.Event,onStateChanged:new a.Event.factory({},"")},this.Q);return this};a.Tool.options={levels:10};a.Tool.active={};a.Tool.latestName=null;a.Tool.latestNames={};var Ea={},S={},U={},ya={},da=[],fa=[];a.Tool.onConstruct=a.Event.factory(Ea,["",D]);a.Tool.onActivate=a.Event.factory(S,
["",D],null,!0);a.Tool.onInit=a.Event.factory(U,["",D],null,!0);a.Tool.beforeRemove=a.Event.factory(ya,["",D],null,!0);a.Tool.remove=function(b,h){if("string"===typeof b){var c=a.Tool.byId(b);if(!c)return!1;b=c.element}a.find(b,!0,null,function(a){for(var b=a.Q.toolNames,d=b.length-1;0<=d;--d)a.Q.tools[b[d]].remove(h)})};a.Tool.clear=function(b,h){if("string"===typeof b){var c=a.Tool.byId(b);if(!c)return!1;b=c.element}a.find(b.children||b.childNodes,!0,null,function(a){var b=a.Q.toolNames;if(b)for(var d=
b.length-1;0<=d;--d)a.Q.tools[b[d]].remove(h)})};a.Tool.define=function(d,h,c,e,f,g){var n={};if("object"===typeof d)n=d;else{if("function"!==typeof h&&"function"===typeof c){var k=h;"string"===typeof k&&(k=[k]);h=c;h.require=k;c=e;e=f;f=g}n[d]=h}for(d in n)if(h=n[d],d=a.normalize(d),"string"===typeof h)"function"!==typeof a.Tool.constructors[d]&&(ua[d]=ua[d]||{},a.Tool.constructors[d]=h);else{h.toolName=d;"object"===typeof e&&(f=e,e=b);h.options=a.extend(c,a.Tool.options.levels,ua[d]);h.stateKeys=
e;if("function"!==typeof h)throw new a.Error("Q.Tool.define requires ctor to be a string or a function");a.extend(h.prototype,10,f);a.Tool.constructors[d]=h;a.Tool.onLoadedConstructor(d).handle(d,h);a.Tool.onLoadedConstructor("").handle(d,h);a.Tool.latestName=d}return h};a.Tool.beingActivated=b;a.Tool.define.options=function(b,h){var c;b=a.normalize(b);c="function"===typeof a.Tool.constructors[b]?a.Tool.constructors[b].options:ua[b]=ua[b]||{};h&&a.extend(c,a.Tool.options.levels,h);return c};var ua=
{};a.Tool.jQuery=function(d,h,c,e,f){function g(){function b(c){if("string"===typeof c){var f=c;if(b.methods[f])return b.methods[f].apply(this,Array.prototype.slice.call(arguments,1))}else{var t=Array.prototype.slice.call(arguments,0);t[0]=a.extend({},10,b.options,10,c);k(this).each(function(){var b=d+" state",c=k(this);c.data(b)&&c.plugin(d,"remove");c.data(b,a.copy(t[0],e));h.apply(c,t)})}return this}var k=H.jQuery;b.options=a.extend(c,a.Tool.options.levels,n[d]);b.methods=f||{};k.fn[d]=b;var y=
a.Tool.define(d,function(a){var b=k(this.element);b.plugin(d,a,this);this.state=b.state(d);this.Q.beforeRemove.set(function(){k(this.element).plugin(d,"remove",this)},"Q")});y.prototype.$={};a.each(f,function(a){y.prototype.$[a]=function(){var b=Array.prototype.slice.call(arguments,0);b.unshift(d,a);var c=k(this.element);c.plugin.apply(c,b)}})}if("object"===typeof d)for(var k in d)a.Tool.jQuery(k,d[k]);else{d=a.normalize(d);if("string"===typeof h)return H.jQuery&&"function"!==typeof jQuery.fn.plugin[d]&&
(n[d]=n[d]||{},jQuery.fn.plugin[d]=a.Tool.constructors[d]=h),h;h.toolName=d;"object"===typeof e&&(f=e,e=b);a.ensure(H.jQuery,a.onJQuery.add,g);a.Tool.latestName=d}};a.Tool.jQuery.options=function(b,h){var c;b=a.normalize(b);c="function"===typeof a.Tool.constructors[name]?H.jQuery.fn[b].options:n[b]=n[b]||{};h&&a.extend(c,a.Tool.options.levels,h);return c};var n={};a.Tool.nextDefaultId=1;var w=a.Tool.constructors={},C=a.Tool.prototype;C.stateChanged=function(a){if("string"===typeof a){a=a.split(",");
for(var b=0,c=a.length;b<c;++b)a[b]=a[b].trim()}c=a.length;for(b=0;b<c;++b){var e=a[b];this.Q.onStateChanged(e).handle.call(this,e)}this.Q.onStateChanged("").handle.call(this,a)};C.rendering=function(b,h,c,e){function f(a){this.state[a]!==w[a]&&(B[a]=this.state[a],L=L||(e?setTimeout(g,0):requestAnimationFrame(g)))}function g(c){a.handle(h,n,[B,w,c]);w=a.copy(n.state,b);B={};L=null}var n=this;if("string"===typeof b){b=b.split(",");for(var k=0,l=b.length;k<l;++k)b[k]=b[k].trim()}if(!b.length)return!1;
k=0;for(l=b.length;k<l;++k)this.Q.onStateChanged(b[k]).set(f,c);var w=a.Tool.beingActivated===this?{}:a.copy(this.state,b),B={},L};C.children=function(b,h){var c={},e=this.prefix,f,g,n;b=b&&a.normalize(b);for(f in a.Tool.active){var k=a.Tool.active[f];if(!(b&&k.name!=b||f.length<=e.length||f.substr(0,e.length)!=e))if(h){n=k.parentIds();var l=Math.min(h,n.length);for(g=0;g<l;++g)if(n[g]===this.id){c[f]=k;break}}else c[f]=a.Tool.active[f]}return c};C.child=function(b){var h=a.normalize(this.prefix+
(b||"")),c,e;for(c in a.Tool.active)if(e=a.normalize(c),c.length>=h.length+(b?0:1)&&e.substr(0,h.length)==h)return a.Tool.active[c];return null};C.parentIds=function(){var b=a.normalize(this.prefix),h=[],c,e;for(c in a.Tool.active)e=a.normalize(c),e.length<b.length-1&&e===b.substr(0,e.length)&&h.push(c);h.sort(function(a,b){return String(b).length-String(a).length});return h};C.parents=function(){var b=[],h,c,b=this.parentIds(),e={},f=b.length;for(h=0;h<f;++h)c=b[h],e[c]=a.Tool.active[c];return e};
C.parent=function(){var b=[],b=this.parentIds();return b.length?a.Tool.active[b[0]]:null};C.remove=function(b){var h;if(!b&&null===!this.element.getAttribute("data-Q-retain"))return!1;b=a.normalize(this.name);h=a.normalize(this.id);ya["id:"+h]&&ya["id:"+h].handle.call(this);ya[b]&&ya[b].handle.call(this);ya[""]&&ya[""].handle.call(this);a.handle(this.Q.beforeRemove,this,[]);delete this.element.Q.tools[a.normalize(this.name)];a.isEmpty(this.element.Q.tools)&&(a.removeElement(this.element),delete a.Tool.active[this.id]);
b=a.calculateKey(this);for(h=a.Event.forTool[b];h&&h.length;)h[0].remove(this);var c=a.Event.jQueryForTool[b];if(c){for(h=c.length-1;0<=h;--h)H.jQuery.fn[c[h][0]].call(c[h][1],c[h][2],c[h][3]);a.Event.jQueryForTool[b]=[]}return this.removed=!0};C.$=function(d){if(H.jQuery)return d===b?jQuery(this.element):jQuery(d,this.element);throw new a.Error("Tp.$ requires jQuery");};C.getElementsByClassName=function(a){return this.element.getElementsByClassName(a)};C.forEachChild=function(b,h,c){"number"!==typeof h&&
(c=h,h=null);b=a.normalize(b);var e=this;a.each(e.children(b,h),c);var f=a.Tool.onActivate(b),g=f.set(function(){this.prefix.substr(0,e.prefix.length)===e.prefix&&c.apply(this,arguments)});e.Q.beforeRemove.set(function(){f.remove(g)})};a.Tool.encodeOptions=function(a){JSON.stringify(a).encodeHTML().replaceAll({"&quot;":'"'})};a.Tool.setUpElement=function(d,h,c,e,f){"string"===typeof c&&(e=c,c=b);"string"===typeof d&&(d=document.createElement(d));"string"===typeof h&&(h=[h]);a.isPlainObject(c)&&(c=
[c]);for(var g=0,n=h.length;g<n;++g){var k=h[g],l=k.replace(/\//g,"_");d.addClass("Q_tool "+l+"_tool");if(!d.getAttribute("id")){if(!e){var w;e=f||(a.Tool.beingActivated?a.Tool.beingActivated.prefix:"");do w=e+l+"-"+a.Tool.nextDefaultId++ +"_",a.Tool.nextDefaultId%=1E6;while(a.Tool.active[w]);e=w+"tool"}d.setAttribute("id",e)}c&&c[g]&&(d.options=d.options||{},d.options[a.normalize(k)]=c[g])}return d};a.Tool.setUpElementHTML=function(b,h,c,e,f){b=a.Tool.setUpElement(b,h,null,e,f);h=h.replace(/\//g,
"_");c&&b.setAttribute("data-"+h.replace(/_/g,"-"),JSON.stringify(c));return b.outerHTML};C.setUpElement=function(b,h,c,e){return a.Tool.setUpElement(b,h,c,e,this.prefix)};C.setUpElementHTML=function(b,h,c,e){return a.Tool.setUpElementHTML(b,h,c,e,this.prefix)};a.Tool.from=function(a,b){"string"===typeof a&&(a=document.getElementById(a));return a.Q?a.Q(b):null};a.Tool.byId=function(b,h){var c=a.Tool.active[b];return(c&&h?c.element.Q(h):c)||null};a.Tool.calculatePrefix=function(a){return a.match(/_tool$/)?
a.substring(0,a.length-4):"_"===a.substr(a.lengh-1)?a:a+"_"};a.Tool.calculateId=function(a){return a.match(/_tool$/)?a.substring(0,a.length-5):"_"===a.substr(a.length-1)?a.substring(0,a.length-1):a};C.toString=function(){return this.id};a.Tool.onLoadedConstructor=a.Event.factory({},["",function(b){return[a.normalize(b)]}]);a.Tool.onMissingConstructor=new a.Event;a.Session=function(){return{}};a.Request=function(a,b,c,e){this.url=a;this.slotNames=b;this.callback=c;this.options=e};a.Cache=function(d){if(this===
a)throw new a.Error("Q.Pipe: omitted keyword new");d=d||{};this.localStorage=!!d.localStorage;this.sessionStorage=!!d.sessionStorage;this.name=d.name;this.data={};this.special={};var h,c,e;d.localStorage?this.localStorage=!0:d.sessionStorage?this.sessionStorage=!0:(this.documentStorage=!0,h=c=null,e=0);this.max=d.max||100;this.earliest=function(a){if(a===b){if(this.documentStorage)return h;a=F(this,"earliest",!0);return a===b?null:a}this.documentStorage?h=a:k(this,"earliest",a,!0)};this.latest=function(a){if(a===
b){if(this.documentStorage)return c;a=F(this,"latest",!0);return a===b?null:a}this.documentStorage?c=a:k(this,"latest",a,!0)};this.count=function(a){if(a===b)return this.documentStorage?e:F(this,"count",!0)||0;this.documentStorage?e=a:k(this,"count",a,!0)}};a.Cache.key=function(a,b){var c,e=[];for(c=0;c<a.length;++c)"function"!==typeof a[c]?e.push(a[c]):b&&b.push&&b.push(a[c]);return JSON.stringify(e)};C=a.Cache.prototype;C.set=function(b,h,c,e,f){var g,n;"string"!==typeof b&&(b=a.Cache.key(b));f&&
f.dontTouch||(g=this.get(b),g||(n=this.count()+1,this.count(n)));h={cbpos:h,subject:c,params:e,prev:f&&f.prev?f.prev:g?g.prev:this.latest(),next:f&&f.next?f.next:g?g.next:null};k(this,b,h);if(!g||!f||!f.dontTouch){if(f=F(this,h.prev))f.next=b,k(this,h.prev,f);this.latest(b);1===n&&this.earliest(b)}n>this.max&&this.remove(this.earliest());return g?!0:!1};C.get=function(d,h){var c,e;"string"!==typeof d&&(d=a.Cache.key(d));c=F(this,d);if(!c)return b;if(!(h&&h.dontTouch||this.latest()===d)){this.earliest()==
d&&this.earliest(c.next);v(this,c);c.prev=this.latest();c.next=null;k(this,d,c);if(e=F(this,c.prev))e.next=d,k(this,c.prev,e);this.latest(d)}return c};C.remove=function(b){var h,c;"string"!==typeof b&&(b=a.Cache.key(b));h=this.get(b,!0);if(!h)return!1;c=this.count()-1;this.count(c);this.latest()===b&&this.latest(h.prev);this.earliest()===b&&this.earliest(h.next);v(this,h);q(this,b);return!0};C.clear=function(){if(this.documentStorage)this.special={},this.data={};else for(var a=this.earliest(),h,c;a;){c=
F(this,a);if(c===b)break;h=a;a=c.next;q(this,h)}this.earliest(null);this.latest(null);this.count(0)};C.each=function(d,h){var c=null;if(h){if("function"===typeof d)h=d,d=b;else var e=a.Cache.key(d),c=e.substring(0,e.length-1);var f=this;if(this.documentStorage)return a.each(this.data,function(a,b){if((!c||a.substring(0,c.length)===c)&&!1===h.call(f,a,b))return!1});for(var e=f.earliest(),g,n;e;){n=F(this,e);if(n===b)break;g=e;e=n.next;if(c&&e.substring(0,c.length)!==c)break;if(!1===h.call(this,g,n))return!1}}};
C.removeEach=function(a){this.each(a,function(a){this.remove(a)});return this};a.Cache.document=function(b,h){a.Cache.document.caches[b]||(a.Cache.document.caches[b]=new a.Cache({name:b,max:h}));return a.Cache.document.caches[b]};a.Cache.local=function(b,h){a.Cache.local.caches[b]||(a.Cache.local.caches[b]=new a.Cache({name:b,localStorage:!0,max:h}));return a.Cache.local.caches[b]};a.Cache.session=function(b,h){a.Cache.session.caches[b]||(a.Cache.session.caches[b]=new a.Cache({name:b,sessionStorage:!0,
max:h}));return a.Cache.session.caches[b]};a.Cache.document.caches={};a.Cache.local.caches={};a.Cache.session.caches={};a.Page=function(a){this.uriString=a};a.Page.push=function(b){b=a.url(b);if(b.substr(0,a.info.baseUrl.length)===a.info.baseUrl){var h=b.split("#"),c=b.substr(a.info.baseUrl.length+1)||"";history.pushState?history.pushState({},null,b):(c="#!url="+encodeURIComponent(c)+location.hash.replace(/#!url=[^&]*/,"").replace(/&!url=[^&]*/,"").replace(/&column=[^&]+/,"").replace(/#column=[^&]+/,
""),h[1]&&(c+=("&"+h[1]).replace(/&!url=[^&]*/,"").replace(/&column=[^&]+/,"")),location.hash!==c&&(A.ignore=!0,location.hash=c));A.currentUrl=b.substr(a.info.baseUrl.length+1);a.info.url=b}};a.Page.beingLoaded=!1;a.Page.beingActivated=!1;a.Page.onLoad=a.Event.factory(null,[""]);a.Page.onActivate=a.Event.factory(null,[""]);a.Page.onUnload=a.Event.factory(null,[""]);a.Page.beforeUnload=a.Event.factory(null,[""]);a.page=function(d,h,c){c===b&&(c="Q");if(a.isArrayLike(d))for(var e=0,f=d.length;e<f;++e)a.page(d[e],
h,c);else if(a.isPlainObject(d))for(e in d)a.page(e,d[e],c);else"function"===typeof h&&a.Page.onActivate(d).add(function(b,e){var f=h.call(a,a.Page.beforeUnload("Q\t"+d),b,e);f&&"function"===typeof f&&a.Page.beforeUnload("Q\t"+d).set(f,c)},c)};a.init=function(b){function h(){e.fill("ready")()}a.info.imgLoading=a.info.imgLoading||a.url("plugins/Q/img/throbbers/loading.gif");a.loadUrl.options.slotNames=a.info.slotNames;T();a.handle(a.beforeInit);a.handle(a.onInit);a.addEventListener(H,"unload",a.onUnload.handle);
a.addEventListener(H,"online",a.onOnline.handle);a.addEventListener(H,"offline",a.onOffline.handle);a.addEventListener(H,a.Pointer.focusout,ja);var c=["ready"];a.info.isCordova&&H.cordova&&"HTML"!==a.typeOf(cordova).substr(0,4)&&c.push("device");var e=a.pipe(c,1,function(){function c(){a.handle(navigator.onLine?a.onOnline:a.onOffline);a.ready()}function h(){a.ensure(H.JSON,a.libraries.json,c)}a.info||(a.info={});a.info.isCordova=!!H.device&&device.cordova;b&&b.isLocalFile&&(a.info.isLocalFile=!0,
a.handle.options.loadUsingAjax=!0);a.info.isCordova&&!a.cookie("Q_cordova")&&a.cookie("Q_cordova","yes");b&&b.isLocalFile?a.loadUrl(a.info.baseUrl,{ignoreHistory:!0,skipNonce:!0,onActivate:h,handler:function(){},slotNames:["cordova"]}):h()});if(H.jQuery)a.jQueryPluginPlugin(),a.onJQuery.handle(jQuery,[jQuery]),jQuery(document).ready(h);else var f=setInterval(function(){/loaded|complete/.test(document.readyState)&&(clearInterval(f),h())},10);(function(){function b(){a.info||(a.info={});(a.info.isCordova=
!!H.device&&device.cordova)&&a.addEventListener(document,"click",function(a){var b=a.target,d;do b&&"A"===b.nodeName&&b.href&&!b.outerHTML.match(/\Whref=[',"]#[',"]\W/)&&b.href.match(/^https?:\/\//)&&(a.preventDefault(),d="_blank"===b.target?"_system":"_blank",H.open(b.href,d,"location=no"));while(b=b.parentNode)});e.fill("device")()}0>c.indexOf("device")||(H.device?b():a.addEventListener(document,"deviceready",b,!1))})()};a.ready=function(){a.loadNonce(function(){ha=!0;if(a.info.isLocalFile){var d=
location.hash.queryField("url");d===b?a.handle(a.info.baseUrl):a.handle(-1==d.indexOf(a.info.baseUrl)?a.info.baseUrl+"/"+d:d)}else{a.jQueryPluginPlugin();a.onDOM.handle.call(H,H.jQuery);d=document.getElementsByTagName("body")[0];a.activate(d,b,function(){a.addEventListener(H,"hashchange",a.onHashChange.handle);a.addEventListener(H,"popstate",a.onPopState.handle);a.addEventListener(H,"resize",a.layout);a.addEventListener(H,"orientationchange",a.layout);a.addEventListener(H,"scroll",a.onScroll.handle);
M();a.onReady.handle.call(H,H.jQuery);a.info.isCordova&&navigator.splashscreen&&navigator.splashscreen.hide();try{a.Page.beingActivated=!0;a.Page.onActivate("").handle(a.info.url);if(a.info&&a.info.uri){var b=a.info.uri.module+"/"+a.info.uri.action;a.Page.onActivate(b).handle();a.info.uriString!==b&&a.Page.onActivate(a.info.uriString).handle()}a.Page.beingActivated=!1}catch(d){debugger;a.Page.beingActivated=!1;throw d;}location.hash.toString()&&A()});d=a.info.uri.module+"/"+a.info.uri.action;try{a.Page.beingLoaded=
!0,a.Page.onLoad("").handle(),a.Page.onLoad(d).handle(),a.info.uriString!==d&&a.Page.onLoad(a.info.uriString).handle(),a.Page.beingLoaded=!1}catch(h){debugger;a.Page.beingLoaded=!1;throw h;}}})};a.loadNonce=function(b,h,c){a.nonce?a.handle(b,h,c):a.req("Q/nonce","data",function(){a.nonce=a.cookie("Q_nonce");if(a.nonce)a.handle(b,h,c);else{var e=a.ajaxExtend(a.action("Q/nonce"),"data");a.formPost(e,{just:"something"},"post",function(){a.nonce=a.cookie("Q_nonce");a.nonce||alert("Our server couldn't set cookies in this browser.")})}},
{method:"post",skipNonce:!0})};a.beforeUnload=function(a){window.onbeforeunload=function(h){if(!a)return b;if(h=h||window.event)h.returnValue=a;return a}};a.removeElement=function(b,h){h&&a.Tool.clear(b);if(H.jQuery)return jQuery(b).remove();if(!b.parentNode)return!1;b.parentNode.removeChild(b);try{for(var c in b)delete b[c]}catch(e){}c=0;for(var f=ka.length;c<f;++c)ka[c]===b&&(ka.splice(c,1),ta.splice(c,1))};a.addEventListener=function(b,h,c,e,f){e=e||!1;if(a.isPlainObject(h))for(var g in h)a.addEventListener(b,
g,h[g],c);else{g="Q.Event"===c.typename?c.eventListener=function(h){a.handle(c,b,[h])}:c;if("string"===typeof h){var n=h.split(" ");1<n.length&&(h=n)}if("function"===typeof h){n={original:c};c=h(n);if(!("eventName"in n))throw new a.Error("Custom $.fn.on handler: need to set params.eventName");h=n.eventName}if(a.isArrayLike(h))for(f=0,g=h.length;f<g;++f)a.addEventListener(b,h[f],c,e);else if(b===H&&"explorer"===G.name&&8>=G.mainVersion&&0<=["mousedown","mouseup","click","dblclick"].indexOf(h)&&(b=
document),b.addEventListener?b.addEventListener(h,g,e):b.attachEvent?b.attachEvent("on"+h,g):b["on"+h]=function(){b["on"+h]&&b["on"+h].apply(this,arguments);c.apply(this,arguments)},f){var n=[b,h,c,e],k=a.addEventListener.hooks;f=0;for(g=k.length;f<g;++f){var l=k[f];if(l[0]===b&&l[1]===h&&l[2]===c&&l[3]===e){k.splice(f,1);break}}k.push(n)}}};a.addEventListener.hooks=[];l.previous=Event.prototype.stopPropagation;Event.prototype.stopPropagation=l;a.removeEventListener=function(b,h,c,e){e=e||!1;var f=
"Q.Event"===c.typename?c.eventListener:c;if("string"===typeof h){var g=h.split(" ");1<g.length&&(h=g)}if(a.isArrayLike(h))for(f=0,e=h.length;f<e;++f)a.removeEventListener(b,h[f],c);else for(b===H&&"explorer"===G.name&&8>=G.mainVersion&&0<=["mousedown","mouseup","click","dblclick"].indexOf(h)&&(b=document),b.removeEventListener?b.removeEventListener(h,f,!1):b.detachEvent?b.detachEvent("on"+h,f):b["on"+h]=null,g=a.addEventListener.hooks,f=g.length-1;0<=f;--f){var n=g[f];if(n[0]===b&&n[1]===h&&n[2]===
c&&n[3]===e){g.splice(f,1);break}}};a.trigger=function(b,h,c){b.split(".");a.find(h||document.body,!0,function(h){pa(a.Tool.from(h),b,c);return!1},null)};a.layout=function(b){var h=a.instanceOf(b,Element)?b:null;a.each(ka,function(a,e){if(!h||h.contains(e)){var f=ta[a];f.handle.call(f,e,b)}});a.trigger("Q.layout",b)};a.clientId=function(){var b=sessionStorage;if(a.clientId.value=b.getItem("Q\tclientId"))return a.clientId.value;var h=a.Browser.detect(),h=a.clientId.value=(h.device||"desktop").substr(0,
4)+"\t"+h.OS.substr(0,3)+"\t"+h.name.substr(0,3)+"\t"+h.mainVersion+(h.isWebView?"n":"w")+"\t"+Math.floor(Date.now()/1E3).toString(36);b.setItem("Q\tclientId",h);return h};a.uuid=function(){return a.uuid.value=a.uuid.value||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})};a.isReady=function(){return ha};a.isOnline=function(){return qa};a.load=function(b,h,c){var e=[];"string"===typeof b&&(b=b.split(" ").map(function(a){return a.trim()}));
a.each(b,function(b,d){d&&!a.plugins[d]&&e.push(a.info.baseUrl+"/plugins/"+d+"/js/"+d+".js")});return a.addScript(e,h,c)};a.url=function(b,h,c){var e=b||"";if(h)for(var f in h)null!=h[f]&&(e+="?"+encodeURIComponent(f)+"="+encodeURIComponent(h[f]));c&&c.cacheBust&&(e+="?Q.cacheBust="+Math.floor(Date.now()/c.cacheBust));f=e.split("?");2<f.length&&(e=f.slice(0,2).join("?")+"&"+f.slice(2).join("&"));f="";c=c&&c.baseUrl||a.info.proxyBaseUrl||a.info.baseUrl;f=b?e.isUrl()?e:c+("/"==e.substr(0,1)?"":"/")+
e:c+(""===b?"/":"");a.url.options.beforeResult&&(b={what:e,fields:h,result:f},a.url.options.beforeResult.handle(b),f=b.result);return f};a.url.options={beforeResult:null};a.action=function(b,h,c){return b.isUrl()?a.url(b,h):a.url("action.php/"+b,h,c)};a.ajaxExtend=function(d,h,c){if(!d&&""!==d)return console&&"warn"in console&&console.warn("Q.ajaxExtend received empty url"),"";c=c||{};var e="string"===typeof h?h:a.extend([],h).join(","),f=c?"string"===typeof c.idPrefixes?c.idPrefixes:c.idPrefixes&&
c.idPrefixes.join(","):"",g=Date.now();if("string"==typeof d){var n=d;a.info&&a.info.baseUrl===n&&(n+="/");n+=0>d.indexOf("?")?"?":"&";n+=encodeURI("Q.ajax="+(c.iframe?"iframe":c.loadExtras?"loadExtras":"json"));c.timestamp&&(n+=encodeURI("&Q.timestamp=")+encodeURIComponent(g));null!=e&&(n+=encodeURI("&Q.slotNames=")+encodeURIComponent(e));f&&(n+=encodeURI("&Q.idPrefixes=")+encodeURIComponent(f));c&&("string"===typeof c.callback&&(n+=encodeURI("&Q.callback=")+encodeURIComponent(c.callback)),"echo"in
c&&(n+=encodeURI("&Q.echo=")+encodeURIComponent(c.echo)),c.method&&(n+=encodeURI("&Q.method="+encodeURIComponent(c.method.toUpperCase()))));a.nonce!==b&&(n+=encodeURI("&Q.nonce=")+encodeURIComponent(a.nonce))}else{var n={},k;for(k in d)n[k]=d[k];n.Q={ajax:"json"};c.timestamp&&(n.Q.timestamp=g);h&&(n.slotNames=e);c&&(c.callback&&(n.Q.callback=c.callback),"echo"in c&&(n.Q.echo=c.echo),c.method&&(n.Q.method=c.method));"nonce"in a&&(n.Q.nonce=a.nonce)}return n};a.req=function(b,h,c,e){"string"===typeof e&&
(e={method:e});var f=arguments,g="string"===typeof arguments[0]?0:1;f[g]=a.action(f[g]);a.request.apply(this,f)};a.request=function(d,h,c,e,f){function g(d,c,h,f){function n(b,e,m){if(b)h(b),a.handle(f.onProcessed,this,[b]);else{var g=e;if(!1!==f.parse)try{g=m?e:JSON.parse(e)}catch(t){console.warn("Q.request("+d+",["+c+"]):"+t),b={errors:[t]},h(t,e),a.handle(f.onProcessed,this,[t,e])}e=!1;g&&g.redirect&&g.redirect.url&&(a.handle(f.handleRedirects,a,[g.redirect.url]),e=!0);h&&h.call(this,b,g,e);a.handle(f.onProcessed,
this,[b,g,e])}}function t(){a.handle(f.onLoadStart,this,[d,c,f]);!1!==L&&(r.timeout=setTimeout(y,L))}function y(){if(!r.loaded&&(a.handle(f.onShowCancel,this,[w,f]),f.onTimeout))f.onTimeout(w)}function l(b,h){r.loaded=!0;r.timeout&&clearTimeout(r.timeout);a.handle(f.onLoadEnd,E,[d,c,f]);r.cancelled||(f.onResponse.handle.call(E,b,h),n.call(E,null,b,h))}function w(b,c){var h=(b=a.isInteger(b)?b:null)?a.text.Q.request.error:a.text.Q.request.canceled;c=(c||a.text.Q.request[b]||h).interpolate({status:b,
url:d});r.cancelled=!0;l();h={errors:[{message:c||"Request was canceled",code:b}]};f.onCancel.handle.call(this,h,f);n.call(this,h,h)}function B(b,h){!1!==f.extend&&(d=a.ajaxExtend(d,c,u));var g;g=H.XMLHttpRequest?new XMLHttpRequest:new H.ActiveXObject("Microsoft.XMLHTTP");g.onreadystatechange=function(){4==g.readyState&&(200==g.status?b.call(g,g.responseText):(console.log("Q.request xhr: "+g.status+" "+g.responseText.substr(1E3)),h.call(g,g.status)))};"function"===typeof f.xhr&&f.xhr.call(g,g,e);
var n="sync"===f.xhr;a.isPlainObject(f.xhr)&&(a.extend(g,f.xhr),n=n||g.sync);var t=a.serializeFields(f.fields);E.xmlhttp=g;"GET"===N?(g.open("GET",d+(t?"&"+t:""),!n),g.send()):(g.open(N,d,!n),g.setRequestHeader("Content-type","application/x-www-form-urlencoded"),g.send(t))}var E=new a.Request(d,c,h,f),L=!1,r={};!1!==f.timeout&&(L=f.timeout||1500);var q=f.method||"GET",N=q.toUpperCase(),u={loadExtras:!!f.loadExtras};"GET"!==N&&(N="POST",u.method=f.method);if(f.form)q=e.method||"GET",!1!==f.extend&&
(u.iframe=!0,d=a.ajaxExtend(d,c,u)),a.formPost(d,f.fields,q,{form:f.form,onLoad:function(d){d=(d=f.resultFunction?a.getObject(f.resultFunction,d.contentWindow):null)?d():b;n.call(E,null,d,!0)}});else{if(!f.query&&!1!==f.xhr&&0===a.url(d).search(a.info.baseUrl))return t(),B(l,w);var W=a.request.callbacks.length,q=d;h?(a.request.callbacks[W]=function(b){delete a.request.callbacks[W];a.removeElement(J);l(b,!0)},q=f.callbackName?d+(0>d.indexOf("?")?"?":"&")+encodeURIComponent(f.callbackName)+"="+encodeURIComponent("Q.request.callbacks["+
W+"]"):!1===f.extend?d:a.ajaxExtend(d,c,a.extend(f,{callback:"Q.request.callbacks["+W+"]"}))):q=!1===f.extend?d:a.ajaxExtend(d,c,f);e.fields&&(k=0>d.indexOf("?")?"?":"&",q+=k+a.serializeFields(e.fields));if(f.query)return q;t();var J=a.addScript(q,null,{duplicate:f.duplicate})}}var n,k;"object"===typeof d&&(n=d,d=h,h=c,c=e,e=f,k=0>d.indexOf("?")?"?":"&",d+=k+a.serializeFields(n));"function"===typeof h?(e=c,c=h,h=[]):"string"===typeof h&&(h=h.split(","));f=a.extend({},a.request.options,e);if(f.skipNonce)return g.call(this,
d,h,c,f);a.loadNonce(g,this,[d,h,c,f])};a.request.callbacks=[];a.firstErrorMessage=function(b){for(var h=null,c=0;c<arguments.length;++c){var e=arguments[c];if(!a.isEmpty(e)&&(h=e.errors&&e.errors[0]?e.errors[0]:e.error?e.error:a.isArrayLike(e)?e[0]:e))break}return h?"string"===typeof h?h:h.message?h.message:JSON.stringify(h):null};a.ajaxErrors=function(a,b){var c={},e,f,g,n;b&&"string"===typeof b&&(b=[b]);for(g=0;g<a.length;++g){e=!1;if(f=a[g].fields)for(n=0;n<f.length;++n)b&&0>b.indexOf(f[n])||
(c[f[n]]=a[g].message,e=!0);!e&&b&&(c[b[0]]=a[g].message)}return c};a.jsonRequest=a.request;a.serializeFields=function(d,e,c){function f(b,d){if("array"===a.typeOf(d))a.each(d,function(d,c){/\[\]$/.test(b)?g(b,c):f(b+"["+("object"===a.typeOf(c)||"array"===a.typeOf(c)?d:"")+"]",c,g)});else if(d&&"object"===a.typeOf(d))for(var c in d)f(b+"["+c+"]",d[c],g);else g(b,d)}function g(d,e){e!=b&&(e="function"===a.typeOf(e)?e():e,c?n[d]=e:k.push(encodeURIComponent(d)+"="+encodeURIComponent(e)))}if(a.isEmpty(d))return"";
if("string"===typeof d)return d;if(d instanceof Element){if("FORM"!==d.tagName.toUpperCase())throw new a.Error("Q.serializeFields: element must be a FORM");var n="";a.each(d.querySelectorAll("input, textarea, select"),function(){var a="SELECT"===this.tagName.toUpperCase()?this.options[this.selectedIndex].text:this.value;n+=(n?"&":"")+this.getAttribute("name")+"="+encodeURIComponent(a)});return n}var k=[],n={};e?a.each(e,function(a,b){f(b,d[b])}):a.each(d,function(a,b){f(a,b)});return c?n:k.join("&").replace(/%20/g,
"+")};a.formPost=function(b,e,c,f){f="function"===typeof f?{onLoad:f}:!0===f?{straight:!0}:f||{};var g=a.copy(f);b&&"string"===typeof b.action?(g.form=b,b=b.action,c=B.method):c=c||"post";var n;g.onLoad&&(n="Q.Event"===g.onLoad.typename?g.onLoad.handle:g.onLoad);var k=g.target,l=g.iframe,w;k||((w=g.iframe)&&(k=w.getAttribute("name")),k||(k="Q_formPost_iframe_"+ ++a.formPost.counter%1E3),g.iframe||(w=f.iframe=document.createElement("iframe"),w.width=w.height=w.marginWidth=w.marginHeight=0),w.setAttribute("name",
k),w.setAttribute("id",k));var B=g.form,L,r;B?(L=B.method,r=B.action):B=document.createElement("form");B.setAttribute("method",c);B.setAttribute("action",b);b=[];e=a.serializeFields(e,null,!0);for(var q in e)e.hasOwnProperty(q)&&(c=document.createElement("input"),c.setAttribute("type","hidden"),c.setAttribute("name",q),c.setAttribute("value",e[q]),B.appendChild(c),b.push(c));w&&!l&&document.body.appendChild(w);w&&a.addEventListener(w,"load",function(){a.handle(n,this,[w]);!l&&w.parentNode&&a.removeElement(w)});
g.form||document.body.appendChild(B);g.straight||B.setAttribute("target",k);B.submit();if(g.form){for(g=b.length-1;0<=g;--g)a.removeElement(b[g]);B.action=r;B.method=L}else a.removeElement(B)};a.formPost.counter=0;a.addScript=function(b,e,c){function f(){for(var a;B[0]&&("loaded"==B[0].readyState||"complete"==B[0].readyState);)a=B.shift(),a.onreadystatechange=null,N.appendChild(a),g(null,a,a.src)}function g(c,e,h){if(!("readyState"in this&&"complete"!==this.readyState&&"loaded"!==this.readyState)){if(e)u=
e,b=h;else if(g.executed)return;for(a.addScript.loaded[b]=!0;c=a.addScript.onLoadCallbacks[b].shift();)a.nonce=a.nonce||a.cookie("Q_nonce"),c.call(this);u.onload=u.onreadystatechange=null;g.executed=!0}}function n(c){if(r.ignoreLoadingErrors)return g(c);if(!n.executed){a.addScript.loaded[b]=!1;if(a.addScript.onErrorCallbacks[b])for(;c=a.addScript.onErrorCallbacks[b].shift();)c.call(this);n.executed=!0}}function k(){a.addScript.loaded[b]=!0;H.jQuery&&!a.onJQuery.occurred&&a.onJQuery.handle(jQuery,
[jQuery]);a.jQueryPluginPlugin();e()}var l,w=[];e||(e=function(){});if(a.isArrayLike(b)){var L=[];a.each(b,function(a,b){b&&L.push(b&&b.src?b.src:b)});if(a.isEmpty(L))return e(),[];l=new a.Pipe(L,e);a.each(L,function(b,d){w.push(a.addScript(d,l.fill(d),c))});return w}var r=a.extend({},a.addScript.options,c),q=document.scripts?document.scripts[0]:document.getElementsByTagName("script")[0],N=r.container||document.head||document.getElementsByTagName("head")[0];e||(e=function(){});var u,W;k.loaded={};
b=b&&b.src?b.src:b;if(!b)return null;b=a.url(b);if(!r||!r.duplicate){var J=document.getElementsByTagName("script"),ia=B.length;if(ia){var G=[].concat(B);for(W=0;W<J.length;++W)G.push(J[W]);J=G}for(W=0;W<J.length;++W)if(u=J[W],u.getAttribute("src")===b){l=J[W];for(q=!0;l=l.parentNode;)if(l===N){q=!1;break}q&&!ia&&N.appendChild(u);if(a.addScript.loaded[b])return k(),r.returnAll?u:!1;if(!1===a.addScript.loaded[b])return r.ignoreLoadingErrors?k():r.onError&&r.onError.call(u),r.returnAll?u:!1;if(!(a.addScript.added[b]||
"readyState"in u&&"complete"===u.readyState&&"loaded"===u.readyState))return k(),r.returnAll?u:!1;a.addScript.onLoadCallbacks[b]||(a.addScript.onLoadCallbacks[b]=[]);a.addScript.onErrorCallbacks[b]||(a.addScript.onErrorCallbacks[b]=[]);a.addScript.onLoadCallbacks[b].push(e);r.onError&&a.addScript.onErrorCallbacks[b].push(r.onError);J[W].wasProcessedByQ||(J[W].onload=g,J[W].onreadystatechange=g,a.addEventListener(u,"error",n),J[W].wasProcessedByQ=!0);return r.returnAll?u:!1}}u=document.createElement("script");
u.setAttribute("type","text/javascript");a.addScript.added[b]=!0;a.addScript.onLoadCallbacks[b]=[k];a.addScript.onErrorCallbacks[b]=[];r.onError&&a.addScript.onErrorCallbacks[b].push(r.onError);u.onload=g;u.wasProcessedByQ=!0;a.addEventListener(u,"error",n);"async"in q?(u.setAttribute("src",b),u.async=!1,N.appendChild(u)):q.readyState?(B.push(u),u.onreadystatechange=f,u.src=b):(u.setAttribute("defer","defer"),u.setAttribute("src",b),N.appendChild(u));return u};a.addScript.onLoadCallbacks={};a.addScript.onErrorCallbacks=
{};a.addScript.added={};a.addScript.loaded={};var B=[];a.addScript.options={duplicate:!1,ignoreLoadingErrors:!1};a.findScript=function(b){var e=document.getElementsByTagName("script");b=a.url(b);for(var c=0;c<e.length;++c)if(e[c].getAttribute("src")===b)return e[c];return null};a.addStylesheet=function(d,e,c,f){function g(){if(!(g.executed||"readyState"in this&&"complete"!==this.readyState&&"loaded"!==this.readyState)){a.addStylesheet.loaded[d]=!0;for(var b;b=a.addStylesheet.onLoadCallbacks[d].shift();)b.call(this);
g.executed=!0}}var n;f=f||{};"function"===typeof e&&(c=e,e=b);c||(c=function(){});if(a.isArrayLike(d)){c=[];f=d.length;for(n=0;n<f;++n)c.push(a.addStylesheet(d[n].href||d[n],d[n].media));return c}var k=f.container||document.getElementsByTagName("head")[0];if(!d)return c(!1),!1;d=a.url(d);e||(e="screen, print");var l=document.getElementsByTagName("link");for(n=0;n<l.length;++n)if(l[n].getAttribute("href")===d){e=l[n];for(var w=!0;e=e.parentNode;)if(e===k){w=!1;break}w&&k.appendChild(l[n]);if(a.addStylesheet.loaded[d]||
!a.addStylesheet.added[d])return c(),f.returnAll?l[n]:!1;a.addStylesheet.onLoadCallbacks[d]?a.addStylesheet.onLoadCallbacks[d].push(c):a.addStylesheet.onLoadCallbacks[d]=[c];l=document.getElementsByTagName("link");for(c=0;c<l.length;++c)if(l[c].href===d){l[c].onload=g;l[c].onreadystatechange=g;break}return f.returnAll?l[n]:!1}n=document.createElement("link");n.setAttribute("rel","stylesheet");n.setAttribute("type","text/css");n.setAttribute("media",e);a.addStylesheet.added[d]=!0;a.addStylesheet.onLoadCallbacks[d]=
[c];n.onload=g;n.onreadystatechange=g;n.setAttribute("href",d);k.appendChild(n);return n};a.addStylesheet.onLoadCallbacks={};a.addStylesheet.added={};a.addStylesheet.loaded={};a.findStylesheet=function(b){var e=document.getElementsByTagName("link");b=a.url(b);for(var c=0;c<e.length;++c)if("stylesheet"===e[c].getAttribute("rel").toLowerCase()&&e[c].getAttribute("href")===b)return e[c];return null};a.cookie=function(b,e,c){var f;c=c||{};if("undefined"!=typeof e){var g;f="";f=a.info.baseUrl.split("://");
g="path"in c?";path="+c.path:";path=/"+f[1].split("/").slice(1).join("/");f="domain"in c?";domain="+c.domain:";domain=."+f[1].split("/").slice(0,1);if(null===e)return document.cookie=encodeURIComponent(b)+"=;expires=Thu, 01-Jan-1970 00:00:01 GMT"+g+f,null;var n="";c.expires&&(n=new Date,n.setTime((new Date).getTime()+c.expires),n=";expires="+n.toGMTString());document.cookie=encodeURIComponent(b)+"="+encodeURIComponent(e)+n+g+f;return null}e=document.cookie.split(";");for(g=0;g<e.length;++g)if(f=e[g].split("="),
c=f.splice(0,1),c.push(f.join("=")),decodeURIComponent(c[0].trim())===b)return 2>c.length?null:decodeURIComponent(c[1]);return null};a.sessionName=function(){return a.info.sessionName||"sessionId"};a.find=function(b,e,c,f,g,n,k,l){var w;if(b)if(!0===e&&(e="q_tool"),a.isArrayLike(b)&&!a.instanceOf(b,Element)||"undefined"!==typeof HTMLCollection&&b instanceof H.HTMLCollection||H.jQuery&&b instanceof jQuery)a.each(b,function(b){if(!1===a.find(this,e,c,f,g,n,k,b))return!1});else{var B=null===e;if(!B&&
"className"in b&&"string"===typeof b.className&&b.className){var L=b.className.split(" ");for(w=L.length-1;0<=w;--w){var r=a.normalize(L[w]);if("string"===typeof e&&e===r||e instanceof RegExp&&e.test(r)||"function"===typeof e&&e(r)){B=!0;break}}}if(!B&&b.attributes)for(w=b.attributes.length-1;0<=w;--w)if(L=b.attributes[w].name,"string"===typeof e&&e===L||e instanceof RegExp&&e.test(L)||"function"===typeof e&&e(L)){B=!0;break}var q;if(B&&"function"==typeof c&&(q=c(b,g,n,k,l),!1===q))return!1;if(!0!==
q){q="children"in b?b.children:b.childNodes;L=[];if(q)for(w=0;w<q.length;++w)L[w]=q[w];q=a.find(L,e,c,f,g,n,b);if(!1===q)return!1}if(B&&"function"==typeof f&&!1===f(b,g,n,k,l))return!1}};a.activate=function(d,h,c){function f(){var b=k.firstTool||k.tool;c&&a.handle(c,b,[d,h,k.tools]);a.handle(a.onActivate,b,[d,h,k.tools])}if(d){var g,n;"Q.Tool"===a.typeOf(d)&&(n=d,g=a.Tool.beingActivated,a.Tool.beingActivated=n,d=n.element);a.beforeActivate.handle.call(H,d);var k={tool:null,tools:{},waitingForTools:[],
pipe:a.pipe()};"function"===typeof h&&(c=h,h=b);a.find(d,!0,e,J,h,k);k.pipe.add(k.waitingForTools,1,f).run();a.Tool.beingActivated=g}};a.replace=function(b,e,c){if(!e){for(a.Tool.clear(b);c=b.lastChild;)b.removeChild(c);return b}c=a.extend({},a.replace.options,c);if("string"===a.typeOf(e)){var f=document.createElement("div");f.innerHTML=e;e=f}var g;c.replaceElements&&(g=[],a.each(c.replaceElements,function(a,b){g.push("string"===typeof b?document.getElementById(b):b)}));var n={},k={},l={};a.find(e.childNodes,
null,function(b){var c=b.id,d=c&&document.getElementById(c);if(d&&null!==d.getAttribute("data-Q-retain")&&null!==!b.getAttribute("data-Q-replace")){l[b.id]=b;b.parentNode.replaceChild(d,b);for(var e in d.Q.tools){var h=a.Tool.from(d,e),f="data-"+a.normalize(h.name,"-"),g=b.getAttribute(f);d.setAttribute(f,g);n[c]=h;k[c]=JSON.parse(g)}}});a.beforeReplace.handle(b,e,c,k,n);for(a.Tool.clear(b);c=b.lastChild;)b.removeChild(c);for(;c=e.childNodes[0];)b.appendChild(c);for(var w in n)e=n[w],a.handle(e.Q.onRetain,
e,[k,l[w]]),a.extend(e.state,10,k);return b};var ia={};a.loadUrl=function(d,e){d=a.url(d);var c=a.extend({},a.loadUrl.options,e);a.handle(c.onLoadStart,this,[d,c]);var f=c.handler,g=c.slotNames;"string"===typeof g&&(g=g.split(","));if(c.retainSlots){var n=[],k,l=g.length;for(k=0;k<l;++k){var w=g[k];c.retainSlots[w]&&a.loadUrl.retainedSlots[w]||n.push(w)}g=n}var B=d.split("#"),n=B[1]?B[1].queryField("url"):b;d=n!==b?n:B[0];var n=a.request,L,r;c.loader&&(n=c.loader);c.onError&&(r=c.onError);c.onActivate&&
(L=c.onActivate);var q={};ia[c.key]=q;n(d,g,function(e,h,n){function k(){function e(b,h){var f,g=a.Page[b+"Unload"];a.info&&a.info.uri&&(f=g("Q\t"+h),f.handle(d,c),f.removeAllHandlers(),f=g(h),f.handle(d,c),a.info.uriString!==h&&(f=g("Q\t"+a.info.uriString),f.handle(d,c),f.removeAllHandlers(),f=g(a.info.uriString),f.handle(d,c)));f=g("Q\t");f.handle(d,c);f.removeAllHandlers();f=g("");f.handle(d,c)}function n(){if(!(n.remaining!==b&&0<--n.remaining)){a.each([q,E,u],function(b,c){a.each(c,function(b,
c){b&&a.each(c,function(a,c){c&&(c.setAttribute("data-slot",b),"LINK"===c.tagName.toUpperCase()&&(la.slots[c.getAttribute("href")]=b))})})});if(!c.ignorePage)try{a.Page.beingActivated=!0;a.Page.onActivate("").handle(d,c);if(a.info&&a.info.uri){var e=a.info.uri.module+"/"+a.info.uri.action;a.Page.onActivate(e).handle(d,c);a.info.uriString!==e&&a.Page.onActivate(a.info.uriString).handle(d,c)}a.Page.beingActivated=!1}catch(h){debugger;a.Page.beingActivated=!1;throw h;}H.StyleFix&&H.StyleFix.process();
a.handle(L,this,[W])}}var y=a.info.uri.module+"/"+a.info.uri.action,r,q,E;if(!c.ignorePage){for(e("before",y);a.Event.forPage&&a.Event.forPage.length;)a.Event.forPage[0].remove(!0);var N=a.Event.jQueryForPage;for(r=N.length-1;0<=r;--r)H.jQuery.fn[N[r][0]].call(N[r][1],N[r][2],N[r][3]);a.Event.jQueryForPage=[]}c.ignoreHistory||a.Page.push(d);c.ignorePage||a.each(["link","style","script"],function(b,c){a.each(document.getElementsByTagName(c),function(b,d){if("link"!==c||"stylesheet"==d.getAttribute("rel").toLowerCase()){var e=
d.getAttribute("data-slot");if(e&&0<=g.indexOf(e)){var f=!1;if(h.stylesheets&&h.stylesheets[e])for(var e=h.stylesheets[e],m=0,n=e.length;m<n;++m){var k=e[m];if(k.href===d.href&&(!k.media||k.media===d.media)){f=!0;break}}f||a.removeElement(d)}"style"===c&&(f=d.getAttribute("data-href"),0<=g.indexOf(la.slots[f])&&(a.removeElement(d),delete la.slots[f]))}})});var W=f(h,d,c);c.ignorePage||(e("on",y),q=l(),E=w());(function(){!c.ignorePage&&a.info&&a.info.uri&&(a.Page.onLoad(y).occurred=!1,a.Page.onActivate(y).occurred=
!1,a.info.uriString!==a.moduleSlashAction&&(a.Page.onLoad(a.info.uriString).occurred=!1,a.Page.onActivate(a.info.uriString).occurred=!1));h.scriptData&&a.each(h.scriptData,function(b,c){a.each(c,function(b,c){a.setObject(b,c)})});if(h.scriptLines)for(r in h.scriptLines)h.scriptLines[r]&&eval(h.scriptLines[r]);if(!c.ignorePage)try{a.Page.beingLoaded=!0,a.Page.onLoad("").handle(d,c),a.info&&a.info.uri&&(y=a.info.uri.module+"/"+a.info.uri.action,a.Page.onLoad(y).handle(d,c),a.info.uriString!==y&&a.Page.onLoad(a.info.uriString).handle(d,
c)),a.Page.beingLoaded=!1}catch(e){debugger;a.Page.beingLoaded=!1;throw e;}if(a.isEmpty(W))n();else if(a.isPlainObject(W)){n.remaining=Object.keys(W).length;for(var f in W)a.activate(W[f],b,n)}else a.activate(W,b,n)})();!c.ignoreHash&&B[1]&&history.pushState&&document.getElementById(B[1])&&(location.hash=B[1],history.back())}function l(){if(!h.stylesheets)return null;var b={},c=Object.keys(h.stylesheets);h.stylesheets[""]&&(c.splice(c.indexOf(""),1),c.unshift(""));a.each(c,function(c,d){var e=[],
f;for(f in h.stylesheets[d]){var g=h.stylesheets[d][f];H.StyleFix&&g.href in la.slots||(g=a.addStylesheet(g.href,g.media,null,{returnAll:!1}))&&e.push(g)}b[d]=e});return b}function w(){if(!h.stylesInline)return null;var b={},c=document.head||document.getElementsByTagName("head")[0],d=Object.keys(h.stylesInline);h.stylesInline[""]&&(d.splice(d.indexOf(""),1),d.unshift(""));a.each(d,function(a,d){var e=h.stylesInline[d];if(e){var f=document.createElement("style");f.setAttribute("type","text/css");f.setAttribute("data-slot",
d);f.styleSheet?f.styleSheet.cssText=e:f.appendChild(document.createTextNode(e));c.appendChild(f);b[d]=[f]}});return b}function y(){if(!h.templates)return null;var b,c={};for(b in h.templates)c[b]=[],a.each(h.templates[b],function(d){c[b].push(a.Template.set(this.name,this.content,this.type))});return c}function E(d){if(!h.scripts)return d(),null;var e=a.pipe(Object.keys(h.scripts),function(){d()}),f={},g=Object.keys(h.scripts);h.scripts[""]&&(g.splice(g.indexOf(""),1),g.unshift(""));a.each(g,function(d,
g){var m=a.addScript(h.scripts[g],e.fill(g),{ignoreLoadingErrors:c.ignoreLoadingErrors!==b?c.ignoreLoadingErrors:b,returnAll:!1});m&&(f[g]=m)});return f}if(q==ia[c.key]){if(e)return a.handle(r,this,[a.firstErrorMessage(e)]);if(!h)return a.handle(r,this,["Response is empty",h]);if(h.errors)return a.handle(r,this,[h.errors[0].message]);a.handle(c.onLoad,this,[h]);if(!n){y();var u;if(!c.ignoreDialogs)for(;a.Dialogs.dialogs.length;)a.Dialogs.pop();c.ignorePage?(u=[],k()):u=E(k)}}},c)};a.loadUrl.retainedSlots=
{};a.loadUrl.saveScroll=function(b){var e=a.info.slotNames,c,f,g;"string"===typeof e&&(e=e.split(","));c=e.length;for(g=0;g<c;++g)(f=document.getElementById(e[g]+"_slot"))&&"scrollLeft"in f&&a.setObject(["Q","scroll",b],{left:f.scrollLeft,top:f.scrollTop},f)};a.handle=function(d,e,c,f){if(!d)return 0;e||(e=H);c||(c=[]);var g=0,n=0,k,l;d===location&&(d=location.href);switch(a.typeOf(d)){case "function":return l=d.apply(e,c),!1===l?!1:1;case "array":for(g=0;g<d.length;++g){l=a.handle(d[g],e,c);if(!1===
l)return!1;n+=l}return n;case "Q.Event":return d.handle.apply(e,c);case "object":for(k in d){l=a.handle(d[k],e,c);if(!1===l)return!1;n+=l}return n;case "string":g=a.extend({},a.handle.options,f);if(!(d.isUrl()||"#"==d[0]||g.target&&"_self"!==g.target.toLowerCase()))return g=a.getObject(d,e)||a.getObject(d),a.handle(g,e,c);if(g.dontReload&&a.info&&a.info.url===d)return 0;var w=null;"function"===typeof arguments[1]?(w=arguments[1],g=a.handle.options):arguments[1]&&arguments[3]===b?(g=a.extend({},a.handle.options,
arguments[1]),"function"===typeof arguments[2]&&(w=arguments[2])):(g=a.extend({},a.handle.options,f),g.callback&&(w=g.callback));n=d.sameDomain(a.info.baseUrl);if("#"===d[0])H.location.hash=d;else if(!g.loadUsingAjax||!n||g.target&&!0!==g.target&&"_self"!==g.target)if("object"===a.typeOf(g.fields)){n="POST";if(g.method)switch(g.method.toUpperCase()){case "GET":case "POST":n=g.method;break;default:n="POST"}a.formPost(d,g.fields,n,{onLoad:g.callback,target:g.target})}else!a.info||d!==a.info.baseUrl&&
d!==a.info.proxyBaseUrl||(d+="/"),g.target&&!0!==g.target&&"_self"!==g.target?H.open(d,g.target):H.location.href==d?H.location.reload(!0):H.location=d;else 0===d.search(a.info.baseUrl)?a.loadUrl(d,a.extend({loadExtras:!0,ignoreHistory:!1,onActivate:function(){w&&w()}},g)):g.externalLoader?g.externalLoader.apply(this,arguments):H.location=d;a.handle.onUrl.handle(d,g);return 1;default:return 0}};a.handle.options={loadUsingAjax:!1,externalLoader:null,dontReload:!1};a.handle.onUrl=new a.Event(function(){var b=
document.getElementsByClassName("Q_error_message");a.each(b,function(){a.removeElement(this)});a.Pointer.stopHints()},"Q");a.parseQueryString=function(b,e){if(!b)return{};if("?"===b[0]||"#"===b[0])b=b.substr(1);var c={};a.each(b.split("&"),function(a,b){var d=b.split("="),f=decodeURIComponent(d[0]),d=decodeURIComponent(d[1]);f&&(e&&e.push(f),c[f]=d)});return c};a.buildQueryString=a.serializeFields;var L={};e.alreadyActivated={};a.baseUrl=function(b){var e,c;for(c=0;c<a.baseUrl.routers.length;++c)if(e=
a.baseUrl.routers[c](b))return e;return a.info.baseUrl};a.baseUrl.routers=[];a.nodeUrl=function(b){var e,c;for(c=0;c<a.nodeUrl.routers.length;++c)if(e=a.nodeUrl.routers[c](b))return e;return a.info.socketUrl};a.nodeUrl.routers=[];a.Template=function(){};a.Template.collection={};a.Template.set=function(b,e,c){a.Template.collection[a.normalize(b)]=e};a.Template.remove=function(b){"string"===typeof b?(delete a.Template.collection[a.normalize(b)],a.Template.load.cache.removeEach(b)):a.each(b,function(b,
c){a.Template.remove(c)})};a.Template.load=a.getter(function(d,e,c){function f(b,c){if(b)return a.Template.onError.handle(b),e(b,null);g[L]=c.trim();e(null,g[L])}"object"===typeof e&&(c=e,e=b);c=c||{};c.name&&(d=c.name);if(d){c=a.extend({},a.Template.load.options,c);var g=a.Template.collection,n,k,l,w=document.getElementsByTagName("script"),B=[];n=0;for(k=w.length;n<k;n++){l=w[n];var r=l.getAttribute("type");l&&l.id&&l.innerHTML&&r&&"text/"===r.substr(0,5)&&c.types[r.substr(5)]&&(g[a.normalize(l.id)]=
l.innerHTML.trim(),B.unshift(l))}n=0;for(k=B.length;n<k;n++)a.removeElement(B[n]);var L=a.normalize(d);if(g&&g[L])return e(null,g[L]),!0;d=a.url(c.dir+"/"+d+"."+c.type);a.request(d,f,{parse:!1,extend:!1});return!0}console.error("Q.Template.load: name is empty")},{cache:a.Cache.document("Q.Template.load",100),throttle:"Q.Template.load"});a.Template.load.options={type:"handlebars",types:{handlebars:!0,mustache:!0,php:!0},dir:"views"};a.Template.onError=new a.Event(function(b){console.warn("Q.Template: "+
a.firstErrorMessage(b))},"Q.Template");a.Template.render=function(d,e,c,f,g){"function"===typeof e?(g=c,f=e,c=b,e={}):"function"===typeof c&&(g=f,f=c,c=b);if(!f)throw new a.Error("Q.Template.render: callback is missing");var n=a.isArrayLike(d);if(n||a.isPlainObject(d)){var k=a.pipe(n?d:Object.keys(d),f);return a.each(d,function(b,d){a.Template.render(d,e,c,k.fill(n?d:b),g)})}a.ensure(H.Handlebars,a.url("plugins/Q/js/handlebars-v1.3.0.min.js"),function(){ea();var b=a.pipe(["template","partials"],function(a){if(a.template[0])return f(a.template[0]);
var b=Handlebars.compile(a.template[1]);f(null,b(e,{partials:a.partials[0]}))});a.Template.load(d,b.fill("template"),g);if(c&&c.length)for(var n=a.pipe(c,function(a){var d,e,f={};for(d=0;d<c.length;d++)e=c[d],f[e]=a[e][0]?null:a[e][1];b.fill("partials")(f)}),k=0;k<c.length;k++)a.Template.load(c[k],n.fill(c[k]),g);else b.fill("partials")()})};var N={},na=[],W=[];a.Socket=function(a){this.socket=a.socket;this.url=a.url;this.ns=a.ns};a.Socket.get=function(a,b){a=a||"";"/"!==a[0]&&(a="/"+a);return b?
N[a]&&N[a][b]:N[a]};a.Socket.connect=function(a,b,c){if(!b)return!1;"function"===typeof a?(c=a,a=""):a?"/"!==a[0]&&(a="/"+a):a="";N[a]||(N[a]={});N[a][b]||(N[a][b]=null);aa(a,b,c)};a.Socket.prototype.disconnect=function(){if(this.url){var b=a.getObject([this.ns,this.url],N);b?b.socket.disconnect():console.warn("Q.Socket.prototype.disconnect: Attempt to disconnect nonexistent socket: ",this.url)}else console.warn("Q.Socket.prototype.disconnect: Attempt to disconnect socket with empty url")};a.Socket.disconnectAll=
function(b){b?a.each(N[b],function(a,b){b&&b.disconnect()}):a.each(N,function(b,c){a.each(c,function(a,b){b&&b.disconnect()})})};a.Socket.reconnectAll=function(){var a,b;for(a in N)for(b in N[a])N[a][b]?N[a][b].socket.io.connected||N[a][b].socket.io.reconnect():aa(a,b)};a.Socket.destroyAll=function(){a.Socket.disconnectAll();setTimeout(function(){for(var a=0;a<na.length;a++)na[a]();na=[];N={};H.io=b},1E3)};a.Socket.onEvent=a.Event.factory({},["","","",function(a,b,c){if("/"!==a[0])return["/"+a,b,
c]}],function(b,e,c){var f=this;f.onFirst().set(function(){a.each(a.Socket.get(b,e),function(e,h){function g(a){r(a,c,f.handle)}h&&a.Socket.onConnect(b,e).add(g,"Q")});W.push([b,c])});f.onEmpty().set(function(){a.each(a.Socket.get(b,e),function(a,b){b&&b.socket.off(c,f.handle)});a.each(W,function(a,e){e[0]===b&&e[1]===c&&W.splice(a,1)})})});a.Socket.onConnect=a.Event.factory({},["","",function(a,b){if("/"!==a[0])return["/"+a,b]}]);a.Socket.prototype.onEvent=function(b){return a.Socket.onEvent(this.url,
this.ns,b)};a.Animation=function(d,e,c,f){e==b&&(e=1E3);"string"==typeof c&&(c=a.Animation.ease[c]);"function"!==typeof c&&(c=a.Animation.ease.smooth);this.sinceLastFrame=this.milliseconds=this.position=0;this.id=++ra;this.duration=e;this.ease=c;this.callback=d;this.params=f;this.onRewind=new a.Event;this.onPause=new a.Event;this.onRender=new a.Event;this.onComplete=new a.Event};C=a.Animation.prototype;C.pause=function(){this.playing=!1;delete a.Animation.playing[this.id];this.onPause.handle.call(this);
return this};C.rewind=function(){this.pause();this.position=this.milliseconds=this.sinceLastFrame=0;this.onRewind.handle.call(this);return this};C.render=function(){var b=this,e=a.milliseconds();requestAnimationFrame(function(){var c=b.milliseconds||0,f=a.milliseconds();b.elapsed=f-b.started;b.milliseconds+=f-e;b.sinceLastFrame=b.milliseconds-c;c=b.position=b.elapsed/b.duration;1<=c?(a.handle(b.callback,b,[1,b.ease(1),b.params]),b.onRender.stop(),b.onComplete.handle.call(b),b.rewind()):(f=b.ease(c),
a.handle(b.callback,b,[c,f,b.params]),b.playing&&b.render(),b.onRender.handle.call(b,c,f,b.params))})};C.play=function(){a.Animation.playing[this.id]=this;this.playing||(this.started=a.milliseconds());this.playing=!0;this.render();return this};a.Animation.play=function(b,e,c,f){return(new a.Animation(b,e,c,f)).play()};a.Animation.fps=60;a.Animation.ease={linear:function(a){return a},power:function(a){return function(b){return 1-Math.pow(1-b,a)}},bounce:function(a){return Math.sin(1.2*Math.PI*(a-.5))/
1.7+.5},smooth:function(a){return Math.sin(Math.PI*(a-.5))/2+.5},easeInExpo:function(a){return 0==x?0:pow(2,10*(x-1))+0-.001},inOutQuintic:function(a){var b=a*a;a*=b;return 6*a*b+-15*b*b+10*a}};(function(){var b,e;"hidden"in document?(b="hidden",e="visibilitychange"):"mozHidden"in document?(b="mozHidden",e="mozvisibilitychange"):"msHidden"in document?(b="msHidden",e="msvisibilitychange"):"webkitHidden"in document?(b="webkitHidden",e="webkitvisibilitychange"):"oHidden"in document&&(b="oHidden",e="ovisibilitychange");
a.addEventListener(document,e,function(){a.onVisibilityChange.handle(document,[document[b]])},!1);a.isDocumentHidden=function(){return document[b]}})();a.onVisibilityChange.set(function(){if(!(document.hidden||document.msHidden||document.webkitHidden||document.oHidden))for(var b in a.Animation.playing)a.Animation.playing[b].play()},"Q.Animation");a.Animation.playing={};var ra=0;a.jQueryPluginPlugin=function(){var b=H.jQuery;b&&!b.fn.plugin&&(b.fn.plugin=function(e,c,f){if(!this.length)return this;
var g;switch(a.typeOf(c)){case "array":g=c;break;case "string":g=Array.prototype.slice.call(arguments,1);break;default:g=[c]}var n=this;b.fn.plugin.load(e,function(b){for(var c in b){if(!b[c])throw new a.Error("jQuery.fn.plugin: "+e+" not defined");b[c].apply(n,g);a.handle(f,n,g);break}});return this},b.fn.plugin.load=function(e,c,f){var g=[];"string"===typeof e&&(e=[e]);var n={};a.each(e,function(c,e){var f=a.normalize(e);n[f]=e;b.fn[f]||(f=b.fn.plugin[f]||"plugins/jQuery/"+f+".js","string"===typeof f&&
g.push(f))});a.addScript(g,function(){for(var e in n)n[e]=b.fn[e]||b.fn[n[e]];a.handle(c,H,[n])},f);return!1},b.fn.state=function(e){e=a.normalize(e)+" state";return b(this).data(e)},b.fn.tool=function(b,c,d,e){var f=arguments;return this.each(function(){var g="function"===typeof d?d.apply(this,f):d;a.Tool.setUpElement(this,b,c,g,e)})},b.fn.activate=function(e,c){return this.each(function(f,g){if(!b(g).closest("html").length)return console.log("Q.activate: element "+g.id+" is not in the DOM"),!1;
a.activate(g,e,c)})},a.each({on:"off",live:"die",bind:"unbind"},function(e,c){var f=b.fn[e];b.fn[e]=function(){for(var b=Array.prototype.slice.call(arguments,0),d=b.length-1;0<=d&&"function"!==typeof b[d];--d);var e,h;e=h=b[d];var g="";a.isArrayLike(b[0])&&((g=b[0][1]||"")&&"."!==g[0]&&(g="."+g),b[0]=b[0][0]);if("function"===typeof b[0]){var n={original:b[d]};h=b[d]=b[0](n);e.Q_wrapper=h;if(!("eventName"in n))throw new a.Error("Custom $.fn.on handler: need to set params.eventName");b[0]=n.eventName}if(g){e=
b[0].split(" ");for(n=e.length-1;0<=n;--n)e[n]+=g;b[0]=e.join(" ")}var k;!0===b[d-1]?(a.Event.jQueryForPage.push([c,this,b[0],h]),k="page"):"Q.Tool"===a.typeOf(b[d-1])&&(g=b[d-1].id,a.Event.jQueryForTool[g]||(a.Event.jQueryForTool[g]=[]),a.Event.jQueryForTool[g].push([c,this,b[0],h]),k="tool");k&&b.splice(d-1,1);return f.apply(this,b)};var g=b.fn[c];b.fn[c]=function(){var b=Array.prototype.slice.call(arguments,0),c="";a.isArrayLike(arguments[0])&&((c=b[0][1]||"")&&"."!==c[0]&&(c="."+c),b[0]=b[0][0]);
if("function"===typeof b[0]){var d={};b[0](d);if(!("eventName"in d))throw new a.Error("Custom $.fn.on handler: need to set params.eventName");b[0]=d.eventName}if(c){for(var d=b[0].split(" "),e=d.length-1;0<=e;--e)d[e]+=c;b[0]=d.join(" ")}d=null;for(c=b.length-1;0<=c;--c)if("function"===typeof b[c]){d=b[c];break}d&&d.Q_wrapper&&(b[c]=d.Q_wrapper);return g.apply(this,b)}}))};a.jQueryPluginPlugin();a.Browser={detect:function(){var a=this.searchData(this.dataBrowser).identity||"An unknown browser",b=
(this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version").toString(),c=b.indexOf("."),b=b.substring(0,-1!=c?c:b.length),c=this.searchData(this.dataOS),e=c.identity||"an unknown OS",f="",g=navigator.userAgent.toLowerCase();-1!=g.indexOf("webkit")?f="webkit":-1!=g.indexOf("gecko")?f="gecko":-1!=g.indexOf("presto")&&(f="presto");var g=/(.*)QCordova(.*)/.test(navigator.userAgent),n=/(.*)QWebView(.*)/.test(navigator.userAgent)||/(iPhone|iPod|iPad).*AppleWebKit(?!.*Version)/i.test(navigator.userAgent),
k=navigator.standalone||H.external&&external.msIsSiteMode&&external.msIsSiteMode()||!1;"Android"===e&&(k=40>screen.height-document.documentElement.clientHeight||40>screen.width-document.documentElement.clientHeight);/(.*)QWebView(.*)/.test(navigator.userAgent)&&(k=!1);var a=a.toLowerCase(),l;switch(f){case "webkit":l="-webkit-";break;case "gecko":l="-moz-";break;case "presto":l="-o-";break;default:l=""}return{name:a,mainVersion:b,prefix:"explorer"===a?"-ms-":l,OS:e.toLowerCase(),engine:f,device:c.device,
isWebView:n,isStandalone:k,isCordova:g}},searchData:function(a){for(var b=0;b<a.length;b++){var c=a[b].string;this.versionSearchString=a[b].versionSearch||a[b].identity;if(c&&-1!=navigator.userAgent.indexOf(a[b].subString))return a[b]}},searchVersion:function(a){var b=a.indexOf(this.versionSearchString);if(-1!=b)return parseFloat(a.substring(b+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,
subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:H.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",
identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.userAgent,subString:"iPhone",identity:"iOS",device:"iPhone"},{string:navigator.userAgent,subString:"iPod",identity:"iOS",device:"iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iOS",device:"iPad"},
{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.platform,subString:"Linux",identity:"Linux"}],getScrollbarWidth:function(){if(a.Browser.scrollbarWidth)return a.Browser.scrollbarWidth;var b=document.createElement("p");b.style.width="100%";b.style.height="200px";var e=document.createElement("div");a.each({position:"absolute",top:"0px",left:"0px",
visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"},function(a,b){e.style[a]=b});e.appendChild(b);document.body.appendChild(e);var c=parseInt(b.offsetWidth);e.style.overflow="scroll";b=parseInt(b.offsetWidth);c==b&&(b=e.clientWidth);a.removeElement(e);return a.Browser.scrollbarWidth=c-b}};var G=a.Browser.detect(),C="ontouchstart"in H||!!H.navigator.msMaxTouchPoints,f=navigator.userAgent.match(/tablet|ipad/i)||C&&!navigator.userAgent.match(/mobi/i);a.info={isTouchscreen:C,isTablet:f,
isWebView:G.isWebView,isStandalone:G.isStandalone,platform:G.OS,browser:G,isIE:function(d,e){return"explorer"===a.info.browser.name&&(d==b||d<=a.info.browser.mainVersion)&&(e==b||e>=a.info.browser.mainVersion)},isAndroid:function(d,e,c,f){return"android"===a.info.platform&&(d==b||d>=a.Pointer.windowWidth())&&(e==b||e>=a.Pointer.windowHeight())&&(c==b||c<=a.info.browser.mainVersion)&&(f==b||f>=a.info.browser.mainVersion)}};a.info.isMobile=a.info.isTouchscreen&&!a.info.isTablet;a.info.formFactor=a.info.isMobile?
"mobile":a.info.isTablet?"tablet":"desktop";var Fa=document.documentElement;Fa.addClass("Q_js");Fa.addClass(a.info.isTouchscreen?"Q_touchscreen":"Q_notTouchscreen");Fa.addClass(a.info.isMobile?"Q_mobile":"Q_notMobile");Fa.addClass(a.info.isAndroid()?"Q_android":"Q_notAndroid");a.Page.onLoad("").set(function(){Fa.addClass(a.info.uri.module+"_"+a.info.uri.action).addClass(a.info.uri.module)},"Q");a.Page.beforeUnload("").set(function(){Fa.removeClass(a.info.uri.module+"_"+a.info.uri.action).removeClass(a.info.uri.module)},
"Q");u.options={direction:"both"};X.options={blur:["INPUT","TEXTAREA","SELECT"],blurContentEditable:!0};M.options={milliseconds:300};a.Pointer={start:a.info.isTouchscreen?"touchstart":"mousedown",move:a.info.isTouchscreen?"touchmove":"mousemove",end:a.info.isTouchscreen?"touchend":"mouseup",enter:a.info.isTouchscreen?"touchenter":"mouseenter",leave:a.info.isTouchscreen?"touchleave":"mouseleave",cancel:a.info.isTouchscreen?"touchcancel":"mousecancel",focusin:"gecko"===a.info.browser.engine?"focus":
"focusin",focusout:"gecko"===a.info.browser.engine?"blur":"focusout",click:function(b){b.eventName="click";return function(e){return a.Pointer.canceledClick?a.Pointer.preventDefault(e):b.original.apply(this,arguments)}},fastclick:function(b){b.eventName=a.Pointer.end;return function(e){var c=a.Pointer.elementFromPoint(a.Pointer.getX(e),a.Pointer.getY(e));return!a.Pointer.canceledClick&&this.contains(a.Pointer.started)&&this.contains(c)?b.original.apply(this,arguments):a.Pointer.preventDefault(e)}},
touchclick:function(b){if(!a.info.isTouchscreen)return a.Pointer.click(b);b.eventName=a.Pointer.start;return function(e){function c(e){a.removeEventListener(H,"click",c);if(a.Pointer.canceledClick)return a.Pointer.preventDefault(e);g&&b.original.apply(n,k)}function f(b){a.removeEventListener(this,"touchend",f);setTimeout(function(){g=!1},a.Pointer.touchclick.duration)}var g=!0,n=this,k=arguments;a.addEventListener(H,"click",c);a.addEventListener(this,"touchend",f)}},wheel:function h(a){h.div=document.createElement("div");
a.eventName="onwheel"in h.div?"wheel":document.onmousewheel!==b?"mousewheel":"DOMMouseScroll MozMousePixelScroll";return function(b){var e=b.originalEvent||b;b.type="wheel";b.deltaMode="MozMousePixelScroll"==e.type?0:1;b.deltaX=e.deltaX||0;b.deltaY=e.deltaY||0;b.deltaZ=e.deltaZ||0;switch(a.eventName){case "mousewheel":e.wheelDelta&&(b.deltaY=-Math.ceil(1/3*e.wheelDelta));e.wheelDeltaX&&(b.deltaX=-Math.ceil(1/3*e.wheelDeltaX));break;default:b.deltaY="deltaY"in e?e.deltaY:e.detail}return a.original.apply(this,
arguments)}},canceledClick:!1,scrollLeft:function(){return H.pageXOffset||document.documentElement.scrollLeft||document.body&&document.body.scrollLeft},scrollTop:function(){return H.pageYOffset||document.documentElement.scrollTop||document.body&&document.body.scrollTop},windowWidth:function(){return H.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},windowHeight:function(){return H.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getX:function(b){b=
b.originalEvent||b;b=b.touches&&b.touches.length?b.touches[0]:b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:b;return Math.max(0,"pageX"in b?b.pageX:b.clientX+a.Pointer.scrollLeft())},getY:function(b){b=b.originalEvent||b;b=b.touches&&b.touches.length?b.touches[0]:b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:b;return Math.max(0,"pageY"in b?b.pageY:b.clientY+a.Pointer.scrollTop())},touchCount:function(b){var c=b.originalEvent||b;return c.touches?c.touches.length:0<a.Pointer.which(b)?
1:0},which:function(a){var c=a.button;(a=a.which)||c===b||(a=c&1?1:c&2?3:c&4?2:0);return a},target:function(a){a=a.target||a.srcElement;3===a.nodeType&&(a=a.parentNode);return a},relatedTarget:function(a){a.relatedTarget=a.relatedTarget||("mouseover"==a.type?a.fromElement:a.toElement)},offset:function(a){var b=0,e=0;do isNaN(a.offsetLeft)||(b+=a.offsetLeft),isNaN(a.offsetTop)||(e+=a.offsetTop);while(a=a.offsetParent);return{left:b,top:e}},hint:function(b,c){c=c||{};var e,f,g,n,k=a.Pointer.hint.imgs,
l=c.imageEvent||new a.Event,w=c.audioEvent||new a.Event,B=l.and(w),r=a.extend({},a.Pointer.hint.options,10,c),L=document.getElementsByTagName("body")[0];if(!c.dontRemove&&!c.waitForEvents){g=0;for(n=k.length;g<n;++g)e=k[g],e.parentNode&&e.parentNode.removeChild(e);k=a.Pointer.hint.imgs=[]}f=document.createElement("img");f.setAttribute("src",a.url(r.src));f.style.position="absolute";f.style.width=r.width;f.style.height=r.height;f.style.display="block";f.style.pointerEvents="none";f.setAttribute("class",
"Q_hint");f.style.opacity=0;f.hide=r.hide;f.dontStopBeforeShown=r.dontStopBeforeShown;k.push(f);L.appendChild(f);B.add(a.once(function(){f.timeout=setTimeout(function(){var c,e,g=[f];"string"===typeof b&&(b=document.querySelectorAll(b));if(a.isArrayLike(b))for(f.target=b[0],c=1,e=b.length;c<e;++c){var n=f.cloneNode(!1);n.hide=f.hide;n.dontStopBeforeShown=f.dontStopBeforeShown;n.target=b[c];n.timeout=!1;g.push(n);a.Pointer.hint.imgs.push(n);L.appendChild(n)}else f.target=b;a.each(g,function(b,c){"string"===
typeof c.target&&(c.target=document.querySelector(h));f.timeout=!1;var e,h=c.target;if(a.instanceOf(h,Element)){if(!h.isVisible()){c.parentNode&&c.parentNode.removeChild(c);return}var g=a.Pointer.offset(h);e={x:g.left+h.offsetWidth/2,y:g.top+h.offsetHeight/2}}else e=h;c.style.display="block";c.style.left=e.x-c.offsetWidth*r.hotspot.x+"px";c.style.top=e.y-c.offsetHeight*r.hotspot.y+"px";c.style.zIndex=r.zIndex;var n=parseInt(c.style.width),m=parseInt(c.style.height);a.Animation.play(function(a,b){c.style.opacity=
b;if(1!==r.show.initialScale){var f=1+(r.show.initialScale-1)*(1-b),h=n*f,f=m*f;c.style.width=h+"px";c.style.height=f+"px";c.style.left=e.x-h*r.hotspot.x+"px";c.style.top=e.y-f*r.hotspot.y+"px"}},r.show.duration,r.show.ease)})},r.show.delay)}));a.Pointer.hint.addedListeners||(a.addEventListener(window,a.Pointer.start,a.Pointer.stopHints),a.addEventListener(document,"scroll",a.Pointer.stopHints),a.Pointer.hint.addedListeners=!0);if(!c.waitForEvents){f.complete?l.handle():f.onload=l.handle;var q=c.audio||
{};q.src?a.audio(q.src,function(){f.audio=this;this.play(q.from||0,q.until,q.removeAfterPlaying);w.handle()}):c.waitForEvents||w.handle()}},stopHints:function(b){var c=[];a.each(a.Pointer.hint.imgs,function(e,f){var g=a.instanceOf(b,Element)&&!b.contains(f.target);!1!==f.timeout&&f.dontStopBeforeShown||g?c.push(f):(f.audio&&f.audio.pause(),clearTimeout(f.timeout),f.timeout=null,a.Animation.play(function(a,b){f.style.opacity=1-b},f.hide.duration,f.hide.ease).onComplete.set(function(){f.parentNode&&
f.parentNode.removeChild(f)}))});a.Pointer.hint.imgs=c},preventDefault:function(a){if("cancelable"in a&&!a.cancelable)return!1;a.preventDefault?a.preventDefault():a.returnValue=!1;return!0},cancelClick:function(b,c){if(!1===a.Pointer.onCancelClick.handle(b,c))return!1;a.Pointer.canceledClick=!0},elementFromPoint:function(b,c){return document.elementFromPoint(b-a.Pointer.scrollLeft(),c-a.Pointer.scrollTop())},preventRubberBand:function(b){"ios"===a.info.platform&&(a.extend(u.options,b),a.addEventListener(window,
"touchmove",u))},restoreRubberBand:function(){a.removeEventListener(window,"touchmove",u)},startBlurringOnTouch:function(b){a.addEventListener(window,"touchstart",X)},stopBlurringOnTouch:function(b){a.removeEventListener(window,"touchstart",X)},onCancelClick:new a.Event,options:{cancelClickDistance:10}};a.Pointer.which.LEFT=1;a.Pointer.which.MIDDLE=2;a.Pointer.which.RIGHT=3;a.Pointer.touchclick.duration=400;a.Pointer.hint.options={src:"plugins/Q/img/hints/tap.gif",hotspot:{x:.5,y:.3},width:"50px",
height:"50px",zIndex:99999,show:{delay:500,duration:500,initialScale:2,ease:a.Animation.ease.smooth},hide:{delay:300,duration:300,ease:a.Animation.ease.linear}};a.Pointer.hint.imgs=[];wa.options={prevent:["INPUT","TEXTAREA","SELECT"]};var za,Sa,Ga,Ba,Ha,Ta=null,Za=a.Pointer.ended=function c(){setTimeout(function(){a.Pointer.started=null},0);clearTimeout(Ta);a.removeEventListener(window,a.Pointer.move,ga);a.removeEventListener(window,a.Pointer.end,c);a.removeEventListener(window,a.Pointer.cancel,c);
setTimeout(function(){a.Pointer.canceledClick=!1},100)};a.Dialogs={options:{topMargin:"10%",bottomMargin:"10%"},dialogs:[],push:function(b){for(var e=!0,f=0;f<this.dialogs.length;f++)this.dialogs[f].isFullscreen||(e=!1);var g=a.extend({mask:e},a.Dialogs.push.options,b);g.fullscreen&&(g.mask=!1);var n=$(g.dialog);n.length||(n=$("<div />").append($('<div class="title_slot" />').append($('<h2 class="Q_dialog_title" />').append(g.title))).append($('<div class="dialog_slot Q_dialog_content" id="dialog_slot" />').append(g.content)),
g.className&&n.addClass(g.className),g.apply&&n.addClass("Q_overlay_apply"),!1!==g.removeOnClose&&(g.removeOnClose=!0));n.hide();$(g.appendTo||$("body")[0]).append(n);b=g.onClose;g.onClose=new a.Event(function(){a.handle(g.onClose.original,n,[n]);a.Dialogs.dontPopOnClose||a.Dialogs.pop(!0);a.Dialogs.dontPopOnClose=!1},"Q.Dialogs");g.onClose.original=b;n.plugin("Q/dialog",g);b=null;n.isFullscreen=g.fullscreen;this.dialogs.length&&(b=this.dialogs[this.dialogs.length-1]);b&&b[0]===n[0]||(this.dialogs.push(n),
g.hidePrevious&&b&&b.hide());return n},pop:function(c){c===b&&(c=!1);var e=this.dialogs.pop();this.dialogs.length&&this.dialogs[this.dialogs.length-1].show();!c&&e&&(a.Dialogs.dontPopOnClose=!0,e.data("Q/overlay")?e.data("Q/overlay").close():e.data("Q/dialog")&&e.data("Q/dialog").close());this.dialogs.length||a.Masks.hide("Q.screen.mask");return e}};a.Dialogs.push.options={dialog:null,url:null,title:"Dialog",content:"",className:null,fullscreen:a.info.isAndroid(b,1E3),appendTo:document.body,alignByParent:!1,
beforeLoad:new a.Event,onActivate:new a.Event,beforeClose:new a.Event,onClose:null,closeOnEsc:!0,removeOnClose:null,hidePrevious:!0};a.alert=function(c,e){e===b&&(e={});e.title===b&&(e.title="Alert");return a.Dialogs.push(a.extend({title:e.title,content:'<div class="Q_messagebox Q_big_prompt"><p>'+c+"</p></div>",className:"Q_alert",onClose:e.onClose||b,fullscreen:!1,hidePrevious:!1},e))};a.confirm=function(b,e,f){var g=a.extend({},a.confirm.options,f),n=!1;b=a.Dialogs.push(a.extend({title:g.title,
content:$('<div class="Q_messagebox Q_big_prompt" />').append($("<p />").html(b),$("<button />").html(g.ok),$("<button />").html(g.cancel)),className:"Q_confirm",noClose:g.noClose,onClose:{"Q.confirm":function(){n||a.handle(e,this,[null])}},fullscreen:!1,hidePrevious:!1},f));b.find("button:first").on(a.Pointer.end,function(){n=!0;a.Dialogs.pop();a.handle(e,H,[!0])});b.find("button:last").on(a.Pointer.end,function(){n=!0;a.Dialogs.pop();a.handle(e,H,[!1])});return b};a.confirm.options={title:"Confirm",
ok:"OK",cancel:"Cancel",noClose:!0};a.prompt=function(c,e,f){function g(){k=!0;var b=l.find("input").val();a.Dialogs.pop();a.handle(e,this,[b])}f===b&&(f={});var n=a.extend({},a.prompt.options,f),k=!1,l=a.Dialogs.push(a.extend({title:n.title,content:$('<div class="Q_messagebox Q_big_prompt" />').append($("<p />").html(c),$('<input type="text" />').attr("placeholder",n.placeholder),$('<button class="Q_messagebox_done Q_button" />').html(n.ok)),className:"Q_prompt",onActivate:function(a){a=a.find("input");
var b=a.parent().width()-a.next().outerWidth(!0)-5;a.css({width:b+"px",boxSizing:"border-box"}).plugin("Q/placeholders").plugin("Q/clickfocus").on("keydown",function(a){13===(a.keyCode||a.which)&&g()})},onClose:{"Q.prompt":function(){k||a.handle(e,this,[null])}},fullscreen:!1,hidePrevious:!1},f));l.find("button").on(a.Pointer.click,g);return l};a.prompt.options={title:"Prompt",ok:"OK",placeholder:"",noClose:!0};a.Audio=function(b){function e(a){("canplay"===a.type?xa.onCanPlay:"canplaythrough"===
a.type?xa.onCanPlayThrough:xa.onEnded).handle.call(f,[a])}if(this===H)throw new a.Error("Please call Q.Audio with the keyword new");var f=this;this.src=b=a.url(b);var g=document.getElementById("Q-audio-container");g||(g=document.createElement("div"),g.setAttribute("id","Q-audio-container"),g.style.display="none",document.body.appendChild(g));this.container=g;var n=this.audio=document.createElement("audio");n.setAttribute("src",b);n.setAttribute("preload","auto");a.addEventListener(n,{canplay:e,canplaythrough:e,
ended:e});g.appendChild(n);n.load();a.Audio.collection[b]=this};a.Audio.collection={};var xa=a.Audio.prototype;xa.onCanPlay=new a.Event;xa.onCanPlayThrough=new a.Event;xa.onEnded=new a.Event;xa.play=function(b,e,f){var g=this,n=g.audio;b=b||0;if(b>e)throw new a.Error("Audio.prototype.play: from can't be greater than until");if(!n.readyState)return!1;f&&g.onEnded.set(function(){delete a.Audio.collection[g.src];container.removeChild(g.audio);g.onEnded.remove("Q.Audio")},"Q.Audio");g.playing=!0;g.paused=
!1;n.currentTime!=b&&(n.currentTime=b);e&&setTimeout(function(){n.pause()},1E3*(e-b));n.play();return g};xa.pause=function(){this.playing&&(this.audio.pause(),this.playing=!1,this.paused=!0);return this};a.Audio.pauseAll=function(){for(var b in a.Audio.collection)a.Audio.collection[b].pause()};a.audio=a.getter(function(b,e,f){b=a.url(b);b=a.Audio.collection[b]?a.Audio.collection[b]:new a.Audio(b);f&&!1===f.canPlayThrough?b.onCanPlay.add(e):b.onCanPlayThrough.add(e)});a.Masks={collection:{},mask:function(b,
e){b=a.calculateKey(b);if(b in a.Masks.collection)return a.Masks.collection[b];var f=a.Masks.collection[b]=a.extend({fadeTime:0,shouldCover:null},a.Masks.options[b],e),g=f.element=document.createElement("div");g.addClass("Q_mask "+(f.className||""));e&&e.html&&(g.innerHTML=e.html);document.body.appendChild(g);g.style.display="none";f.counter=0;return a.Masks.collection[b]=f},show:function(b,e){b=a.calculateKey(b);var f=a.Masks.mask(b,e);if(!f.counter){var g=f.element;g.style.display="block";if(f.fadeIn){var n=
g.computedStyle().opacity;a.Animation.play(function(a,b){g.style.opacity=b*n},f.fadeIn);g.style.opacity=0}}++f.counter;a.Masks.update(b)},hide:function(b){b=a.calculateKey(b);if(b in a.Masks.collection&&(b=a.Masks.collection[b],0!==b.counter)){var e=b.element;if(0===--b.counter)if(b.fadeOut){var f=e.computedStyle().opacity;a.Animation.play(function(a,b){e.style.opacity=(1-b)*f},b.fadeOut).onComplete.set(function(){e.style.display="none"})}else e.style.display="none"}},update:function(b){var e={};
b?e[b]=!0:e=a.Masks.collection;for(var f in e)if(b=a.Masks.collection[f],b.counter){var e=document.documentElement,g=b.rect=(b.shouldCover||e).getBoundingClientRect(),e=b.element.style;e.left=g.left+a.Pointer.scrollLeft()+"px";e.top=g.top+a.Pointer.scrollTop()+"px";var n=g.right-g.left,k=g.bottom-g.top;if(!b.shouldCover){var n=Math.max(n,a.Pointer.windowWidth()),k=Math.max(n,a.Pointer.windowHeight()),l=a.Pointer.scrollLeft(),w=a.Pointer.scrollTop();b=document.getElementsByTagName("body")[0];a.each(b.children||
b.childNodes,function(){var a=this.getBoundingClientRect();a&&(n=Math.max(n,l+a.right),k=Math.max(k,w+a.bottom))})}e.width=n+"px";e.height=e["line-height"]=k+"px"}},isVisible:function(b){b=a.calculateKey(b);return!!a.getObject([b,"counter"],a.Masks.Collection)}};a.Masks.options={"Q.screen.mask":{className:"Q_screen_mask",fadeIn:100},"Q.request.load.mask":{className:"Q_load_data_mask",fadeIn:200},"Q.request.cancel.mask":{className:"Q_cancel_mask",fadeIn:200}};a.addEventListener(window,a.Pointer.start,
function(b){a.Pointer.started=a.Pointer.target(b);a.Pointer.canceledClick=!1;a.addEventListener(window,a.Pointer.move,ga,!1,!0);a.addEventListener(window,a.Pointer.end,Za,!1,!0);a.addEventListener(window,a.Pointer.cancel,Za,!1,!0);var e=a.Pointer.getX(b)-a.Pointer.scrollLeft();b=a.Pointer.getY(b)-a.Pointer.scrollTop();za={x:e,y:b};Sa=Ga=Ba=Ha=null;a.Pointer.movement={times:[],positions:[],velocities:[],movingAverageVelocity:null,accelerations:[],timeout:300}});H.console||(H.console={debug:ba,dir:ba,
error:ba,group:ba,groupCollapsed:ba,groupEnd:ba,info:ba,log:ba,time:ba,timeEnd:ba,trace:ba,warn:ba});la.slots={};la();a.addEventListener(window,"load",a.onLoad.handle);a.onInit.add(function(){A.currentUrl=window.location.href.split("#")[0].substr(a.info.baseUrl.length+1);window.history.pushState?a.onPopState.set(g,"Q.loadUrl"):a.onHashChange.set(A,"Q.loadUrl");a.onReady.set(function(){a.onOnline.set(a.Socket.reconnectAll,"Q.Socket")},"Q.Socket");var b=a.getObject("jQuery.tools.tooltip.conf",H);b&&
(b.tipClass="Q_tooltip",b.effect="fade",b.opacity=1,b.position="bottom center",b.offset=[0,0]);if(b=a.getObject("jQuery.tools.validator.conf",H))b.errorClass="Q_errors",b.messageClass="Q_error_message",b.position="bottom left",b.offset=[0,0]},"Q");a.onJQuery.add(function(b){a.Tool.define({"Q/inplace":"plugins/Q/js/tools/inplace.js","Q/tabs":"plugins/Q/js/tools/tabs.js","Q/form":"plugins/Q/js/tools/form.js","Q/panel":"plugins/Q/js/tools/panel.js","Q/ticker":"plugins/Q/js/tools/ticker.js","Q/timestamp":"plugins/Q/js/tools/timestamp.js",
"Q/bookmarklet":"plugins/Q/js/tools/bookmarklet.js","Q/columns":"plugins/Q/js/tools/columns.js","Q/drawers":"plugins/Q/js/tools/drawers.js","Q/expandable":"plugins/Q/js/tools/expandable.js","Q/filter":"plugins/Q/js/tools/filter.js"});a.Tool.jQuery({"Q/placeholders":"plugins/Q/js/fn/placeholders.js","Q/textfill":"plugins/Q/js/fn/textfill.js","Q/autogrow":"plugins/Q/js/fn/autogrow.js","Q/dialog":"plugins/Q/js/fn/dialog.js","Q/flip":"plugins/Q/js/fn/flip.js","Q/gallery":"plugins/Q/js/fn/gallery.js",
"Q/zoomer":"plugins/Q/js/fn/zoomer.js","Q/fisheye":"plugins/Q/js/fn/fisheye.js","Q/listing":"plugins/Q/js/fn/listing.js","Q/hautoscroll":"plugins/Q/js/fn/hautoscroll.js","Q/imagepicker":"plugins/Q/js/fn/imagepicker.js","Q/viewport":"plugins/Q/js/fn/viewport.js","Q/actions":"plugins/Q/js/fn/actions.js","Q/clickable":"plugins/Q/js/fn/clickable.js","Q/clickfocus":"plugins/Q/js/fn/clickfocus.js","Q/contextual":"plugins/Q/js/fn/contextual.js","Q/scrollIndicators":"plugins/Q/js/fn/scrollIndicators.js",
"Q/iScroll":"plugins/Q/js/fn/iScroll.js","Q/scroller":"plugins/Q/js/fn/scroller.js","Q/touchscroll":"plugins/Q/js/fn/touchscroll.js","Q/scrollbarsAutoHide":"plugins/Q/js/fn/scrollbarsAutoHide.js","Q/sortable":"plugins/Q/js/fn/sortable.js"});a.onLoad.add(function(){b.fn.plugin.load("Q/clickfocus Q/contextual Q/scrollIndicators Q/iScroll Q/scroller Q/touchscroll".split(" "))});b&&b.tools&&b.tools.validator&&b.tools.validator.conf&&(b.tools.validator.conf.formEvent=null)},"Q");a.loadUrl.options={quiet:!1,
onError:new a.Event,onResponse:new a.Event,onLoadStart:new a.Event(a.loadUrl.saveScroll,"Q"),onLoadEnd:new a.Event,onActivate:new a.Event,slotNames:[],slotContainer:function(a){return document.getElementById(a+"_slot")},handler:function(b,e,f){var g={},n,k,l,w=f.slotContainer;a.isPlainObject(w)&&(f.slotContainer=function(a){return w[a]||document.getElementById(a+"_slot")});for(n in b.slots)if("TITLE"===n.toUpperCase())document.title=b.slots[n];else if(k=f.slotContainer(n,b)){try{if(a.replace(k,b.slots[n],
f),l=a.getObject(["Q","scroll",e],k))k.scrollLeft=l.left,k.scrollTop=l.top}catch(B){debugger;console.warn("slot "+n+" could not be filled");console.warn(B)}g[n]=k}return g},key:"Q"};a.request.options={duplicate:!0,quiet:!0,parse:"json",handleRedirects:function(b){a.handle(b,{target:"_self",quiet:!0})},onLoadStart:new a.Event,onShowCancel:new a.Event,onLoadEnd:new a.Event,onResponse:new a.Event,onProcessed:new a.Event,onCancel:new a.Event(function(b){(b=a.firstErrorMessage(b))&&console.warn(b)},"Q")};
a.onReady.set(function(){wa();a.request.options.onLoadStart.set(function(b,e,f){f.quiet||a.Masks.show("Q.request.load.mask")},"Q.request.load.mask");a.request.options.onShowCancel.set(function(b,e){if(!e.quiet){var f=a.Masks.mask("Q.request.cancel.mask").element,g=f.querySelectorAll(".Q_load_cancel_button");g.length||(g=document.createElement("button"),g.setAttribute("class","Q_load_cancel_button"),g.innerHTML="Cancel",f[0]&&(f=f[0]),f.appendChild(g));$(g).off(a.Pointer.end).on(a.Pointer.end,b);a.Masks.show("Q.request.cancel.mask")}},
"Q.request.load.mask");a.request.options.onLoadEnd.set(function(b,e,f){f.quiet||(a.Masks.hide("Q.request.load.mask"),a.Masks.hide("Q.request.cancel.mask"))},"Q.request.load.mask");a.layout()},"Q.Masks");if("undefined"!==typeof module&&"undefined"!==typeof process)module.exports=a;else{a.noConflict=function(b){b&&a.extend(R,a);H.Q=R;return a};var R=H.Q;H.Q=a}}).call(this);"use strict";
(function(b,a){function K(a,b){var k=setTimeout(function(){console.warn("Facebook is not responding to FB.getLoginStatus within 2 sec.");a({})},2E3);FB.getLoginStatus(function(b){clearTimeout(k);a(b)},b)}function P(g,e){function J(e){var g=a(this);e.preventDefault();if(!g.data("cancelSubmit")&&g.is(":visible")){var l=a("input:not([type=hidden])",g).add("button",g).eq(0);a("#Users_login_identifier").outerHeight();a("input",g).css({"background-image":"url("+b.info.imgLoading+")","background-repeat":"no-repeat",
"background-size":"auto "+l.height()+"px","background-position":"right center"});if(window.CryptoJS){e=a("#Users_form_passphrase");var r=e.val();r?(/^[0-9a-f]{40}$/i.test(r)||e.val(CryptoJS.SHA1(e.val()+"\t"+la)),a("#Users_login_isHashed").attr("value",1)):a("#Users_login_isHashed").attr("value",0)}e=g.attr("action")+"?"+g.serialize();b.request(e,"data",function(e,r){a("#Users_form_passphrase").attr("value","");a("input",g).css("background-image","none");if(e||r.errors)r.errors&&g.data("validator").invalidate(b.ajaxErrors(r.errors,
[l.attr("name")])),a("#Users_login_identifier").blur(),l.plugin("Q/clickfocus");else{k.sessionId=b.cookie(b.sessionName());k.roles=r.slots.data.roles||{};switch(g.data("form-type")){case "resend":a("button",g).html("Sent").attr("disabled","disabled");D.dialog.data("Q/dialog").close();return;case "register":q.result="registered"}q.used=a("#Users_login_step1_form").data("used");var u="Success!",J;if(J=r.slots.data.user)u="Welcome, "+(J.displayName||J.username)+"!";a("button",g).html(u).attr("disabled",
"disabled");q.login_onConnect&&(q.login_connected=!0,D.dialog&&D.dialog.data("Q/dialog").close(),q.login_onConnect(r.slots.data.user))}},{method:"post"})}}function r(){var e=a('<input type="password" name="passphrase" id="Users_form_passphrase" class="Q_password" />').attr("maxlength",b.text.Users.login.maxlengths.passphrase).attr("maxlength",b.text.Users.login.maxlengths.passphrase).attr("autocomplete","current-password").on("change keyup input",function(){a("#Users_login_passphrase_forgot").css("display",
a(this).val()?"none":"inline")}),g=a('<a class="Q_button Users_login_start Q_main_button" />').html(b.text.Users.login.loginButton).on(b.Pointer.start,function(){k.submitClosestForm.apply(this,arguments);return!1}),g=a('<form method="post" />').attr("action",b.action("Users/login")).data("form-type","login").append(a("<div id='Users_login_label_div'>").append(a('<label for="Users_login_passphrase" />').html(b.text.Users.login.passphrase))).append(a("<div id='Users_login_passphrase_div' >").append(e,
a('<a id="Users_login_passphrase_forgot" href="#forgot"/>').html(b.text.Users.login.forgot).on(b.Pointer.touchclick,function(){function e(){b.req("Users/resend","data",function(e){a("#Users_login_step1").hide();a("#Users_login_step2").empty().append(a('<div id="Users_login_resend_success" />').append(a("<p />").html(b.text.Users.login.resendSuccess),a('<button class="Q_button Q_main_button" />').html(b.text.Users.login.resendClose).click(function(){D.dialog.data("Q/dialog").close()})))},{method:"post",
fields:{identifier:A.val()}})}b.text.Users.login.resendConfirm?confirm(b.text.Users.login.resendConfirm)&&e():e();return!1}))).append(a('<input type="hidden" name="identifier" />').val(A.val())).append(a('<div class="Q_buttons"></div>').append(g)).append(a('<input type="hidden" name="isHashed" id="Users_login_isHashed" value="0" />'));setTimeout(function(){a("#Users_login_passphrase_div").width(e.outerWidth())},10);return g}function v(e){e=e?a('<p id="Users_login_noPassphrase"></p>').html(b.text.Users.login.noPassphrase):
a('<p id="Users_login_notVerified"></p>').html(b.text.Users.login.notVerified);return a('<form method="post" />').attr("action",b.action("Users/resend")).data("form-type","resend").append(e).append(a('<div class="Q_buttons"></div>').append(a('<button id="Users_login_resend" class="Q_button Users_login_start Q_main_button" />').html(b.text.Users.login.resendButton).attr("name","resend").click(l))).append(a('<input type="hidden" name="identifier" />').val(A.val()))}function u(e,g,l,r){var q=g.entry[0].photos&&
g.entry[0].photos.length?g.entry[0].photos[0].value:g.entry[0].thumbnailUrl,u=q,J=q,v=q,z=g.entry[0].preferredUsername||g.entry[0].displayName;l.registerInfo&&(l.registerInfo.username&&(z=l.registerInfo.username),l.registerInfo.pic&&(u=J=q=v=l.registerInfo.pic));q=a("<img />").attr("src",q).attr("title","You can change this picture later");q.tooltip&&q.tooltip();var q=a("<table />").append(a("<tr />").append(a('<td class="Users_login_picture" />').append(q)).append(z=a('<td class="Users_login_username_block" />').append(a('<label for="Users_login_username" />').html(b.text.Users.login.username)).append(a('<input id="Users_login_username" name="username" type="text" class="text" />').attr("maxlength",
b.text.Users.login.maxlengths.username).attr("placeholder",b.text.Users.login.placeholders.username).val(z).width(a("#Users_login_identifier").width()-30)))),F=a('<form method="post" class="Users_register_form" />').attr("action",b.action("Users/register")).data("form-type","register").append(q).append(a('<input type="hidden" name="identifier" />').val(e)).append(a('<input type="hidden" name="icon[40.png]" />').val(u)).append(a('<input type="hidden" name="icon[50.png]" />').val(J)).append(a('<input type="hidden" name="icon[80.png]" />').val(v)).append(a('<div class="Users_login_get_started">&nbsp;</div>').append(a('<button type="submit" class="Q_button Users_login_start Q_main_button" />').html(b.text.Users.login.registerButton))).submit(function(){a(this).removeData("cancelSubmit");
a("#Users_agree").attr("checked")||(confirm(b.text.Users.login.confirmTerms)?a("#Users_agree").attr("checked","checked"):a(this).data("cancelSubmit",!0))});l.activation&&F.append(a('<input type="hidden" name="activation" />').val(l.activation));g.termsLabel&&z.append(a("<div />").attr("id","Users_register_terms").append(a('<input type="checkbox" name="agree" id="Users_agree" value="yes">')).append(a('<label for="Users_agree" />').html(g.termsLabel)));var D;"facebook"===a("#Users_login_step1_form").data("used")&&
k.initFacebook(function(){var b;if(D=FB.getAuthResponse())for(b in D)F.append(a('<input type="hidden" />').attr("name","Users[facebook_authResponse]["+b+"]").attr("value",D[b]))});"facebook"===a("#Users_login_step1_form").data("used")&&F.append(a('<input type="hidden" name="provider" value="facebook" />'));if(g.emailExists||g.mobileExists)e=a('<p id="Users_login_identifierExists" />').html(g.emailExists?b.text.Users.login.emailExists:b.text.Users.login.mobileExists),a("a",e).click(function(){a.post(b.ajaxExtend(b.action("Users/resend"),
"data"),"identifier="+encodeURIComponent(A.val()),function(){r.close()});return!1}),F.append(e);return F}function z(){var b=a("#Users_login_passphrase_div"),e=a("#Users_login_passphrase_forgot");e.css("bottom",(b.outerHeight(!0)-e.outerHeight(!0))/2+"px")}var A=a("#Users_login_identifier"),M=a("#Users_login_step1_form");A.css("background-image","none");if(e.errors)M.data("validator").invalidate(b.ajaxErrors(e.errors,["identifier"])),A.plugin("Q/clickfocus");else{M.data("validator").reset();A.blur();
var P=e.slots.data,K,ja=!1,ba=k.login.options.setupRegisterForm||u;"facebook"===M.data("used")?(ja=!0,k.authenticate("facebook",function(b){var e=b&&b.username?"Welcome, "+b.username+"!":"Success!";void 0!==K&&a("button",K).html(e).attr("disabled","disabled");q.login_onConnect&&(q.login_connected=!0,F.dialog&&F.dialog.data("Q/dialog").close(),D.dialog&&D.dialog.data("Q/dialog").close(),q.login_onConnect(b))},function(){alert("Could not authenticate with facebook. Try again.")},{prompt:!1})):K=P.exists?
P.passphrase_set?r():P.verified?v(!0):v(!1):ba(A.val(),P,q,D.dialog.data("Q/dialog"));var la=e.slots.data.exists;a("#Users_login_usingProviders").hide();M.data("used")&&a("*",M).attr("disabled","disabled");ja||(M=a("#Users_login_step2").html(K),b.info&&b.info.isTouchscreen?(M.show(),b.info.isAndroid()||K.plugin("Q/placeholders"),a("input",K).eq(0).plugin("Q/clickfocus").select(),z()):M.slideDown("fast",function(){z();K.plugin("Q/placeholders");"resend"===K.data("form-type")?a(".Q_main_button",K).focus():
b.info.isTouchscreen||a("input",K).eq(0).plugin("Q/clickfocus").select()}),b.activate(a("#Users_login_step2").get(0)));a("#Users_login_step1").animate({opacity:.5},"fast");a("#Users_login_step1 .Q_button").attr("disabled","disabled");ja||(K.validator().submit(J),a("input",K).add("select",K).on("input",function(){K.data("validator")&&K.data("validator").reset(a(this))}));q.linkToken&&a("#Users_login_step1").hide()}}function D(g,e,J,r){function z(){if(!v){a("#Users_login_step1").next().is(":visible")&&
(a("#Users_login_step1").animate({opacity:1},"fast"),a("#Users_login_step1 *").removeAttr("disabled"));q.registerInfo=null;var b=a("#Users_login_step1").nextAll();b.is(":visible")&&b.slideUp("fast").each(function(){var b=a("form",a(this)).data("validator");b&&b.reset()});"none"===a("#Users_login_usingProviders").css("display")&&a("#Users_login_usingProviders").css({opacity:0}).show().animate({opacity:1},"fast")}}a("#Users_login_step1_form").data("used",null);if(!D.dialog){var u=a('<form id="Users_login_step1_form" method="post" autocomplete="on" />'),
A=a('<div id="Users_login_step1" class="Q_big_prompt" />').html(u),F=a('<div id="Users_login_step2" class="Q_big_prompt" />'),M=b.text.Users.login.placeholders.identifier,K="email",ga=r?r.split(","):[];1===ga.length&&("email"==ga[0]?(K="email",M=b.text.Users.login.placeholders.email):"mobile"==ga[0]&&(K="tel",M=b.text.Users.login.placeholders.mobile));b.addScript("plugins/Q/js/sha1.js");M=a('<input id="Users_login_identifier" autocomplete="email" type="'+K+'" class="text" />').attr("maxlength",b.text.Users.login.maxlengths.identifier).attr("placeholder",
M).attr("autocomplete","username").focus(z);"email"===K?M.attr("name","email"):"mobile"===K&&M.attr("name","phone");var ja=a('<a class="Q_button Users_login_go Q_main_button" />').append(a('<span id="Users_login_go_span">'+b.text.Users.login.goButton+"</span>")).on(b.Pointer.touchclick,function(){l.apply(ja,arguments)}).on(b.Pointer.click,function(a){a.preventDefault()}),K=b.plugins.Users.login.serverOptions.noRegister?b.text.Users.login.directionsNoRegister:b.text.Users.login.directions;u.html(a('<label for="Users_login_identifier" />').html(K)).append("<br />").append(M).append(a('<input id="Users_login_identifierType" type="hidden" name="identifierType" />').val(r)).append("&nbsp;").append(ja).append(a('<div id="Users_login_explanation" />').html(b.text.Users.login.explanation)).submit(function(e){a("#Users_login_identifier").attr("name",
"identifier");if(a(this).is(":visible")){a(".Q_button",a(this)).focus();var g=a("#Users_login_identifier").outerHeight()-5;a("#Users_login_identifier").css({"background-image":"url("+b.info.imgLoading+")","background-repeat":"no-repeat","background-position":"right center","background-size":"auto "+g+"px"}).trigger("Q_refresh");g=b.action(k.login.options.userQueryUri)+"?"+a(this).serialize();b.request(g,["data"],P,{xhr:b.info.isTouchscreen?"sync":{}})}e.preventDefault()}).on("keydown change click input",
z);if(b.info.isTouchscreen)M.on("keyup",function(){var b=a(this).val();if(0!==b.length){var e=b.replace(/[^0-9]/g,"");"1"===e[0]&&11===e.length||"1"!==e[0]&&10===e.length?a(this).blur():0<=b.indexOf("@")&&(b=b.split(".").pop(),0<="com net org edu gov info mil".split(" ").indexOf(b)&&a(this).blur())}});u.validator();r=a('<div id="Users_login_usingProviders" />');for(M=K=0;M<g.length;++M)switch(g[M]){case "facebook":if(!b.plugins.Users.facebookApps[b.info.app]||!b.plugins.Users.facebookApps[b.info.app].appId)break;
++K;ga=a('<a href="#login_facebook" id="Users_login_with_facebook" />').append(a('<img alt="login with facebook" />').attr("src",b.text.Users.login.facebookSrc||b.url("plugins/Users/img/facebook-login.png"))).css({display:"inline-block","vertical-align":"middle"}).click(function(){k.initFacebook(function(){FB.login(function(e){e.authResponse&&(u.data("used","facebook"),e=b.pipe(["me","picture"],function(e){var g=e.me[0];e=e.picture[0].data;if(!g.email)return u.data("used",null),alert(b.text.Users.login.facebookNoEmail),
a("#Users_login_identifier").plugin("Q/clickfocus"),!0;q.registerInfo={firstName:g.first_name,lastName:g.last_name,gender:g.gender,birthday:g.birthday,timezone:g.timezone,locale:g.locale,verified:g.verified,pic:e.url,picWidth:e.width,picHeight:e.height};a("#Users_login_identifier").val(g.email).closest("form").submit()}),FB.api("/me/picture",{redirect:!1,height:"200",type:"normal",width:"200"},e.fill("picture")),FB.api("/me",e.fill("me")))},e?{scope:e}:void 0)});return!1});r.append(b.text.Users.login.usingOther).append(ga);
b.addScript("http://connect.facebook.net/en_US/sdk.js")}K&&A.append(r);a("input",u).add("select",u).on("input",function(){u.data("validator")&&u.data("validator").reset(a(this))});var ba=a('<div id="Users_login_dialog" class="Users_login_dialog" />');g=a('<div class="title_slot" />');g.append(a('<h2 class="Users_dialog_title Q_dialog_title" />').html(b.text.Users.login.title));r=a('<div class="dialog_slot Q_dialog_content">');r.append(A).append(F);ba.append(g).append(r).appendTo(a(J));ba.plugin("Q/dialog",
{alignByParent:!0,beforeLoad:function(){a("#Users_login_step1").css("opacity",1).nextAll().hide();a("input",ba).val("")},onActivate:function(){ba.plugin("Q/placeholders");a("input",ba).eq(0).val("").plugin("Q/clickfocus")},onClose:function(){a("#Users_login_step1 .Q_button").removeAttr("disabled");a("form",ba).each(function(){var b=a(this).data("validator");b&&b.reset()});a("#Users_login_step1").nextAll().hide();!q.login_connected&&q.login_onCancel&&q.login_onCancel();a(this).remove();D.dialog=null}});
D.dialog=ba}}function z(g,e){var k=a("#Users_setIdentifier_identifier"),l=a("#Users_setIdentifier_step1_form");k.css("background-image","none");b.firstErrorMessage(g,e&&e.errors)?(b.handle(q.setIdentifier_onCancel,this,[g,e]),l.data("validator").invalidate(b.ajaxErrors(e.errors,"identifier")),k.plugin("Q/clickfocus")):(l.data("validator").reset(),b.handle(q.setIdentifier_onSuccess),F.dialog.data("Q/dialog").close())}function F(g,e){e=e||{};var k=b.text.Users.setIdentifier.placeholders.identifier,
l=g?g.split(","):[];1===l.length&&("email"==l[0]?k=b.text.Users.setIdentifier.placeholders.email:"mobile"==l[0]&&(k=b.text.Users.setIdentifier.placeholders.mobile));var v=a('<form id="Users_setIdentifier_step1_form" />'),l=a('<div id="Users_setIdentifier_step1" class="Q_big_prompt" />').html(v);v.empty().append(a('<input id="Users_setIdentifier_identifier" type="email" name="identifier" class="text" />').attr("maxlength",b.text.Users.login.maxlengths.identifier).attr("placeholder",k)).append(a('<input id="Users_setIdentifier_type" type="hidden" name="identifierType" />').val(g)).append(a('<div class="Q_buttons"/>').html(a('<button type="submit" class="Q_button Users_setIdentifier_go Q_main_button" />').html(b.text.Users.setIdentifier.sendMessage))).submit(function(e){var g=
a("#Users_setIdentifier_identifier").outerHeight()-5;a("#Users_setIdentifier_identifier").css({"background-image":"url("+b.info.imgLoading+")","background-repeat":"no-repeat","background-position":"right center","background-size":"auto "+g+"px"});g=b.action("Users/identifier")+"?"+a(this).serialize();b.request(g,"data",z,{method:"post"});e.preventDefault()});v.validator();var u=a('<div id="Users_setIdentifier_dialog" class="Users_setIdentifier_dialog" />'),k=a('<div class="title_slot">').append(a('<h2 class="Users_dialog_title Q_dialog_title" />').html(e.title||
b.text.Users.setIdentifier.title)),l=a('<div class="dialog_slot Q_dialog_content">').append(l);u.append(k).append(l).appendTo(document.body);u.plugin("Q/dialog",{alignByParent:!0,beforeLoad:function(){a("input",u).val("")},onActivate:function(){u.plugin("Q/placeholders");a("input",u).eq(0).val("").plugin("Q/clickfocus")},onClose:function(){a("form",u).each(function(){var b=a(this).data("validator");b&&b.reset()});q.setIdentifier_onCancel&&q.setIdentifier_onCancel();a(this).remove();F.dialog=null}});
F.dialog=u}var k=b.Users=b.plugins.Users={info:{},facebookApps:{},connected:{}};b.text.Users={login:{title:"Welcome",directions:"Create an account, or log in.",directionsNoRegister:"Log in if you have an account.",explanation:null,goButton:"Go",passphrase:"Enter your pass phrase:",loginButton:"Get Started",registerButton:"Get Started",resendButton:"Send Activation Message",forgot:"Forgot it?",resendConfirm:"Do you want to send a message to reset your passphrase?",resendSuccess:"Check for a message to reset your passphrase",
resendClose:"Close",noPassphrase:"Before you can log in, you must set a pass phrase by clicking the link in your activation message.",notVerified:"You must send yourself an activation message in order to log in.",emailExists:"Did you try to register with this email before? If so, check your inbox to activate your account. <a href='#resend'>Click to re-send the message</a>.",mobileExists:"Did you try to register with this mobile number before? If so, check your SMS to activate your account. <a href='#resend'>Click to re-send the message</a>.",
usingOther:"or you can ",facebookSrc:null,username:"Choose a username:",placeholders:{identifier:"your mobile # or email",mobile:"enter your mobile #",email:"enter your email address",username:"username"},maxlengths:{identifier:100,username:32,passphrase:100},confirmTerms:"Accept the Terms of Service?",facebookNoEmail:"Your facebook account is missing a confirmed email address. Simply log in the native way."},setIdentifier:{title:"Add a way to log in",sendMessage:"Send Activation Message",placeholders:{identifier:"enter your mobile # or email",
mobile:"enter your mobile number",email:"enter your email address",username:"username"}},prompt:{title:"{$Provider} Account",areUsing:"You are using {$provider} as",noLongerUsing:"You are no longer connected to {$provider} as",doAuth:"Log in with this account",doSwitch:"Switch to this account"},authorize:{mustAgree:"First you must agree to the terms."}};var q={};k.onError=new b.Event(function(a,e){console.warn(b.firstErrorMessage(a,e))},"Users.onError");k.initFacebook=function(g,e){function l(){!k.initFacebook.completed[b.info.app]&&
b.plugins.Users.facebookApps[b.info.app]&&(FB.init(b.extend({appId:b.plugins.Users.facebookApps[b.info.app].appId,version:"v2.3",status:!0,cookie:!0,oauth:!0,xfbml:!0,channelUrl:b.action("Users/facebookChannel")},k.initFacebook.options,e)),k.onInitFacebook.handle(k,window.FB,[b.info.app]));k.initFacebook.completed[b.info.app]=!0;g&&g()}if(!b.plugins.Users.facebookApps[b.info.app]||!b.plugins.Users.facebookApps[b.info.app].appId)throw new b.Error("Users.initFacebook: missing facebook app info for '"+
b.info.app+"'");k.initFacebook.completed[b.info.app]?g&&g():(a("#fb-root").length||a("body").prepend(a('<div id="fb-root"></div>')),b.addScript("https://connect.facebook.net/en_US/sdk.js",l,{onError:function(){console.log("Couldn't load script:",this,arguments)}}))};k.initFacebook.completed={};k.initFacebook.options={frictionlessRequests:!0};k.initFacebook.ready=function(a,e){function l(){FB.getAccessToken()?e():K(function(a){e()})}"function"===typeof a&&(e=a,a=b.info.app);k.initFacebook.completed[a]?
l():k.onInitFacebook.set(l,"Users.initFacebook.ready")};k.authenticate=function(g,e,l,r){if("facebook"!==g)throw new b.Error("Users.authenticate: The only supported provider for now is facebook");r=r||{};var v={};k.authenticate.occurring=!0;k.initFacebook(function(){K(function(u){function z(a){k.connected.facebook=!0;k.onConnected.handle.call(k,g,a,r);b.handle(e,this,[a,r]);k.authenticate.occurring=!1}function A(a){a&&b.cookie("Users_ignoreFacebookUid",a);delete k.connected.facebook;k.onConnectionLost.handle.call(k,
g,r);b.handle(l,k,[r]);k.authenticate.occurring=!1}function F(){FB.getAuthResponse()?(v.Users={facebook_authResponse:u.authResponse},a.post(b.ajaxExtend(b.action("Users/authenticate"),"data",{method:"post"}),a.param(v),function(a){a.errors?(alert(a.errors[0].message),A()):(a=a.slots.data,!0!==a.authenticated&&(q.result=a.authenticated),q.used="facebook",a.result=a.authenticated,a.used="facebook",k.loggedInUser=new k.User(a),b.nonce=b.cookie("Q_nonce"),z(a))},"json")):(alert("Connection to facebook was lost. Try connecting again."),
A())}if("connected"===u.status){var D=parseInt(u.authResponse.userID),K=parseInt(b.cookie("Users_ignoreFacebookUid"));b.cookie("Users_ignoreFacebookUid",D);if(k.loggedInUser&&k.loggedInUser.fb_uid==D)z(null);else if(void 0===r.prompt||null===r.prompt)D===K?A():k.prompt("facebook",D,F,A);else if(!1===r.prompt)F();else if(!0===r.prompt)k.prompt("facebook",D,F,A);else if("function"===typeof r.prompt)r.prompt("facebook",D,F,A);else throw k.authenticate.occurring=!1,new b.Error("Users.authenticate: options.prompt is the wrong type");
}else b.plugins.Users.facebookApps[b.info.app]&&(b.cookie("fbs_"+b.plugins.Users.facebookApps[b.info.app].appId,null,{path:"/"}),b.cookie("fbsr_"+b.plugins.Users.facebookApps[b.info.app].appId,null,{path:"/"}),A())},r.force?!0:!1)})};k.prompt=function(g,e,l,r,q){function u(b,e){return a("<table />").append(a("<tr />").append(a("<td class='Users_profile_pic' />").html("<fb:profile-pic uid='"+b+"' linked='false' size='square' class='fb_profile_pic'></fb:profile-pic>")).append(a("<td class='Users_explanation_name' />").append(a("<div class='Users_explanation' />").html(e)).append("<fb:name uid='"+
b+"' useyou='false' linked='false' size='square' class='fb_name'>user id "+b+"</fb:name>")))}function v(b){return a("<div class='Users_actions Q_big_prompt' />").append(a('<button type="submit" class="Q_button Q_main_button" />').html(b).click(function(){D=!0;k.prompt.overlay.data("Q/overlay").close();l()}))}if("facebook"!==g)throw new b.Error("Users.authenticate prompt: The only supported provider for now is facebook");if(!k.prompt.overlay){q=b.extend({},k.prompt.options,q);b.addStylesheet(b.url("plugins/Users/css/Users.css"));
var A=b.text.Users.prompt.title.replace(/{\$provider}/g,g).replace(/{\$Provider}/g,g.toCapitalized()),z=b.text.Users.prompt.areUsing.replace(/{\$provider}/g,g).replace(/{\$Provider}/g,g.toCapitalized()),F=b.text.Users.prompt.noLongerUsing.replace(/{\$provider}/g,g).replace(/{\$Provider}/g,g.toCapitalized()),D=!1,K=a("<div />");k.loggedInUser&&parseInt(k.loggedInUser.fb_uid)?(K.append(u(k.loggedInUser.fb_uid,F)),g=b.text.Users.prompt.doSwitch.replace(/{\$provider}/,g).replace(/{\$Provider}/,g.toCapitalized())):
g=b.text.Users.prompt.doAuth.replace(/{\$provider}/,g).replace(/{\$Provider}/,g.toCapitalized());K.append(u(e,z)).append(v(g));k.prompt.overlay=a('<div id="Users_prompt_overlay" class="Users_prompt_overlay" />');g=a('<div class="title_slot" />');g.append(a('<h2 class="Users_dialog_title Q_dialog_title" />').html(A));A=a('<div class="dialog_slot Q_dialog_content">');A.append(K);k.prompt.overlay.append(g).append(A).appendTo(a(q.dialogContainer))}b.Dialogs.push({dialog:k.prompt.overlay,alignByParent:!0,
doNotRemove:!0,onActivate:function(){k.initFacebook(function(){FB.XFBML.parse(K.get(0))})},onClose:function(){D||r&&r(e);D=!1}})};k.scope=function(a,e){if("facebook"!==a)throw new b.Error("Users.scope: The only supported provider for now is facebook");k.initFacebook(function(){FB.getAuthResponse()||e(null);FB.api("/me/permissions",function(a){a&&a.data&&void 0!==a.data[0]?e(a.data[0]):e(null)})})};k.login=function(g){function e(){if(u.tryQuietly)return 0<=u.using.indexOf("facebook")&&(u.force=!0,
k.authenticate("facebook",function(a){l(a)},function(){r()},u)),!1;q.result=null;q.used=null;if(0<=u.using.indexOf("native")){var b=0<=u.using.indexOf("facebook")?["facebook"]:[];D(b,u.scope,u.dialogContainer,u.identifierType);q.login_onConnect=l;q.login_onCancel=r;q.linkToken=null;q.scope=u.scope;q.activation=u.activation;b=D.dialog;"none"==b.css("display")&&b.data("Q/dialog").load();a("#Users_login_step1").show();a("#Users_login_usingProviders").show();a("#Users_login_step1_form *").removeAttr("disabled");
a("#Users_login_identifierType").val(u.identifierType)}else"facebook"===u.using[0]&&k.initFacebook(function(){FB.login(function(a){a.authResponse?u.scope?k.scope("facebook",function(a){function b(){k.authenticate("facebook",function(a){l(a)},function(){r()},{prompt:!1})}if(a){for(var e=u.scope.split(","),g=0;g<e.length;++g)if(!e[g]){r(a);return}b()}else r(null)}):_success():r()},u.scope?{scope:u.scope}:void 0)});delete q.login_connected}function l(a){a&&(a.result=q.result,a.used=q.used,k.loggedInUser=
new k.User(a),b.nonce=b.cookie("Q_nonce"));u.accountStatusUrl?b.request(u.accountStatusUrl,"accountStatus",function(e,g){g.slots?(k.login.occurring=!1,u.onRequireComplete&&"complete"!==g.slots.accountStatus?"refresh"===g.slots.accountStatus?b.handle(window.location):!1!==b.handle(u.onResult,this,[a,g,u])&&b.handle(u.onRequireComplete,this,[a,g,u]):v(a)):g.errors&&g.errors[0].message&&alert(g.errors[0].message)}):v(a)}function r(a){!1!==b.handle(u.onResult,this,[a,u])&&b.handle(u.onCancel,this,[a,
u]);k.login.occurring=!1}function v(a){k.onLogin.handle(a);var e=q.used||"native";!1!==b.handle(u.onResult,this,[a,u,q.result,e])&&b.handle(u.onSuccess,this,[a,u,q.result,e]);k.login.occurring=!1}"function"===typeof g&&(g={onSuccess:{options:g}},1<arguments.length&&(g.onRequireComplete={"Users.login.options":arguments[1]}));var u=b.extend({},k.login.options,g);"string"===typeof u.using&&(u.using=u.using.split(","));k.login.occurring=!0;0<=!u.using.indexOf("native")?e():a.fn.plugin.load("Q/dialog",
e);return!1};k.logout=function(a){function e(a){if(a&&a.slots&&a.slots.script)try{eval(a.slots.script)}catch(e){alert(e)}k.logout.occurring=!1;k.sessionId=b.cookie(b.sessionName());k.roles={};if(k.facebookApps[b.info.app]&&0<=l.using.indexOf("facebook")){b.cookie("fbs_"+b.plugins.Users.facebookApps[b.info.app].appId,null,{path:"/"});b.cookie("fbsr_"+b.plugins.Users.facebookApps[b.info.app].appId,null,{path:"/"});if("native"===l.using[0]||"native"===l.using[1])k.loggedInUser=null,b.nonce=b.cookie("Q_nonce");
k.initFacebook(function(){K(function(a){a.authResponse?FB.logout(function(){delete k.connected.facebook;k.onLogout.handle.call(this,l);b.handle(l.onSuccess,this,[l])}):(k.onLogout.handle.call(this,l),b.handle(l.onSuccess,this,[l]))},!0)})}else k.loggedInUser&&parseInt(k.loggedInUser.fb_uid)&&b.cookie("Users_ignoreFacebookUid",k.loggedInUser.fb_uid),k.loggedInUser=null,b.nonce=b.cookie("Q_nonce"),k.onLogout.handle.call(this,l),b.handle(l.onSuccess,this,[l])}"function"===typeof a&&(a={onSuccess:{options:a}});
var l=b.extend({},k.logout.options,a);"string"===typeof l.using&&(l.using=l.using.split(","));k.logout.occurring=!0;if(!l.url)return e(),!1;a=l.url+(0>l.url.indexOf("?")?"?":"")+"&logout=1";b.request(a,"script",e,{method:"post"});return!0};k.loggedInUserId=function(){return k.loggedInUser?k.loggedInUser.id:""};k.get=function(a,e){b.action("Users/avatar");k.batchFunction(b.baseUrl({userIds:a}),"avatar").call(this,a,function(a,g){var l=b.firstErrorMessage(a)||b.firstErrorMessage(g&&g.errors);l||g.avatar||
(l="Users.get: data.avatar is missing");if(l)return k.onError.handle.call(this,l,a,g.avatar),k.get.onError.handle.call(this,l,a,g.avatar),e&&e.call(this,l);l=new k.User(g.avatar);e.call(l,a,l)})};k.get.onError=new b.Event;k.User=function(a){b.extend(this,a);this.typename="Q.Users.User"};k.User.prototype.iconUrl=function(a){return k.iconUrl(this.icon,a)};k.User.get=k.get;k.iconUrl=function(a,e){if(!a)return console.warn("Users.iconUrl: icon is empty"),"";e&&!0!==e||(e="40");e=0<=String(e).indexOf(".")?
e:e+".png";return a.isUrl()?a+"/"+e:b.url("plugins/Users/img/icons/"+a+"/"+e)};k.batchFunction=function(a,e){return b.batcher.factory(k.batchFunction.functions,a,"/action.php/Users/"+e,"batch","batch",{preprocess:function(a){var b=[],e;for(e=0;e<a.length;++e)b.push(a[e][0]);return{userIds:b}}})};k.batchFunction.functions={};b.onActivate.set(function(b){a(b||document).off("click.Users").on("click.Users","a",function(b){var g=a(this).attr("href");k.requireLogin&&k.requireLogin[g]&&("facebook"===k.requireLogin[g]?
k.connected.facebook||(k.login({using:"facebook",onSuccess:g}),b.preventDefault()):!0===k.requireLogin[g]&&(k.login({onSuccess:g}),b.preventDefault()))})},"Users");k.importContacts=function(a){window.open(b.action("Users/importContacts?provider="+a),"import_contacts","scrollbars,resizable,width=700,height=500")};k.setIdentifier=function(g){var e=b.extend({},k.setIdentifier.options,g);q.setIdentifier_onSuccess=function(a){!1!==b.handle(e.onResult,this,[a])&&b.handle(e.onSuccess,this,[a])};q.setIdentifier_onCancel=
function(a){!1!==b.handle(e.onResult,this,[a])&&b.handle(e.onCancel,this,[a])};a.fn.plugin.load(["Q/dialog","Q/placeholders"],function(){F(e.identifierType);var b=F.dialog;"none"==b.css("display")&&b.data("Q/dialog").load();a("#Users_setIdentifier_type").val(e.identifierType)})};var v=!1,l=k.submitClosestForm=function(){v=!0;a(this).closest("form").submit();setTimeout(function(){v=!1},500);return!1};k.vote=function(a,e,k){a={forType:a,forId:e};void 0!==k&&(a.value=k);b.req("Users/vote",["vote"],function(a,
e){var g=b.firstErrorMessage(a,e&&e.errors);if(g)return console.warn(g)},{method:"POST",fields:a})};k.hint=function(a,e,l){if(!e||!k.loggedInUser||0<=k.hinted.indexOf(a))return!1;b.Pointer.hint(e,l);k.hinted.push(a);k.vote("Users/hinted",a);return!0};k.facebookDialog=function(g){a(".Users_facebookDialog").remove();a(".Users_facebookDialog_shadow").remove();g=a.extend({position:null,shadow:!1,title:"Needs a title",content:"Needs content",buttons:{}},g);if(g.shadow){var e=a('<div class="Users_facebookDialog_shadow" />');
a("body").append(e)}var k=a('<div class="Users_facebookDialog"><div class="Users_facebookDialog_title">'+g.title+'</div><div class="Users_facebookDialog_content">'+g.content+"</div></div>"),l=a('<div class="Users_facebookDialog_buttons" />');b.each(g.buttons,function(b,e){var g=a("<button />").html(e.label||"Needs a label").click(function(a){return function(){a?a(k):(alert("Users.facebookDialog has no click handler for this button"),k.close())}}(e.handler)).appendTo(l);e["default"]&&g.addClass("Q_button Users_facebookDialog_default_button")});
k.append(l);a("body").append(k);g.position?k.css({left:g.position.x+"px",top:g.position.y+"px"}):k.css({left:(b.Pointer.windowHeight()-k.width())/2+"px",top:(b.Pointer.windowHeight()-k.height())/2+"px"});k.show();k.close=function(){k.remove();"undefined"!=typeof e&&e.remove()}};b.Tool.define({"Users/avatar":"plugins/Users/js/tools/avatar.js","Users/status":"plugins/Users/js/tools/status.js","Users/friendSelector":"plugins/Users/js/tools/friendSelector.js","Users/getintouch":"plugins/Users/js/tools/getintouch.js"});
b.beforeInit.add(function(){k.get=b.getter(k.get,{cache:b.Cache.document("Users.get",100),throttle:"Users.get"})},"Users");b.onInit.add(function(){b.Users.loggedInUser&&"Q.Users.User"!==b.typeOf(b.Users.loggedInUser)&&(b.Users.loggedInUser=new k.User(b.Users.loggedInUser),b.nonce=b.cookie("Q_nonce"));document.documentElement.className+=k.loggedInUser?" Users_loggedIn":" Users_loggedOut";b.plugins.Users.facebookApps[b.info.app]&&b.plugins.Users.facebookApps[b.info.app].appId&&k.initFacebook();k.sessionId=
b.cookie(b.sessionName());b.Users.login.options=b.extend({onCancel:new b.Event,onSuccess:new b.Event(function(a,e){if(a){var k=b.urls||{},k=e.successUrl||k[b.info.app+"/home"]||b.url("");b.handle(k)}},"Users"),onResult:new b.Event,onRequireComplete:new b.Event,accountStatusUrl:null,tryQuietly:!1,using:"native",scope:"email,public_profile,user_friends",linkToken:null,dialogContainer:"body",setupRegisterForm:null,identifierType:"email,mobile",activation:"activation"},b.Users.login.options,b.Users.login.serverOptions);
b.Users.logout.options=b.extend({url:b.action("Users/logout"),using:"native",onSuccess:new b.Event(function(a){var e=b.urls||{};b.handle(a.welcomeUrl||e[b.info.app+"/welcome"]||b.url(""))},"Users")},b.Users.logout.options,b.Users.logout.serverOptions);b.Users.setIdentifier.options=b.extend({onCancel:null,onSuccess:null,identifierType:"email,mobile"},b.Users.setIdentifier.options,b.Users.setIdentifier.serverOptions);b.Users.prompt.options=b.extend({dialogContainer:document.body},b.Users.prompt.options,
b.Users.prompt.serverOptions)},"Users");b.Page.onActivate("").add(function(){a.fn.plugin.load("Q/dialog");a.fn.plugin.load("Q/placeholders");a("#notices_set_email, #notices_set_mobile").on(b.Pointer.fastclick,function(){b.plugins.Users.setIdentifier();return!1})},"Users");b.beforeActivate.add(function(a){b.each(k.User.preloaded,function(a,b){var g=new k.User(b);k.get.cache.removeEach(b.id);b.id&&k.get.cache.set([b.id],0,g,[null,g])});k.preloaded=null},"Users");b.request.options.onProcessed.set(function(a,
e){var l=b.cookie(b.sessionName());l===k.sessionId||k.login.occurring||k.authenticate.occurring||k.logout.occurring||(b.nonce=b.cookie("Q_nonce"),b.req("Users/login","data",function(a,e){b.nonce=b.cookie("Q_nonce");var g=b.firstErrorMessage(a,e&&e.errors);if(g)return k.onError.handle(g,a);g=e.slots.data.user;!g&&k.loggedInUser?(k.loggedInUser=null,k.roles={},k.onLogout.handle()):g&&g.id!==k.loggedInUserId()&&(k.loggedInUser=new k.User(g),k.roles=e.slots.data.roles||{},k.onLogin.handle(g))}));k.sessionId=
l;if(e&&e.errors){for(var q=e.errors.length,v=!1,l=0;l<q;++l)switch(e.errors[l].classname){case "Users_Exception_NotLoggedIn":case "Q_Exception_NonceExpired":v=!0}v&&(b.Users.onLoginLost.handle(),b.Users.loggedInUser=null,b.Users.roles={})}},"Users");k.onInitFacebook=new b.Event;var A=document.documentElement;k.onLogin=new b.Event(function(){A.className=A.className.replace(" Users_loggedOut","")+" Users_loggedIn"},"Users");k.onLogout=new b.Event(function(){A.className=A.className.replace(" Users_loggedIn",
"")+" Users_loggedOut"});k.onLoginLost=new b.Event(function(){console.warn("Call to server was made which normally requires user login.")});k.onConnected=new b.Event;k.onConnectionLost=new b.Event})(Q,jQuery);"use strict";
(function(b,a){function K(a){if(!g.loggedInUser)return!1;e.getParticipating(function(a,e){b.each(e,function(a,e){b.Socket.connect("Streams",b.nodeUrl({publisherId:e.publisherId,streamName:e.streamName}))})});e.retainWith("Streams").get(g.loggedInUser.id,"Streams/participating");a&&e.refresh()}function P(){b.Socket.disconnectAll()}function D(a,e,g,k){b.Dialogs.push({url:b.action(a,e),removeOnClose:!0,onActivate:function(){g&&g.apply(this,arguments)},apply:!0}).addClass(k||"")}function z(a){a=a.fields;
({"Streams/user/firstName":!0,"Streams/user/lastName":!0,"Streams/user/username":!0,"Streams/user/icon":!0})[a.name]&&(g.get.force(a.publisherId),fa.get.force(a.publisherId))}function F(a){a.fields.messageCount&&(a.fields.messageCount=parseInt(a.fields.messageCount));a.fields.participantCount&&(a.fields.participantCount=parseInt(a.fields.participantCount));a.fields.access&&(a.access=b.copy(a.fields.access),delete a.fields.access);a.fields.isRequired&&(a.isRequired=a.fields.isRequired,delete a.fields.isRequired);
try{a.pendingAttributes=a.attributes=a.fields.attributes?JSON.parse(a.fields.attributes):{}}catch(e){a.pendingAttributes=a.attributes={}}a.pendingFields={}}function k(a,b){b.retainUnderKey=ha;ha=void 0}function q(a,e,g,k,l){g=k.retainUnderKey;void 0!=g&&!e[0]&&a&&("Q.Streams.Stream"===b.typeOf(a)?a.retain(g):(a.stream&&a.stream.retain(g),b.each(a.streams,"retain",[g]),b.each(a.relatedStreams,"retain",[g])))}function v(){e.get.cache.clear();e.related.cache.clear();e.getParticipating.cache.clear();
U.get.cache.clear();da.get.cache.clear();fa.get.cache.clear()}function l(){l.timeout&&clearTimeout(l.timeout);l.timeout=setTimeout(function(){var a=Date.now();void 0!==l.lastTime&&a-l.lastTime-1E3>l.delay&&(e.refresh.options.preventAutomatic||e.refresh());l.lastTime=a;setTimeout(l,1E3)},1E3)}function A(a,b){O.refresh(a,b,null,{messages:!0,unlessSocket:!0})}var g=b.Users,e=b.Streams=b.plugins.Streams={cache:{where:null}};b.text.Streams={access:{},basic:{prompt:null,title:"Basic Information"},login:{fullName:"Let friends recognize you:",
picTooltip:"You can change this picture later"},chat:{noMessages:""}};e.READ_LEVEL={none:0,see:10,content:20,participants:30,messages:40};e.WRITE_LEVEL={none:0,join:10,vote:13,postPending:18,post:20,relate:23,relations:25,suggest:28,edit:30,closePending:35,close:40};e.ADMIN_LEVEL={none:0,tell:10,invite:20,manage:30,own:40};e.defined={};e.define=function(a,g,k){function l(){l.constructors.apply(this,arguments);g.apply(this,arguments)}if("object"===typeof a)for(var q in a)b.Tool.define(q,a[q]);else{a=
b.normalize(a);if("string"===typeof g)return"function"!==typeof e.defined[a]?e.defined[a]=g:g;if("function"!==typeof g)throw new b.Error("Q.Streams.define requires ctor to be a string or a function");b.mixin(l,e.Stream);b.extend(l.prototype,k);return e.defined[a]=l}};e.iconUrl=function(a,e){if(!a)return console.warn("Streams.iconUrl: icon is empty"),"";e&&!0!==e||(e="40");e=0<=String(e).indexOf(".")?e:e+".png";var g=a+"/"+e;return a.isUrl()?g:b.url("plugins/Streams/img/icons/"+g)};var J={},r={},aa=
{},u={},X={},T={},M={},wa={},ga={},ja={},ba={},la={},ea={},pa={},H={},ha=void 0,qa={},C={},ka={};e.key=function(a,b){return a+"\t"+b};e.onError=new b.Event(function(a,e){(b.getObject([0,"errors",0,"code"],e)||b.getObject([1,"errors",0,"code"],e))&&console.warn(b.firstErrorMessage(a,e&&e.errors))},"Streams.onError");e.onInvitedDialog=new b.Event;e.onInvitedUserAction=new b.Event;e.onMessage=b.Event.factory(J,["",""]);e.onConstruct=b.Event.factory(r,[""]);e.onRefresh=b.Event.factory(aa,[""]);e.onEvent=
function(a){return b.Socket.onEvent("Streams",null,a)};e.onActivate=new b.Event;e.onInviteComplete=new b.Event;e.socketSessionId=function(a,e){var g=b.Socket.get("Streams",b.nodeUrl({publisherId:a,streamName:e}));return g?g.namespace.socket.sessionid:null};e.actionUrl=function(a,e,g){g||(g="stream");switch(g){case "stream":case "message":case "relation":return b.action("Streams/"+g,{publisherId:a,name:e,"Q.clientId":b.clientId()});default:return null}};b.Tool.define({"Users/avatar":"plugins/Streams/js/tools/avatar.js",
"Streams/chat":"plugins/Streams/js/tools/chat.js","Streams/comments":"plugins/Streams/js/tools/comments.js","Streams/photoSelector":"plugins/Streams/js/tools/photoSelector.js","Streams/userChooser":"plugins/Streams/js/tools/userChooser.js","Streams/participants":"plugins/Streams/js/tools/participants.js","Streams/basic":"plugins/Streams/js/tools/basic.js","Streams/access":"plugins/Streams/js/tools/access.js","Streams/subscription":"plugins/Streams/js/tools/subscription.js","Streams/interests":"plugins/Streams/js/tools/interests.js",
"Streams/related":"plugins/Streams/js/tools/related.js","Streams/inplace":"plugins/Streams/js/tools/inplace.js","Streams/html":"plugins/Streams/js/tools/html.js","Streams/player":"plugins/Streams/js/tools/player.js","Streams/preview":"plugins/Streams/js/tools/preview.js","Streams/image/preview":"plugins/Streams/js/tools/image/preview.js","Streams/file/preview":"plugins/Streams/js/tools/file/preview.js","Streams/category/preview":"plugins/Streams/js/tools/category/preview.js","Streams/category/player":"plugins/Streams/js/tools/category/player.js",
"Streams/form":"plugins/Streams/js/tools/form.js","Streams/activity":"plugins/Streams/js/tools/activity.js"});e.get=function(g,k,l,q){var L=arguments,r=b.action("Streams/stream?")+b.serializeFields({publisherId:g,name:k}),u=["stream"];q&&(q.participants&&(r+="&"+a.param({participants:q.participants}),u.push("participants")),q.messages&&(r+="&"+a.param({messages:q.messages}),u.push("messages")));e.batchFunction(b.baseUrl({publisherId:g,streamName:k})).call(this,"stream",u,g,k,function(a,r){var u=b.firstErrorMessage(a,
r&&r.errors);u||r&&r.stream||(u="Streams.get: data.stream is missing");if(u){!a||!a[0]||"Q_Exception_MissingRow"!==a[0].classname||q&&q.cacheIfMissing||!e.get.forget||setTimeout(function(){e.get.forget.apply(this,L)},0);var f=[a,r];e.onError.handle.call(this,u,f);e.get.onError.handle.call(this,u,f);return l&&l.call(this,u,f)}if(b.isEmpty(r.stream))return a=u="Stream "+g+" "+k+" is not available",f=[a,r,null],e.onError.handle(u,f),l&&l.call(null,a,null,q);e.construct(r.stream,{messages:r.messages,
participants:r.participants},function(a,f,g){var n;(n=b.firstErrorMessage(a))&&e.onError.handle(n,[a,r,f]);a=l&&l.call(f,a,f,g);if(!1===a)return!1;if(!n)return n=f.fields,g=b.getObject([n.type],aa),b.handle(g,f,[]),g=b.getObject([n.publisherId,n.name],H),b.handle(g,f,[]),a})},q);ha=void 0};e.get.onError=new b.Event;e.batchFunction=function(a,g){g=g||"batch";return b.batcher.factory(e.batchFunction.functions,a,"/action.php/Streams/"+g,"batch","batch",ta[g])};e.batchFunction.functions={};var ta={avatar:{preprocess:function(a){var b=
[],e;for(e=0;e<a.length;++e)b.push(a[e][0]);return{userIds:b}},max:100},batch:{max:100}};e.create=function(a,k,l,q){var r=["stream"];q=q||{};a=b.copy(a);a.icon&&r.push("icon");if(l){if(!l.publisherId||!l.streamName)throw new b.Error("Streams.create related needs publisherId and streamName");a["Q.Streams.related.publisherId"]=l.publisherId||l.publisherId;a["Q.Streams.related.streamName"]=l.streamName||l.streamName||l.name;a["Q.Streams.related.type"]=l.type;r.push("messageTo")}var u=b.baseUrl({publisherId:a.publisherId,
streamName:""});a["Q.clientId"]=b.clientId();q.form&&(a.file={path:"uploads/Streams"});var v=ha;b.req("Streams/stream",r,function(a,n){var q=b.firstErrorMessage(a,n&&n.errors);if(q){var f=[a,n];e.onError.handle.call(this,q,f);e.create.onError.handle.call(this,q,f);return k&&k.call(this,q,f)}l&&e.related.cache.each([l.publisherId,l.streamName],function(a){e.related.cache.remove(a)});e.construct(n.slots.stream,{},function(a,f){var q=b.firstErrorMessage(a);if(q)return k&&k.call(f,q,f,n.slots.icon);v&&
f.retain(v);q={};q.icon=n.slots.icon;if(l&&n.slots.messageTo){var r=q.messageTo=e.Message.construct(n.slots.messageTo);q.related={publisherId:l.publisherId,streamName:l.streamName,type:l.type,weight:r.get("weight")}}k&&k.call(f,null,f,q,n.slots);O.refresh(g.loggedInUserId(),"Streams/participating",null,{messages:!0,unlessSocket:!0})})},{method:"post",fields:a,baseUrl:u,form:q.form,resultFunction:q.resultFunction});ha=void 0};e.create.onError=new b.Event;e.construct=function(a,g,k){function l(){u.streamConstructor||
(u.streamConstructor=function(a){u.streamConstructor.constructors.apply(this,arguments);var f=this.fields;f.publisherId&&f.name&&e.get.cache.removeEach([f.publisherId,f.name]).set([f.publisherId,f.name],0,this,[null,this]);b.handle(r[f.type],this,[]);b.handle(r[""],this,[]);f.publisherId&&f.name&&(b.handle(b.getObject([f.publisherId,f.name],pa),this,[]),b.handle(b.getObject([f.publisherId,""],pa),this,[]),b.handle(b.getObject(["",f.name],pa),this,[]),b.handle(b.getObject(["",""],pa),this,[]))},b.mixin(u,
e.Stream),b.mixin(u.streamConstructor,u));var q=new u.streamConstructor(a),L={},v={};g&&g.messages&&b.each(g.messages,function(a,e){"Q.Streams.Message"!==b.typeOf(e)&&(e=U.construct(e));L[a]=e});g&&g.participants&&b.each(g.participants,function(e,f){"Q.Streams.Participant"!==b.typeOf(f)&&(f=new da(f));v[e]=f;da.get.cache.set([a.publisherId,a.name,f.userId],0,f,[null,f])});b.handle(k,q,[null,q,{messages:L,participants:v}]);return q}"function"===typeof g&&(k=g,g=null);if("Q.Streams.Stream"===b.typeOf(a))return b.handle(k,
a,[null,a]),!1;if(b.isEmpty(a))return b.handle(k,this,["Streams.Stream constructor: fields are missing"]),!1;var q=b.normalize(a.type),u=e.defined[q];u||(u=e.defined[q]=function(a){u.constructors.apply(this,arguments);if(a)for(var e in a)e in this.fields||"access"===e||"isRequired"===e||(this.fields[e]=b.copy(a[e]))});if("function"===typeof u)return l();if("string"===typeof u)return b.addScript(u,function(){u=e.defined[streamName];if("function"!==typeof u)throw Error("Streams.construct: streamFunc cannot be "+
typeof u);return l()}),!0;if("undefined"!==typeof u)throw Error("Streams.construct: streamFunc cannot be "+typeof u);};e.subscriptionDialog=function(a,b,e){D("Streams/subscription",{publisherId:a,streamName:b},e,"Streams_subscription_tool_dialog_container")};e.accessDialog=function(a,b,e){D("Streams/access",{publisherId:a,streamName:b},e,"Streams_access_tool_dialog_container")};e.displayName=function(a){return a.firstName+" "+a.lastName};e.getParticipating=function(a){a&&(b.req("Streams/participating",
"participating",function(b,e){a&&a(b,e&&e.slots&&e.slots.participating)}),ha=void 0)};e.refresh=function(a,g){if(!b.isOnline())return b.handle(a,this,[!1]),!1;var k=Date.now();if(k-e.refresh.lastTime<1E3*e.refresh.options.minSeconds)return!1;e.refresh.lastTime=k;var l=new b.Pipe(Object.keys(C),a);e.refresh.beforeRequest.handle(a,g);b.each(C,function(a){var b=a.split("\t");O.refresh(b[0],b[1],l.fill(a),g)});ha=void 0;return!0};e.refresh.options={duringEvents:["focus","pageshow"],minSeconds:3};e.refresh.lastTime=
0;e.refresh.beforeRequest=new b.Event;e.retainWith=function(a){ha=b.calculateKey(a,qa);return this};e.release=function(a){a=b.calculateKey(a);b.each(qa[a],function(e,g){C[e]&&(delete C[e][a],b.isEmpty(C[e])&&(delete C[e],delete ka[e]))});delete qa[a]};e.invite=function(a,k,l,q){function r(){return b.req("Streams/invite",["data"],function(a,g){var n=b.firstErrorMessage(a,g&&g.errors);if(n)return e.onError.handle.call(this,n,[a,g]);var f=g.slots.data;b.handle(v&&v.callback,null,[a,g,n]);b.handle(q,
null,[a,g,n]);n="future"!==v.followup||"future"===f.statuses[f.invited[0]];if(v.followup&&f.identifierType&&n)switch(n=b.info,f.identifierType){case "email":b.Template.render({subject:"Streams/followup/email/subject",body:"Streams/followup/email/body",alert:"Streams/followup/email/alert"},n,function(a){var b="mailto:"+v.identifier,b=b+("?subject="+encodeURIComponent(a.subject[1])),b=b+("&body="+encodeURIComponent(a.body[1]));a.alert[1]&&alert(a.alert[1]);window.location=b});break;case "mobile":b.Template.render({text:"Streams/followup/mobile",
alert:"Streams/followup/mobile/alert"},n,function(a){var e="sms:"+v.identifier;"ios"!==b.info.browser.OS&&(e+="?body="+encodeURIComponent(a.text[1]));a.alert[1]&&alert(a.alert[1]);window.location=e})}},{method:"post",fields:v,baseUrl:u})}if(!g.loggedInUser)return b.handle(q,null,["Streams.invite: not logged in"]),!1;var u=b.baseUrl({publisherId:a,streamName:k}),v=b.extend({},e.invite.options,l);v.publisherId=a;v.streamName=k;v.displayName=v.displayName||g.loggedInUser.displayName;if(v.identifier)return r();
b.prompt("Enter a mobile # or email address",function(a){a&&(v.identifier=a,r())},{title:"Invite"});return null};e.invite.options={followup:"future"};e.related=function(a,g,k,l,q,r){if("string"!==typeof a||"string"!==typeof k)throw new b.Error("Streams.related is expecting publisherId, relationType as strings");if(!a||!g)throw new b.Error("Streams.related is expecting publisherId and streamName to be non-empty");"boolean"!==typeof l&&(r=q,q=l,l=void 0);"function"===b.typeOf(q)&&(r=q,q={});q=q||{};
var u=l?"to":"from",v=l?"from":"to",A=v+"PublisherId",G=v+"StreamName",f=["relations","relatedStreams"],z={publisherId:a,streamName:g};q.messages&&f.push("messages");q.participants&&f.push("participants");k&&(z.type=k);b.extend(z,q);z.omitRedundantInfo=!0;void 0!==l&&(z.isCategory=l);var C=e.get.cache.get([a,g]);if(!C||q.stream)"string"===typeof g&&"/"!==g[g.length-1]?f.push("stream"):f.push("streams");k=b.baseUrl({publisherId:a,streamName:g});b.req("Streams/related",f,function(f,k){function l(f,
g){function q(a){for(var b in a)a[b]&&(void 0===a[b][0]?delete a[b]:a[b]=a[b][0]);r&&r.call({relatedStreams:w,relations:k.slots.relations,stream:g,errors:a},null)}var d=b.firstErrorMessage(f);if(d){var h=[f,g];return r&&r.call(this,d,h)}var c=new b.Pipe,m=[],t={},w={};b.each(k.slots.relatedStreams,function(a,d){if(b.isPlainObject(d)){var f=e.key(d.publisherId,d.name);m.push(f);t[f]=!0;e.construct(d,{},function(){w[f]=this;c.fill(f)()})}});b.each(k.slots.relations,function(d,f){f[u]=g;var h=e.key(f[A],
f[G]);t[h]||f[A]==a?f[v]=w[h]:(m.push(h),e.get(f[A],f[G],function(a,d){var e=b.firstErrorMessage(a,d&&d.errors);e?c.fill(h)(e):(f[v]=this,w[h]=this,c.fill(h)())}))});m.length?(c.add(m,q),c.run()):q()}var B=b.firstErrorMessage(f,k&&k.errors);if(B){var z=[f,k];e.onError.handle.call(this,B,z);e.related.onError.handle.call(this,B,z);return r&&r.call(this,B,z)}C&&C.subject?l(null,C.subject):(B={},q.messages&&(B.messages=k.slots.messages),q.participants&&(B.participants=k.slots.participants),k.slots.stream?
e.construct(k.slots.stream,B,l):r&&r.call(this,"Streams/related missing stream "+g+" published by "+a))},{fields:z,baseUrl:k});ha=void 0;if(!b.Socket.get("Streams",b.nodeUrl({publisherId:a,streamName:g})))return!1};e.related.onError=new b.Event;var O=e.Stream=function(a){this.constructed||(this.constructed=!0,this.fields=b.copy(a,"publisherId name type title content attributes icon messageCount participantCount insertedTime updatedTime readLevel writeLevel adminLevel inheritAccess closedTime access isRequired".split(" ")),
this.typename="Q.Streams.Stream",F(this,a))};O.get=e.get;O.create=e.create;O.construct=e.construct;O.define=e.define;O.retain=function(a,g,k,l){var q=e.key(a,g);k=b.calculateKey(k);e.get(a,g,function(a){a?ka[q]=null:(ka[q]=this,b.setObject([q,k],!0,C),b.setObject([k,q],!0,qa));b.handle(l,this,[a,this])})};O.release=function(a,g){var k=e.key(a,g);b.each(C[k],function(a,e){qa[a]&&delete qa[a][k];b.isEmpty(qa[a])&&delete qa[a]});delete C[k];delete ka[k]};O.refresh=function(a,g,k,l){var q=!C[e.key(a,
g)];if(!b.isOnline()||q&&(!l||!l.evenIfNotRetained))return e.get.cache.removeEach([a,g]),!1;q=!1;l&&l.messages&&(q=U.wait(a,g,-1,k,l));var r=b.nodeUrl({publisherId:a,streamName:g}),r=b.Socket.get("Streams",r);if(!1===q){if(r&&l&&l.unlessSocket)return!1;e.get.force(a,g,function(b,q){if(!b){var r=e.key(a,g);O.update(ka[r],this.fields,l&&l.changed||{});ka[r]=this}k&&(r=[b,q],l&&l.extra&&r.concat(extra),k&&k.apply(this,r))});q=!0}ha=void 0;return!0};O.refresh.ms=75;var Ea=b.debounce(O.refresh,O.refresh.ms),
S=O.prototype;S.retainWith=e.retainWith;S.iconUrl=function(a){return e.iconUrl(this.fields.icon,a)};S.getAll=function(a){return a?this.pendingAttributes:this.attributes};S.get=function(a,b){return this.getAll(b)[a]};S.set=function(a,e){this.pendingAttributes===this.attributes&&(this.pendingAttributes=b.copy(this.attributes));if("string"===typeof a)this.pendingAttributes[a]=e;else for(var g in a)this.pendingAttributes[g]=a[g];this.pendingFields.attributes=JSON.stringify(this.pendingAttributes)};S.clear=
function(a){this.pendingAttributes===this.attributes&&(this.pendingAttributes=b.copy(this.attributes));if("string"===typeof a)delete this.pendingAttributes[a];else for(var e=0;e<a.length;++e)delete this.pendingAttributes[a[e]];this.pendingFields.attributes=JSON.stringify(this.pendingAttributes)};S.save=function(a,g){var k=this,l=this.fields,q=this.pendingFields;q.publisherId=l.publisherId;q.name=l.name;q["Q.clientId"]=b.clientId();l=b.baseUrl({publisherId:q.publisherId,streamName:q.name});b.req("Streams/stream",
["stream"],function(g,l){var q=b.firstErrorMessage(g,l&&l.errors);if(q){var r=[g,l];e.onError.handle.call(this,q,r);return a&&a.call(this,q,r)}q=l.slots.stream||null;a&&a.call(k,null,q);q&&O.refresh(q.publisherId,q.name,null,{messages:!0,unlessSocket:!0})},{method:"put",fields:q,baseUrl:l})};S.close=function(a){return O.close(this.fields.publisherId,this.fields.name,a)};S.reopen=function(a){this.pendingFields.closedTime=!1;this.save(a)};S.retain=function(a){var g=e.key(this.fields.publisherId,this.fields.name);
a=b.calculateKey(a);ka[g]=this;b.setObject([g,a],!0,C);b.setObject([a,g],!0,qa);return this};S.release=function(){O.release(this.fields.publisherId,this.fields.name);return this};S.getMessage=function(a,b){return U.get(this.fields.publisherId,this.fields.name,a,b)};S.getParticipant=function(a,b){return da.get(this.fields.publisherId,this.fields.name,a,b)};S.onMessage=function(a){return O.onMessage(this.fields.publisherId,this.fields.name,a)};S.onUpdated=function(a){return O.onUpdated(this.fields.publisherId,
this.fields.name,a)};S.onFieldChanged=function(a){return O.onFieldChanged(this.fields.publisherId,this.fields.name,a)};S.onClosed=function(){return O.onClosed(this.fields.publisherId,this.fields.name,field)};S.onRelatedFrom=function(){return O.onRelatedFrom(this.fields.publisherId,this.fields.name)};S.onRelatedTo=function(){return O.onRelatedTo(this.fields.publisherId,this.fields.name)};S.onUnrelatedFrom=function(){return O.onUnrelatedFrom(this.fields.publisherId,this.fields.name)};S.onUnrelatedTo=
function(){return O.onUnrelatedTo(this.fields.publisherId,this.fields.name)};S.onUpdatedRelateFrom=function(){return O.onUpdatedRelateFrom(this.fields.publisherId,this.fields.name)};S.onUpdatedRelateTo=function(){return O.onUpdatedRelateTo(this.fields.publisherId,this.fields.name)};S.post=function(a,e){var g=b.extend({publisherId:this.fields.publisherId,streamName:this.fields.name},a);return U.post(g,e)};S.join=function(a){return O.join(this.fields.publisherId,this.fields.name,a)};S.leave=function(a){return O.leave(this.fields.publisherId,
this.fields.name,a)};S.testReadLevel=function(a){"string"===typeof a&&(a=e.READ_LEVEL[a]);if(void 0===a)throw new b.Error("Streams.Sp.testReadLevel: level is undefined");return this.access.readLevel>=a};S.testWriteLevel=function(a){"string"===typeof a&&(a=e.WRITE_LEVEL[a]);if(void 0===a)throw new b.Error("Streams.Sp.testWriteLevel: level is undefined");return this.access.writeLevel>=a};S.testAdminLevel=function(a){"string"===typeof a&&(a=e.ADMIN_LEVEL[a]);if(void 0===a)throw new b.Error("Streams.Sp.testAdminLevel: level is undefined");
return this.access.adminLevel>=a};S.accessDialog=function(a){return e.accessDialog(this.fields.publisherId,this.fields.name,a)};S.actionUrl=function(a){return e.actionUrl(this.fields.publisherId,this.fields.name,a)};S.invite=function(a,b){e.invite(this.fields.publisherId,this.fields.name,a,b)};S.refresh=function(a,b){return O.refresh(this.fields.publisherId,this.fields.name,a,b)};S.relatedFrom=function(a,b,g){return e.related(this.fields.publisherId,this.fields.name,a,!0,b,g)};S.relatedTo=function(a,
b,g){return e.related(this.fields.publisherId,this.fields.name,a,!1,b,g)};S.relateTo=function(a,b,g,k){return e.relate(b,g,a,this.fields.publisherId,this.fields.name,k)};S.relate=S.relateFrom=function(a,b,g,k){return e.relate(this.fields.publisherId,this.fields.name,a,b,g,k)};S.unrelateTo=function(a,b,g){return e.unrelate(this.fields.publisherId,this.fields.name,a,b,g)};S.unrelate=S.unrelateFrom=function(a,b,g){return e.unrelate(a,b,type,this.fields.publisherId,this.fields.name,g)};O.onMessage=b.Event.factory(u,
["","",""]);O.onFieldChanged=b.Event.factory(X,["","",""]);O.onUpdated=b.Event.factory(T,["","",""]);O.onUpdated=b.Event.factory(T,["","",""]);O.onClosed=b.Event.factory(M,["",""]);O.onRelatedTo=b.Event.factory(ga,["",""]);O.onRelatedFrom=b.Event.factory(wa,["",""]);O.onUnrelatedTo=b.Event.factory(ba,["",""]);O.onUnrelatedFrom=b.Event.factory(ja,["",""]);O.onUpdatedRelateTo=b.Event.factory(ea,["",""]);O.onUpdatedRelateFrom=b.Event.factory(la,["",""]);O.onConstruct=b.Event.factory(pa,["",""]);O.onRefresh=
b.Event.factory(H,["",""]);O.join=function(a,g,k){if(!b.plugins.Users.loggedInUser)throw Error("Streams.Stream.join: Not logged in.");var l={publisherId:a,name:g},q=b.baseUrl({publisherId:a,streamName:g,"Q.clientId":b.clientId()});b.req("Streams/join",["participant"],function(l,q){var r=b.firstErrorMessage(l,q&&q.errors);if(r){var u=[l,q];e.onError.handle.call(this,r,u);O.join.onError.handle.call(this,r,u);return k&&k.call(this,r,u)}r=new da(q.slots.participant);da.get.cache.set([r.publisherId,r.name,
r.userId],0,r,[l,r]);k&&k.call(r,l,r||null);A(a,g)},{method:"post",fields:l,baseUrl:q})};O.join.onError=new b.Event;O.leave=function(a,g,k){if(!b.plugins.Users.loggedInUser)throw Error("Streams.Stream.join: Not logged in.");var l={publisherId:a,name:g,"Q.clientId":b.clientId()},q=b.baseUrl({publisherId:a,streamName:g});b.req("Streams/leave",["participant"],function(l,q){var r=b.firstErrorMessage(l,q&&q.errors);if(r){var u=[l,q];e.onError.handle.call(this,r,u);O.leave.onError.handle.call(this,r,u);
return k&&k.call(this,r,u)}r=new da(q.slots.participant);da.get.cache.set([r.publisherId,r.name,r.userId],0,r,[l,r]);k&&k.call(this,l,r||null);A(a,g)},{method:"post",fields:l,baseUrl:q})};O.leave.onError=new b.Event;O.close=function(a,k,l){var q={publisherId:a,name:k};a=b.baseUrl({publisherId:a,streamName:k});b.req("Streams/stream",["result,stream"],function(a,k){var n=b.firstErrorMessage(a,k&&k.errors);if(n){var q=[a,k];e.onError.handle.call(this,n,q);O.close.onError.handle.call(this,n,q);return l&&
l.call(this,n,q)}if(n=k.slots.stream)O.refresh(n.publisherId,n.name,null,{messages:!0,unlessSocket:!0}),O.refresh(g.loggedInUserId(),"Streams/participating",null,{messages:!0,unlessSocket:!0});l&&l.call(this,a,k.slots.result||null)},{method:"delete",fields:q,baseUrl:a})};O.close.onError=new b.Event;e.relate=function(a,e,g,k,l,q){if(!b.plugins.Users.loggedInUser)throw Error("Streams.relate: Not logged in.");g={toPublisherId:a,toStreamName:e,type:g,fromPublisherId:k,fromStreamName:l,"Q.clientId":b.clientId()};
a=b.baseUrl({publisherId:a,streamName:e});b.req("Streams/related",["result"],function(a,e){b.getObject("slots.result.messageFrom",e);b.getObject("slots.result.messageTo",e);q&&q.call(this,a,b.getObject("slots.result",e)||null)},{method:"post",fields:g,baseUrl:a});ha=void 0};e.unrelate=function(a,e,g,k,l,q){if(!b.plugins.Users.loggedInUser)throw Error("Streams.unrelate: Not logged in.");g={toPublisherId:a,toStreamName:e,type:g,fromPublisherId:k,fromStreamName:l,"Q.clientId":b.clientId()};a=b.baseUrl({publisherId:a,
streamName:e});b.req("Streams/related",["result"],function(a,e){q&&q.call(this,a,b.getObject("slots.result",e)||null)},{method:"delete",fields:g,baseUrl:a});ha=void 0};e.updateRelation=function(a,e,g,k,l,q,r,u){if(!b.plugins.Users.loggedInUser)throw Error("Streams.relate: Not logged in.");g={toPublisherId:a,toStreamName:e,type:g,fromPublisherId:k,fromStreamName:l,weight:q,adjustWeights:r,"Q.clientId":b.clientId()};a=b.baseUrl({publisherId:a,streamName:e});b.req("Streams/related",["result"],function(a,
e){b.getObject("slots.result.message",e);u&&u.call(this,a,b.getObject("slots.result",e)||null)},{method:"put",fields:g,baseUrl:a});ha=void 0};e.relate=function(a,e,g,k,l,q){if(!b.plugins.Users.loggedInUser)throw Error("Streams.relate: Not logged in.");g={toPublisherId:a,toStreamName:e,type:g,fromPublisherId:k,fromStreamName:l,"Q.clientId":b.clientId()};a=b.baseUrl({publisherId:a,streamName:e});b.req("Streams/related",["result"],function(a,e){var g=b.firstErrorMessage(a,e&&e.errors);b.getObject("slots.result.messageFrom",
e);b.getObject("slots.result.messageTo",e);q&&q.call(this,g,b.getObject("slots.result",e)||null)},{method:"post",fields:g,baseUrl:a});ha=void 0};e.unrelate=function(a,e,g,k,l,q){if(!b.plugins.Users.loggedInUser)throw Error("Streams.unrelate: Not logged in.");g={toPublisherId:a,toStreamName:e,type:g,fromPublisherId:k,fromStreamName:l,"Q.clientId":b.clientId()};a=b.baseUrl({publisherId:a,streamName:e});b.req("Streams/related",["result"],function(a,e){q&&q.call(this,a,b.getObject("slots.result",e)||
null)},{method:"delete",fields:g,baseUrl:a});ha=void 0};e.updateRelation=function(a,e,g,k,l,q,r,u){if(!b.plugins.Users.loggedInUser)throw Error("Streams.relate: Not logged in.");g={toPublisherId:a,toStreamName:e,type:g,fromPublisherId:k,fromStreamName:l,weight:q,adjustWeights:r,"Q.clientId":b.clientId()};a=b.baseUrl({publisherId:a,streamName:e});b.req("Streams/related",["result"],function(a,e){b.getObject("slots.result.message",e);u&&u.call(this,a,b.getObject("slots.result",e)||null)},{method:"put",
fields:g,baseUrl:a});ha=void 0};var U=e.Message=function(a){b.extend(this,a);this.typename="Q.Streams.Message"};U.construct=function(a){if(b.isEmpty(a))return b.handle(callback,this,["Streams.Stream constructor: empty fields object"]),!1;var g=b.normalize(a.type),k=U.defined[g];k||(k=U.defined[g]=function(a){k.constructors.apply(this,arguments);if(a)for(var e in a)this[e]=b.copy(a[e])});k.messageConstructor||(k.messageConstructor=function(a){k.messageConstructor.constructors.apply(this,arguments);
U.get.cache.set([this.publisherId,this.streamName,parseInt(this.ordinal)],0,this,[null,this])},b.mixin(k,e.Message),b.mixin(k.messageConstructor,k));return new k.messageConstructor(a)};U.latest={};U.defined={};U.define=function(a,e,g){if("object"===typeof a)for(var k in a)b.Tool.define(k,a[k]);else{a=b.normalize(a);if("function"!==typeof e)throw new b.Error("Q.Streams.Message.define requires ctor to be a function");b.mixin(CustomMessageConstructor,U);b.extend(CustomMessageConstructor.prototype,g);
return U.defined[a]=CustomMessageConstructor}};S=U.prototype;S.getAll=function(){try{return JSON.parse(this.instructions)}catch(a){}};S.get=function(a){return this.getAll()[a]};U.get=function(a,g,k,l){var q,r={};"object"===b.typeOf(k)?(q=["messages"],r.min=parseInt(k.min),r.max=parseInt(k.max),r.limit=parseInt(k.limit),"type"in k&&(r.type=k.type),"ascending"in k&&(r.ascending=k.ascending)):(q=["message"],r=parseInt(k));e.batchFunction(b.baseUrl({publisherId:a,streamName:g})).call(this,"message",q,
a,g,r,function(a,g){var n=b.firstErrorMessage(a,g&&g.errors);if(n){var q=[a,g];e.onError.handle.call(this,n,q);U.get.onError.handle.call(this,n,q);return l&&l.call(this,n,q)}var f={};"messages"in g?f=g.messages:"message"in g&&(f[k]=g.message);b.each(f,function(a,e){"Q.Streams.Message"!==b.typeOf(e)&&(e=U.construct(e));f[a]=e});b.isPlainObject(k)?l&&l.call(this,a,f||null):(n=b.first(f),l&&l.call(n,a,n||null))})};U.get.onError=new b.Event;U.post=function(a,g){var k=b.baseUrl({publisherId:a.publisherId,
streamName:a.streamName});a["Q.clientId"]=b.clientId();b.req("Streams/message",[],function(a,k){var l=b.firstErrorMessage(a,k&&k.errors);if(l){var n=[a,k];e.onError.handle.call(this,l,n);U.post.onError.handle.call(this,l,n);return g&&g.call(this,l,n)}g&&g.call(U,a)},{method:"post",fields:a,baseUrl:k})};U.post.onError=new b.Event;U.latestOrdinal=function(a,b,g){var k=0;g&&U.get.cache.each([a,b],function(a,b){!b.params[0]&&0<b.subject.ordinal&&(k=Math.max(k,b.subject.ordinal))});k||e.get.cache.each([a,
b],function(a,b){if(!b.params[0]&&0<b.subject.fields.messageCount)return k=b.subject.fields.messageCount,!1});return parseInt(k)};U.wait=function(a,g,k,l,q){function r(){0>k&&U.get.forget(a,g,{min:z+1,max:k});return U.get(a,g,{min:z+1,max:k},function(f,q){if(f)return b.handle(l,this,[f]);k=parseInt(k);b.each(q,b.queue(function(b,f){U.latest[a+"\t"+g]>=b||e.onEvent("post").handle(f,q)},0),{ascending:!0,numeric:!0});if(0>k||U.get.cache.get([a,g,k]))b.each(A,function(a,b){b[0].remove(b[1])}),u||b.handle(l,
this,[Object.keys(q)]),u=!0})}var u=!1,v,z=U.latestOrdinal(a,g,!0);if(!(z||q&&q.evenIfNotRetained))return!1;if(0<=k&&k<=z)return!0;q=b.extend({},U.wait.options,q);var A={},f=b.nodeUrl({publisherId:a,streamName:g}),f=b.Socket.get("Streams",f);if(!f||0>k||k-q.max>z)return f&&q.unlessSocket?!1:r();setTimeout(r,q.timeout);var C=[],F=new b.Pipe;b.each(z+1,k,1,function(b){C.push(b);var e=O.onMessage(a,g,b);v=e.add(function(){F.fill(b)();e.remove(v);v=null});A[b]=[e,v]});F.add(C,1,function(){u||b.handle(l,
this,[C]);return u=!0}).run();return F};U.wait.options={max:5,timeout:1E3};var ya={};U.shouldRefreshStream=function(a,b){ya[a]=b};var da=e.Participant=function(a){b.extend(this,a);this.typename="Q.Streams.Participant"};da.get=function(a,g,k,l){var q,r={publisherId:a,name:g};"object"===b.typeOf(k)?(q="participants",r.limit=k.limit,r.offset=k.offset,"state"in k&&(r.state=k.state),"userId"in k&&(r.userId=k.userId)):(q="participant",r.userId=k);e.batchFunction(b.baseUrl({publisherId:a,streamName:g})).call(this,
"participant",q,a,g,r,function(q,r){var u={},L=b.firstErrorMessage(q,r&&r.errors);if(L){var f=[q,r];e.onError.handle.call(this,L,f);da.get.onError.handle.call(this,L,f);return l&&l.call(this,L,f)}"participants"in r?u=r.participants:"participant"in r&&(u[k]=r.participant);b.each(u,function(b,e){var f=u[b]=e&&new da(e);da.get.cache.set([a,g,b],0,f,[q,f])});b.isPlainObject(k)?l&&l.call(this,q,u||null):(L=b.first(u),l&&l.call(L,q,L||null))})};da.get.onError=new b.Event;var fa=e.Avatar=function(a){b.extend(this,
a);this.typename="Q.Streams.Avatar"};fa.get=function(a,g){e.batchFunction(b.baseUrl({userId:a}),"avatar").call(this,a,function(k,l){var q=b.firstErrorMessage(k,l&&l.errors);if(q){var r=[k,l];e.onError.handle.call(this,q,r);fa.get.onError.handle.call(this,q,r);return g&&g.call(this,q,r)}q=l.avatar?new fa(l.avatar):null;fa.get.cache.set([a],0,q,[k,q]);g&&g.call(q,null,q)})};fa.get.onError=new b.Event;fa.byPrefix=function(a,k,l){e.batchFunction(b.baseUrl({userId:b.plugins.Users.loggedInUser?g.loggedInUser.id:
""}),"avatar");l=b.take(l,["limit","offset","public"]);b.extend(l,{prefix:a});b.req("Streams/avatar",["avatars"],function(g,l){var q=b.firstErrorMessage(g,l&&l.errors);if(q){var r=[g,l];e.onError.handle.call(this,q,r);fa.byPrefix.onError.handle.call(this,q,r);return k&&k.call(this,q,r)}var u={};b.each(l.slots.avatars,function(a,b){u[a]=b=new fa(b);fa.get.cache.set([a],0,b,[null,b])});fa.byPrefix.cache.set([a],0,this,[null,u]);k&&k.call(this,null,u)},{fields:l})};fa.byPrefix.onError=new b.Event;S=
fa.prototype;S.displayName=function(a){var b=this.firstName,e=this.lastName,g=this.username,k=null,l=null;a&&a["short"]?(k=b||g,l=null):b&&e?(k=b,l=e):b&&!e?(k=b,l=g||null):b||e?(k=g||null,l=null):(k=g,l=e);a&&a.html&&(k=k&&'<span class="Streams_firstName">'+k.encodeHTML()+"</span>",l=l&&'<span class="Streams_lastName">'+l.encodeHTML()+"</span>");return null===k?"":null===l?k:k+" "+l};S.iconUrl=function(a){return b.plugins.Users.iconUrl(this.icon,a)};var ua=e.Interests={add:function(a,e,k){if(!g.loggedInUser)return!1;
a={title:a};k&&(k.subscribe&&(a.subscribe=1),k.publisherId&&(a.publisherId=k.publisherId));b.req("Streams/interest",["publisherId","streamName"],function(a,g){b.handle(e,this,arguments);var k=g&&g.slots;k&&A(k.publisherId,k.streamName)},{method:"post",fields:a})},remove:function(a,e){if(!g.loggedInUser)return!1;b.req("Streams/interest",["publisherId","streamName"],function(a,g){b.handle(e,this,arguments);var k=g&&g.slots;k&&A(k.publisherId,k.streamName)},{method:"delete",fields:{title:a}})},forUser:function(a,
e,g){var k={};a&&(k.userId=a);e&&(k.communityId=e);b.req("Streams/interest","interests",function(a,e){var k;if(k=b.firstErrorMessage(a,e&&e.errors))return g&&g(k);k={};var l=e.slots.interests,n;for(n in l){var q=l[n][2],f=b.normalize(q);k[f]=q}g&&g.call(this,null,k)},{fields:k})},forMe:function(a,e){if(!b.isEmpty(ua.my))return e&&e(null,ua.my);var k=g.loggedInUserId();ua.forUser(k,a,function(a,b){if(a)return e(a);ua.my=b;e(null,b)})},all:{},my:null};e.displayType=function(a){return a.split("/").slice(1).join("/")};
e.setupRegisterForm=function(e,k,l,q){var r=k.entry[0].thumbnailUrl,u="",v="";l.registerInfo&&(l.registerInfo.firstName&&(u=l.registerInfo.firstName),l.registerInfo.lastName&&(v=l.registerInfo.lastName),l.registerInfo.pic&&(r=l.registerInfo.pic));r=a("<img />").attr("src",r).attr("title",b.text.Streams.login.picTooltip);r.tooltip&&r.tooltip();var v=a("<table />").append(a("<tr />").append(a('<td class="Streams_login_picture" />').append(r)).append(u=a('<td class="Streams_login_username_block" />').append(a('<label for="Streams_login_username" />').html(b.text.Streams.login.fullName)).append("<br>").append(a('<input id="Streams_login_username" name="fullName" type="text" class="text" />').attr("maxlength",
b.text.Users.login.maxlengths.fullName).attr("placeholder",b.text.Users.login.placeholders.fullName).val(u+(v?" ":"")+v)))),z=a('<form method="post" class="Users_register_form" />').attr("action",b.action("Streams/register")).data("form-type","register").append(a('<div class="Streams_login_appear" />')),r=a("<button />",{type:"submit","class":"Q_button Q_main_button Streams_login_start "}).html(b.text.Users.login.registerButton).on(b.Pointer.touchclick,function(a){g.submitClosestForm.apply(this,arguments)}).on(b.Pointer.click,
function(a){a.preventDefault()});z.append(v).append(a('<input type="hidden" name="identifier" />').val(e)).append(a('<input type="hidden" name="icon" />')).append(a('<input type="hidden" name="Q.method" />').val("post")).append(a('<div class="Streams_login_get_started">&nbsp;</div>').append(r)).submit(function(){a(this).removeData("cancelSubmit");a("#Users_agree").attr("checked")||(confirm(b.text.Users.login.confirmTerms)?a("#Users_agree").attr("checked","checked"):a(this).data("cancelSubmit",!0))}).on("keydown",
function(b){13===(b.keyCode||b.which)&&(a(this).submit(),b.preventDefault())});l.activation&&z.append(a('<input type="hidden" name="activation" />').val(l.activation));k.termsLabel&&u.append(a("<div />").attr("id","Users_register_terms").append(a('<input type="checkbox" name="agree" id="Users_agree" value="yes">')).append(a('<label for="Users_agree" />').html(k.termsLabel)));var A;b.plugins.Users.facebookApps&&b.plugins.Users.facebookApps[b.info.app]&&b.plugins.Users.initFacebook(function(){if(A=
FB.getAuthResponse())for(var b in A)z.append(a('<input type="hidden" />').attr("name","Users[facebook_authResponse]["+b+"]").attr("value",A[b]))});"facebook"===a("#Streams_login_step1_form").data("used")&&z.append(a('<input type="hidden" name="provider" value="facebook" />'));if(k.emailExists||k.mobileExists)k=a('<p id="Streams_login_identifierExists" />').html(k.emailExists?b.text.Users.login.emailExists:b.text.Users.login.mobileExists),a("a",k).click(function(){a.post(b.ajaxExtend(b.action("Users/resend"),
"data"),"identifier="+encodeURIComponent(e),function(){q.close()});return!1}),z.append(k);return z};O.update=function(a,e,g){if(!a||!e)return!1;var k=a.fields.publisherId,l=a.fields.name,q={},r=[],u;for(u in e)if(!g||e[u]!==a.fields[u]||u in g)b.handle(b.getObject([k,l,u],X),a,[e,u]),b.handle(b.getObject([k,"",u],X),a,[e,u]),b.handle(b.getObject(["",l,u],X),a,[e,u]),q[u]=e[u];g&&b.isEmpty(q)||(b.handle(b.getObject([k,l,""],X),a,[e,q]),b.handle(b.getObject([k,"",""],X),a,[e,q]),b.handle(b.getObject(["",
l,""],X),a,[e,q]));if("attributes"in e&&(!g||e.attributes!=a.fields.attributes)){g=JSON.parse(e.attributes||"{}");var k=a.fields.publisherId,l=a.fields.name,v,q={},r=[];v=a.getAll();for(u in v)u in g||(v={},v[u]=void 0,b.handle(b.getObject([k,l,u],T),a,[e,v,[u]]),q[u]=void 0,r.push(u));for(u in g)JSON.stringify(g[u])!=JSON.stringify(a.get(u))&&(v={},v[u]=g[u],b.handle(b.getObject([k,l,u],T),a,[g,u]),q[u]=g[u]);b.handle(b.getObject([k,l,""],T),a,[g,q,r]);b.handle(b.getObject([k,"",""],T),a,[g,q,r])}b.extend(a.fields,
e);z(a);F(a)};b.Tool.onMissingConstructor.set(function(a,b){"_preview"===b.substr(b.length-8)&&(a[b]="plugins/Streams/js/tools/default/preview.js")},"Streams");b.beforeInit.add(function(){var a=e.cache.where||"document";O.get=e.get=b.getter(e.get,{cache:b.Cache[a]("Streams.get",100),throttle:"Streams.get"});e.getParticipating=b.getter(e.getParticipating,{cache:b.Cache.document("Streams.getParticipating",10)});e.related=b.getter(e.related,{cache:b.Cache[a]("Streams.related",100),throttle:"Streams.related"});
U.get=b.getter(U.get,{cache:b.Cache[a]("Streams.Message.get",1E3),throttle:"Streams.Message.get"});da.get=b.getter(da.get,{cache:b.Cache[a]("Streams.Participant.get",1E3),throttle:"Streams.Participant.get"});fa.get=b.getter(fa.get,{cache:b.Cache[a]("Streams.Avatar.get",1E3),throttle:"Streams.Avatar.get"});fa.byPrefix=b.getter(fa.byPrefix,{cache:b.Cache[a]("Streams.Avatar.byPrefix",100),throttle:"Streams.Avatar.byPrefix"});b.each([e.get,e.getParticipating,e.related],function(){this.onCalled.set(k,
"Streams");this.onResult.set(q,"Streams")})},"Streams");b.onInit.add(function(){function g(){r.registerDevice({alert:!0,badge:!0,sound:!0},function(a){b.req("Users/device","data",function(g){function k(){r.getPendingNotifications(function(a){a.notifications.length&&(a=a.notifications[0],"0"===a.applicationStateActive&&b.handle(e.onActivate,e,[a.data]))})}if(g.errors)return console.log(g.errors[0].message);e.pushNotification={engine:r,status:a};document.addEventListener("push-notification",function(a){a.notification&&
a.notification.aps&&void 0!==a.notification.aps.badge&&r.setApplicationIconBadgeparseInt(a.notification.aps.badge)});document.addEventListener("active",k);k()},{method:"post",fields:{token:a.deviceToken},quiet:!0})})}function k(a){b.each(O.preloaded,function(a,b){e.construct(b,{},null)});O.preloaded=null}var q=b.plugins.Users;q.login.options.setupRegisterForm=e.setupRegisterForm;b.text.Users.login.placeholders.fullName="Enter your full name";b.text.Users.login.maxlengths.fullName=50;q.onLogin.set(function(a){a&&
(ua.my={});K.apply(this,arguments)},"Streams");q.onLogout.set(function(){ua.my={};e.invite.dialog=null;b.Socket.destroyAll()},"Streams");q.loggedInUser&&K();var r=window.plugins&&window.plugins.pushNotification;b.info.isCordova&&r&&!e.pushNotification&&(q.login.options.onSuccess.set(g,"Streams.PushNotifications"),q.logout.options.onSuccess.set(function(){r.setApplicationIconBadgeparseInt(0)},"Streams.PushNotifications"),q.loggedInUser&&g());b.info.isCordova&&(b.addEventListener(document,["resign",
"pause"],P),b.addEventListener(document,"resume",function(){K(!0)}));b.onOnline.set(function(){K(!0)},"Streams");b.Page.onLoad("").add(function(){if(!b.getObject("Q.plugins.Users.loggedInUser.displayName")){var g=b.getObject("Q.plugins.Streams.invite.dialog");g&&e.construct(g.stream,function(){g.stream=this;b.Template.render("Streams/invite/complete",g,function(g,k){var l=a(k),n;b.Dialogs.push({dialog:l,className:"Streams_completeInvited_dialog",mask:!0,noClose:!0,closeOnEsc:!1,beforeClose:function(){n&&
clearInterval(n)},onActivate:{"Streams.completeInvited":function(){e.onInvitedDialog.handle.call(e,[l]);var g=b.text.Users.login;l.find("#Streams_login_username").attr("maxlength",g.maxlengths.fullName).attr("placeholder",g.placeholders.fullName).plugin("Q/placeholders");if(!b.info.isTouchscreen){var f=a("input",l).eq(0);f.plugin("Q/clickfocus");n=setInterval(function(){f.val()||f.plugin("Q/clickfocus")},100)}var k=l.find("form").validator().submit(function(f){f.preventDefault();f=b.baseUrl({publisherId:b.plugins.Users.loggedInUser.id,
streamName:"Streams/user/firstName"});var g="Streams/basic?"+a(this).serialize();b.req(g,["data"],function(f,g){var n=b.firstErrorMessage(f,g&&g.errors);if(g&&g.errors)k.data("validator").invalidate(b.ajaxErrors(g.errors,["fullName"])),a("input",k).eq(0).plugin("Q/clickfocus");else{if(n)return alert(n);k.data("validator").reset();l.data("Q/dialog").close();var n={evenIfNotRetained:!0,unlessSocket:!0},r=new b.Pipe(["first","last"],function(a){b.handle(e.onInviteComplete,g,[a.first[0],a.last[0]])});
O.refresh(q.loggedInUser.id,"Streams/user/firstName",r.fill("first"),n);O.refresh(q.loggedInUser.id,"Streams/user/lastName",r.fill("last"),n)}},{method:"post",quietly:!0,baseUrl:f})}).on("submit keydown",b.debounce(function(a){if("keydown"!==a.type||13===(a.keyCode||a.which))a=l.find("#Streams_login_username").val(),e.onInvitedUserAction.handle.call([a,l])},0));a("button",k).on("touchstart",function(){a(this).submit()})}}})})})}},"Streams");e.onEvent("debug").set(function(a){console.log("DEBUG:",
a)},"Streams");e.onEvent("remove").set(function(a){e.get.cache.each([msg.publisherId,msg.streamName],function(a,b){this.remove(a);z(b.subject)})},"Streams");e.onEvent("join").set(function(a){console.log('Streams.onEvent("join")',a);var b=da.get.cache;if(b){var e=JSON.stringify([a.publisherId,a.streamName,a.userId]);b.set(e,a)}},"Streams");e.onEvent("leave").set(function(a){console.log('Streams.onEvent("leave")',a);da.get.cache.set([a.publisherId,a.streamName,a.userId],0,a,[null,a])});e.onEvent("post").set(function(a,
g){function k(){var l=a.publisherId+"\t"+a.streamName;if(!(U.latest[l]>=parseInt(a.ordinal))){console.log('Streams.onEvent("post")',a);var n="Q.Streams.Message"===b.typeOf(a)?a:U.construct(a);U.latest[l]=parseInt(a.ordinal);e.get.cache.get([a.publisherId,a.streamName]);e.get(a.publisherId,a.streamName,function(f){function k(a,d,e,c){b.each([d.publisherId,""],function(f,g){b.each([d.streamName,""],function(f,k){a[g]&&a[g][k]&&b.handle(a[g][k],e,[d,c])})})}function l(){e.get.cache.each([a.publisherId,
a.streamName],function(a,b){if(b&&!b.params[0]&&b.subject){var e=JSON.parse(a)[2];e&&e.messages&&this.remove(a)}});U.get.cache.each([a.publisherId,a.streamName],function(a,b){var e=JSON.parse(a)[2];e&&e.max&&0>e.max&&this.remove(a)})}function q(b){e.get.cache.each([a.publisherId,a.streamName],function(a,e){var c=e&&!e.params[0]?e.subject:null;c&&("participantCount"in c.fields&&(c.fields.participantCount+=b),(c=JSON.parse(a)[2])&&c.participants&&this.remove(a))});da.get.cache.removeEach([a.publisherId,
a.streamName])}function r(b){e.related.cache.removeEach([a.publisherId,a.streamName])}if(f)console.warn(b.firstErrorMessage(f)),console.log(f);else{var v=[this,n,g];f=b.getter.usingCached;this.fields.messageCount=a.ordinal;J[a.streamType]&&J[a.streamType][a.type]&&b.handle(J[a.streamType][a.type],b.plugins.Streams,v);J[""]&&J[""][a.type]&&b.handle(J[""][a.type],b.plugins.Streams,v);J[a.streamType]&&J[a.streamType][""]&&b.handle(J[a.streamType][""],b.plugins.Streams,v);J[""]&&J[""][""]&&b.handle(J[""][""],
b.plugins.Streams,v);b.each([a.publisherId,""],function(e,d){b.each([a.streamName,""],function(e,c){b.handle(b.getObject([d,c,e],u),b.plugins.Streams,v);b.each([a.type,""],function(a,e){b.handle(b.getObject([d,c,e],u),b.plugins.Streams,v)})})});l();var w=a.instructions&&JSON.parse(a.instructions);switch(a.type){case "Streams/join":q(1);break;case "Streams/leave":q(-1);break;case "Streams/joined":"Streams/participating"===this.fields.name&&(w=b.nodeUrl({publisherId:w.publisherId,streamName:w.streamName}),
b.Socket.onConnect(w).add(function(a){console.log("Listening to stream "+p.publisherId+", "+p.streamName)},"Streams"),b.Socket.connect("Streams",w));break;case "Streams/left":"Streams/participating"===this.fields.name&&(w=b.nodeUrl({publisherId:w.publisherId,streamName:w.streamName}),b.Socket.get("Streams",w));break;case "Streams/changed":O.update(this,w.changes,null);break;case "Streams/progress":O.update(this,w,null);break;case "Streams/relatedFrom":r(w);k(wa,a,this,w);break;case "Streams/relatedTo":r(w);
k(ga,a,this,w);break;case "Streams/unrelatedFrom":r(w);k(ja,a,this,w);break;case "Streams/unrelatedTo":r(w);k(ba,a,this,w);break;case "Streams/updatedRelateFrom":r(w);k(la,a,this,w);break;case "Streams/updatedRelateTo":r(w);k(ea,a,this,w);break;case "Streams/closed":O.update(this,w,null);var z=this.fields,A=b.handle,B=b.getObject;A(B([z.publisherId,z.name],M),this,[w]);A(B([z.publisherId,""],M),this,[w]);A(B(["",z.name],M),this,[w]);A(B(["",""],M),this,[w])}f&&ya[a.type]&&Ea(this.fields.publisherId,
this.fields.name,null,{evenIfNotRetained:!0})}})}}if(!a)throw new b.Error("Q.Streams.onEvent msg is empty");var l=U.latestOrdinal(a.publisherId,a.streamName,!1);parseInt(a.ordinal)<=l||"boolean"===typeof U.wait(a.publisherId,a.streamName,a.ordinal-1,k)&&k()},"Streams");b.beforeActivate.add(k,"Streams");b.loadUrl.options.onResponse.add(k,"Streams");q.onLogin.set(v,"Streams");q.onLogout.set(v,"Streams");b.addEventListener(window,e.refresh.options.duringEvents,e.refresh);l()},"Streams");b.Tool.beforeRemove("").set(function(a){e.release(this)},
"Streams");b.Page.beforeUnload("").set(function(){e.release(!0)},"Stream");b.Template.set("Streams/followup/mobile/alert","The invite was sent from our number, which your friends don't yet recognize. Follow up with a quick text to let them know the invitation came from you, asking them to click the link.");b.Template.set("Streams/followup/mobile","Hey, I just sent you an invite with {{app}}. Please check your sms and click the link!");b.Template.set("Streams/followup/email/alert","");b.Template.set("Streams/followup/email/subject",
"Did you get an invite?");b.Template.set("Streams/followup/email/body","Hey, I just sent you an invite with {{app}}. Please check your email and click the link in there!");l.delay=5E3})(Q,jQuery);if(!window.Q)throw document.getElementsByTagName("body")[0].innerHTML="<h1>Please run Overlay/scripts/Q/install.php --all</h1>","Q is not defined";
var Overlay=function(b,a){var K={userContextual:function(P){var D=a(P).attr("data-action");K.actions[D]&&b.handle(K.actions[D],K,[P])},actions:{logout:b.Users.logout,setIdentifier:b.Users.setIdentifier},onPhotoSelect:function(b,D,z){K.selectedPhoto=D;K.switchToSection(a(".section")[1]);b=z[0].source;a("#background").attr("src",b);b=a("#preview");b.height(b.width()/z[0].width*z[0].height)},switchToSection:function(b){a(".section").addClass("Overlay_compressed").removeClass("Overlay_expandable");a(b).removeClass("Overlay_compressed").prevAll(".section").addClass("Overlay_expandable")},
postImage:function(b){var D=a.extend({},{url:"https://graph.facebook.com/me/photos",type:"POST",cache:!1,success:function(a){debugger;console.log(a)},error:function(){console.error(arguments)},processData:!1,xhr:function(){var b=a.ajaxSettings.xhr();b.send=function(a){a=K.conversions.stringToBinaryArray(a);XMLHttpRequest.prototype.send.call(this,(new Uint8Array(a)).buffer)};return b}},b.call),z="Awesome field separator "+Math.random();D.url+="?access_token="+b.fb.accessToken;D.data=K.composeMultipartData(b.fb,
z);D.contentType="multipart/form-data; boundary="+z;a.ajax(D)},composeMultipartData:function(b,D){var z="";a.each(b,function(a,b){z+="--"+D+"\r\n";b.dataString?(z+="Content-Disposition: form-data; name='"+a+"'; filename='"+b.name+"'\r\n",z+="Content-Type: "+b.type+"\r\n\r\n",z+=b.dataString+"\r\n"):(z+="Content-Disposition: form-data; name='"+a+"';\r\n\r\n",z+=b+"\r\n")});return z+="--"+D+"--"},conversions:{stringToBinaryArray:function(a){return Array.prototype.map.call(a,function(a){return a.charCodeAt(0)&
255})},base64ToString:function(a){return atob(a)}}};b.page("Overlay/welcome",function(){b.Users.login({tryQuietly:!0,onSuccess:b.url("home")})},"Overlay");b.page("Overlay/home",function(){b.Tool.byId("Streams_photoSelector").state.onPhotos.set(function(){this.$("img").tool("Q/clickable").activate()});var P=a("#countries"),D=P.find("option");D.eq(Math.floor(Math.random()*D.length)).attr("selected",!0);P.on("change",function(){a("#foreground").attr("src",a(this).val())}).trigger("change");a("body").on(b.Pointer.fastclick,
".section.Overlay_expandable",!0,function(){K.switchToSection(this)});a("#opacity").on("change",function(){a("#foreground").css("opacity",a(this).val())});a("button").tool("Q/clickable").activate();a("#upload").on(b.Pointer.click,function(){var b=a(this);b.addClass("Q_uploading");var D=a('<canvas width="525" height="525" />').appendTo("body").hide()[0],k=D.getContext("2d"),q=a("#background"),v=a("#foreground");k.drawImage(q[0],0,0,q[0].naturalWidth,q[0].naturalHeight,0,0,525,525);k.globalAlpha=.5;
k.drawImage(v[0],0,0,v[0].naturalWidth,v[0].naturalHeight,0,0,525,525);k.globalAlpha=1;D=D.toDataURL("image/jpeg").replace(/^data:image\/(png|jpe?g);base64,/,"");D=K.conversions.base64ToString(D);K.postImage({fb:{message:"I made this with http://customizemypic.com",accessToken:FB.getAccessToken(),file:{name:"customizemypic.jpg",type:"image/jpeg",dataString:D}},call:{url:"https://graph.facebook.com/me/photos",success:function(a){var k=a.id;FB.ui({method:"share",href:"http://customizemypic.com"},function(a){location.href=
"https://www.facebook.com/photo.php?fbid="+k+"&makeprofile=1"});b.removeClass("Q_uploading")},error:function(){console.warn(arguments)}}})})},"Overlay");b.page("",function(){a("h1").tool("Q/textfill",{refreshOnLayout:!0}).activate(function(b){a(b).animate({opacity:1},300)});a(".Q_clickable").tool("Q/clickable").activate();a(".Overlay_login").on(b.Pointer.click,function(){b.Users.login({onSuccess:b.url("home")});return!1});b.addScript("plugins/Q/js/QTools.js",function(){var z=a("#dashboard .Users_avatar_tool");
z.length&&b.Contextual.add(z,a("#dashboard_user_contextual"))});a("#notices li").on(b.Pointer.fastclick,!0,function(){var z=a(this),D;z.css("min-height",0).slideUp(300,function(){a(this).remove();a("#notices li").length||a("#notices_slot").empty();b.layout()});(D=encodeURIComponent(z.attr("data-key")))&&b.req("Q/notice","data",null,{method:"delete",fields:{key:D}})}).css("cursor","pointer");var K=a(".Q_mobile .videoArea iframe"),D=K.parent().innerWidth();K.css({width:D,height:337*D/600})},"Overlay");
b.Tool.jQuery("Fisheye","js/fn/fisheye.js");b.Tool.define("Overlay/cool","js/tools/cool.js");b.handle.options.loadUsingAjax=!0;b.Pointer.preventRubberBand({direction:"vertical"});b.Pointer.startBlurringOnTouch();b.Users.initFacebook.options.version="v2.5";b.onInit.set(function(){b.Users.login.options=b.extend(b.Users.login.options,{using:"facebook",scope:"email,public_profile,user_photos,publish_actions"});b.info.isMobile?(b.Tool.define.options("Q/columns",{back:{src:"plugins/Q/img/x.png"},scrollbarsAutoHide:!1}),
b.Tool.jQuery.options("Q/clickable",{press:{size:1.5},release:{size:3},onPress:{Groups:function(a,b){this.parents().nextAll(".Groups_badge").removeClass("Groups_show")}}})):(b.Tool.jQuery.options("Q/clickable",{press:{size:.92},release:{size:1.5,opacity:.5},shadow:{opacity:.25,dip:.5},onPress:{Groups:function(a,b){this.parents().nextAll(".Groups_badge").removeClass("Groups_show")}}}),b.Tool.define.options("Q/columns",{scrollbarsAutoHide:!1}))},"Overlay");return K}(Q,jQuery);
